{"ast":null,"code":"import $ from '../../shared/dom7.js';\nimport { extend } from '../../shared/utils.js';\nimport Modal from './modal-class.js';\n\nclass CustomModal extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      backdrop: true,\n      closeByBackdropClick: true,\n      on: {}\n    }, params); // Extends with open/close Modal methods;\n\n    super(app, extendedParams);\n    const customModal = this;\n    customModal.params = extendedParams; // Find Element\n\n    let $el;\n\n    if (!customModal.params.el) {\n      $el = $(customModal.params.content);\n    } else {\n      $el = $(customModal.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return customModal.destroy();\n    }\n\n    let $backdropEl;\n\n    if (customModal.params.backdrop) {\n      $backdropEl = app.$el.children('.custom-modal-backdrop');\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"custom-modal-backdrop\"></div>');\n        app.$el.append($backdropEl);\n      }\n    }\n\n    function handleClick(e) {\n      if (!customModal || customModal.destroyed) return;\n\n      if ($backdropEl && e.target === $backdropEl[0]) {\n        customModal.close();\n      }\n    }\n\n    customModal.on('customModalOpened', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.on('click', handleClick);\n      }\n    });\n    customModal.on('customModalClose', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.off('click', handleClick);\n      }\n    });\n    extend(customModal, {\n      app,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'customModal'\n    });\n    $el[0].f7Modal = customModal;\n    return customModal;\n  }\n\n}\n\nexport default CustomModal;","map":{"version":3,"names":["$","extend","Modal","CustomModal","constructor","app","params","extendedParams","backdrop","closeByBackdropClick","on","customModal","$el","el","content","length","f7Modal","destroy","$backdropEl","children","append","handleClick","e","destroyed","target","close","off","backdropEl","type"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/modal/custom-modal-class.js"],"sourcesContent":["import $ from '../../shared/dom7.js';\nimport { extend } from '../../shared/utils.js';\nimport Modal from './modal-class.js';\n\nclass CustomModal extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      backdrop: true,\n      closeByBackdropClick: true,\n      on: {}\n    }, params); // Extends with open/close Modal methods;\n\n    super(app, extendedParams);\n    const customModal = this;\n    customModal.params = extendedParams; // Find Element\n\n    let $el;\n\n    if (!customModal.params.el) {\n      $el = $(customModal.params.content);\n    } else {\n      $el = $(customModal.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return customModal.destroy();\n    }\n\n    let $backdropEl;\n\n    if (customModal.params.backdrop) {\n      $backdropEl = app.$el.children('.custom-modal-backdrop');\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"custom-modal-backdrop\"></div>');\n        app.$el.append($backdropEl);\n      }\n    }\n\n    function handleClick(e) {\n      if (!customModal || customModal.destroyed) return;\n\n      if ($backdropEl && e.target === $backdropEl[0]) {\n        customModal.close();\n      }\n    }\n\n    customModal.on('customModalOpened', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.on('click', handleClick);\n      }\n    });\n    customModal.on('customModalClose', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.off('click', handleClick);\n      }\n    });\n    extend(customModal, {\n      app,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'customModal'\n    });\n    $el[0].f7Modal = customModal;\n    return customModal;\n  }\n\n}\n\nexport default CustomModal;"],"mappings":"AAAA,OAAOA,CAAP,MAAc,sBAAd;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;;AAEA,MAAMC,WAAN,SAA0BD,KAA1B,CAAgC;EAC9BE,WAAW,CAACC,GAAD,EAAMC,MAAN,EAAc;IACvB,MAAMC,cAAc,GAAGN,MAAM,CAAC;MAC5BO,QAAQ,EAAE,IADkB;MAE5BC,oBAAoB,EAAE,IAFM;MAG5BC,EAAE,EAAE;IAHwB,CAAD,EAI1BJ,MAJ0B,CAA7B,CADuB,CAKX;;IAEZ,MAAMD,GAAN,EAAWE,cAAX;IACA,MAAMI,WAAW,GAAG,IAApB;IACAA,WAAW,CAACL,MAAZ,GAAqBC,cAArB,CATuB,CASc;;IAErC,IAAIK,GAAJ;;IAEA,IAAI,CAACD,WAAW,CAACL,MAAZ,CAAmBO,EAAxB,EAA4B;MAC1BD,GAAG,GAAGZ,CAAC,CAACW,WAAW,CAACL,MAAZ,CAAmBQ,OAApB,CAAP;IACD,CAFD,MAEO;MACLF,GAAG,GAAGZ,CAAC,CAACW,WAAW,CAACL,MAAZ,CAAmBO,EAApB,CAAP;IACD;;IAED,IAAID,GAAG,IAAIA,GAAG,CAACG,MAAJ,GAAa,CAApB,IAAyBH,GAAG,CAAC,CAAD,CAAH,CAAOI,OAApC,EAA6C;MAC3C,OAAOJ,GAAG,CAAC,CAAD,CAAH,CAAOI,OAAd;IACD;;IAED,IAAIJ,GAAG,CAACG,MAAJ,KAAe,CAAnB,EAAsB;MACpB,OAAOJ,WAAW,CAACM,OAAZ,EAAP;IACD;;IAED,IAAIC,WAAJ;;IAEA,IAAIP,WAAW,CAACL,MAAZ,CAAmBE,QAAvB,EAAiC;MAC/BU,WAAW,GAAGb,GAAG,CAACO,GAAJ,CAAQO,QAAR,CAAiB,wBAAjB,CAAd;;MAEA,IAAID,WAAW,CAACH,MAAZ,KAAuB,CAA3B,EAA8B;QAC5BG,WAAW,GAAGlB,CAAC,CAAC,2CAAD,CAAf;QACAK,GAAG,CAACO,GAAJ,CAAQQ,MAAR,CAAeF,WAAf;MACD;IACF;;IAED,SAASG,WAAT,CAAqBC,CAArB,EAAwB;MACtB,IAAI,CAACX,WAAD,IAAgBA,WAAW,CAACY,SAAhC,EAA2C;;MAE3C,IAAIL,WAAW,IAAII,CAAC,CAACE,MAAF,KAAaN,WAAW,CAAC,CAAD,CAA3C,EAAgD;QAC9CP,WAAW,CAACc,KAAZ;MACD;IACF;;IAEDd,WAAW,CAACD,EAAZ,CAAe,mBAAf,EAAoC,MAAM;MACxC,IAAIC,WAAW,CAACL,MAAZ,CAAmBG,oBAAnB,IAA2CE,WAAW,CAACL,MAAZ,CAAmBE,QAAlE,EAA4E;QAC1EH,GAAG,CAACK,EAAJ,CAAO,OAAP,EAAgBW,WAAhB;MACD;IACF,CAJD;IAKAV,WAAW,CAACD,EAAZ,CAAe,kBAAf,EAAmC,MAAM;MACvC,IAAIC,WAAW,CAACL,MAAZ,CAAmBG,oBAAnB,IAA2CE,WAAW,CAACL,MAAZ,CAAmBE,QAAlE,EAA4E;QAC1EH,GAAG,CAACqB,GAAJ,CAAQ,OAAR,EAAiBL,WAAjB;MACD;IACF,CAJD;IAKApB,MAAM,CAACU,WAAD,EAAc;MAClBN,GADkB;MAElBO,GAFkB;MAGlBC,EAAE,EAAED,GAAG,CAAC,CAAD,CAHW;MAIlBM,WAJkB;MAKlBS,UAAU,EAAET,WAAW,IAAIA,WAAW,CAAC,CAAD,CALpB;MAMlBU,IAAI,EAAE;IANY,CAAd,CAAN;IAQAhB,GAAG,CAAC,CAAD,CAAH,CAAOI,OAAP,GAAiBL,WAAjB;IACA,OAAOA,WAAP;EACD;;AAnE6B;;AAuEhC,eAAeR,WAAf"},"metadata":{},"sourceType":"module"}