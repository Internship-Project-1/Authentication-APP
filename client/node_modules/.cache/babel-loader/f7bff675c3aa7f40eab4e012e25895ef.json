{"ast":null,"code":"class EventsClass {\n  constructor(parents) {\n    if (parents === void 0) {\n      parents = [];\n    }\n\n    const self = this;\n    self.eventsParents = parents;\n    self.eventsListeners = {};\n  }\n\n  on(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  }\n\n  once(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.f7proxy) {\n        delete onceHandler.f7proxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.f7proxy = handler;\n    return self.on(events, onceHandler, priority);\n  }\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.f7proxy && eventHandler.f7proxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  }\n\n  emit() {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    let eventsParents;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n      eventsParents = self.eventsParents;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n      eventsParents = args[0].local ? [] : args[0].parents || self.eventsParents;\n    }\n\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    const localEvents = eventsArray.map(eventName => eventName.replace('local::', ''));\n    const parentEvents = eventsArray.filter(eventName => eventName.indexOf('local::') < 0);\n    localEvents.forEach(event => {\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        const handlers = [];\n        self.eventsListeners[event].forEach(eventHandler => {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n\n    if (eventsParents && eventsParents.length > 0) {\n      eventsParents.forEach(eventsParent => {\n        eventsParent.emit(parentEvents, ...data);\n      });\n    }\n\n    return self;\n  }\n\n}\n\nexport default EventsClass;","map":{"version":3,"names":["EventsClass","constructor","parents","self","eventsParents","eventsListeners","on","events","handler","priority","method","split","forEach","event","once","onceHandler","off","f7proxy","_len","arguments","length","args","Array","_key","apply","eventHandler","index","splice","emit","data","context","_len2","_key2","isArray","slice","local","eventsArray","localEvents","map","eventName","replace","parentEvents","filter","indexOf","handlers","push","eventsParent"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/shared/events-class.js"],"sourcesContent":["class EventsClass {\n  constructor(parents) {\n    if (parents === void 0) {\n      parents = [];\n    }\n\n    const self = this;\n    self.eventsParents = parents;\n    self.eventsListeners = {};\n  }\n\n  on(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  }\n\n  once(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.f7proxy) {\n        delete onceHandler.f7proxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.f7proxy = handler;\n    return self.on(events, onceHandler, priority);\n  }\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.f7proxy && eventHandler.f7proxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  }\n\n  emit() {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    let eventsParents;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n      eventsParents = self.eventsParents;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n      eventsParents = args[0].local ? [] : args[0].parents || self.eventsParents;\n    }\n\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    const localEvents = eventsArray.map(eventName => eventName.replace('local::', ''));\n    const parentEvents = eventsArray.filter(eventName => eventName.indexOf('local::') < 0);\n    localEvents.forEach(event => {\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        const handlers = [];\n        self.eventsListeners[event].forEach(eventHandler => {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n\n    if (eventsParents && eventsParents.length > 0) {\n      eventsParents.forEach(eventsParent => {\n        eventsParent.emit(parentEvents, ...data);\n      });\n    }\n\n    return self;\n  }\n\n}\n\nexport default EventsClass;"],"mappings":"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"},"metadata":{},"sourceType":"module"}