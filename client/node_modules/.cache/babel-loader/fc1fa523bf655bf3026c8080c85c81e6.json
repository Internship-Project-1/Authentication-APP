{"ast":null,"code":"import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend, deleteProps } from '../../shared/utils.js';\nimport Framework7Class from '../../shared/class.js';\nconst openedModals = [];\nconst dialogsQueue = [];\n\nfunction clearDialogsQueue() {\n  if (dialogsQueue.length === 0) return;\n  const dialog = dialogsQueue.shift();\n  dialog.open();\n}\n\nclass Modal extends Framework7Class {\n  constructor(app, params) {\n    super(params, [app]);\n    const modal = this;\n    const defaults = {}; // Extend defaults with modules params\n\n    modal.useModulesParams(defaults);\n    modal.params = extend(defaults, params);\n    modal.opened = false;\n    let $containerEl = modal.params.containerEl ? $(modal.params.containerEl).eq(0) : app.$el;\n    if (!$containerEl.length) $containerEl = app.$el;\n    modal.$containerEl = $containerEl;\n    modal.containerEl = $containerEl[0]; // Install Modules\n\n    modal.useModules();\n    return this;\n  }\n\n  onOpen() {\n    const modal = this;\n    modal.opened = true;\n    openedModals.push(modal);\n    $('html').addClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:open ${modal.type.toLowerCase()}:open`);\n    modal.emit(`local::open modalOpen ${modal.type}Open`, modal);\n  }\n\n  onOpened() {\n    const modal = this;\n    modal.$el.trigger(`modal:opened ${modal.type.toLowerCase()}:opened`);\n    modal.emit(`local::opened modalOpened ${modal.type}Opened`, modal);\n  }\n\n  onClose() {\n    const modal = this;\n    modal.opened = false;\n    if (!modal.type || !modal.$el) return;\n    openedModals.splice(openedModals.indexOf(modal), 1);\n    $('html').removeClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:close ${modal.type.toLowerCase()}:close`);\n    modal.emit(`local::close modalClose ${modal.type}Close`, modal);\n  }\n\n  onClosed() {\n    const modal = this;\n    if (!modal.type || !modal.$el) return;\n    modal.$el.removeClass('modal-out');\n    modal.$el.hide();\n\n    if (modal.params.backdrop && (modal.params.backdropUnique || modal.forceBackdropUnique) && modal.$backdropEl) {\n      modal.$backdropEl.remove();\n    }\n\n    modal.$el.trigger(`modal:closed ${modal.type.toLowerCase()}:closed`);\n    modal.emit(`local::closed modalClosed ${modal.type}Closed`, modal);\n  }\n\n  open(animateModal) {\n    const modal = this;\n    const document = getDocument();\n    const app = modal.app;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n    const type = modal.type;\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || $el.hasClass('modal-in')) {\n      if (animateModal === false && $el[0] && type !== 'dialog') {\n        $el[0].style.display = 'block';\n      }\n\n      return modal;\n    }\n\n    if (type === 'dialog' && app.params.modal.queueDialogs) {\n      let pushToQueue;\n\n      if ($('.dialog.modal-in').length > 0) {\n        pushToQueue = true;\n      } else if (openedModals.length > 0) {\n        openedModals.forEach(openedModal => {\n          if (openedModal.type === 'dialog') pushToQueue = true;\n        });\n      }\n\n      if (pushToQueue) {\n        dialogsQueue.push(modal);\n        return modal;\n      }\n    }\n\n    const $modalParentEl = $el.parent();\n    const wasInDom = $el.parents(document).length > 0;\n\n    if (!$modalParentEl.is(modal.$containerEl)) {\n      modal.$containerEl.append($el);\n      modal.once(`${type}Closed`, () => {\n        if (wasInDom) {\n          $modalParentEl.append($el);\n        } else {\n          $el.remove();\n        }\n      });\n    } // Show Modal\n\n\n    $el.show();\n\n    if (modal.params.backdrop && (modal.params.backdropUnique || modal.forceBackdropUnique) && modal.$backdropEl) {\n      modal.$backdropEl.insertBefore($el);\n    }\n    /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n\n\n    modal._clientLeft = $el[0].clientLeft; // Modal\n\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n\n    if (animate) {\n      if ($backdropEl) {\n        $backdropEl.removeClass('not-animated');\n        $backdropEl.addClass('backdrop-in');\n      }\n\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-out not-animated').addClass('modal-in');\n      modal.onOpen();\n    } else {\n      if ($backdropEl) {\n        $backdropEl.addClass('backdrop-in not-animated');\n      }\n\n      $el.removeClass('modal-out').addClass('modal-in not-animated');\n      modal.onOpen();\n      modal.onOpened();\n    }\n\n    return modal;\n  }\n\n  close(animateModal) {\n    const modal = this;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || !$el.hasClass('modal-in')) {\n      if (dialogsQueue.indexOf(modal) >= 0) {\n        dialogsQueue.splice(dialogsQueue.indexOf(modal), 1);\n      }\n\n      return modal;\n    } // backdrop\n\n\n    if ($backdropEl) {\n      let needToHideBackdrop = true;\n\n      if (modal.type === 'popup') {\n        modal.$el.prevAll('.popup.modal-in').add(modal.$el.nextAll('.popup.modal-in')).each(popupEl => {\n          const popupInstance = popupEl.f7Modal;\n          if (!popupInstance) return;\n\n          if (popupInstance.params.closeByBackdropClick && popupInstance.params.backdrop && popupInstance.backdropEl === modal.backdropEl) {\n            needToHideBackdrop = false;\n          }\n        });\n      }\n\n      if (needToHideBackdrop) {\n        $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n        $backdropEl.removeClass('backdrop-in');\n      }\n    } // Modal\n\n\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n\n    if (animate) {\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-in').addClass('modal-out'); // Emit close\n\n      modal.onClose();\n    } else {\n      $el.addClass('not-animated').removeClass('modal-in').addClass('modal-out'); // Emit close\n\n      modal.onClose();\n      modal.onClosed();\n    }\n\n    if (modal.type === 'dialog') {\n      clearDialogsQueue();\n    }\n\n    return modal;\n  }\n\n  destroy() {\n    const modal = this;\n    if (modal.destroyed) return;\n    modal.emit(`local::beforeDestroy modalBeforeDestroy ${modal.type}BeforeDestroy`, modal);\n\n    if (modal.$el) {\n      modal.$el.trigger(`modal:beforedestroy ${modal.type.toLowerCase()}:beforedestroy`);\n\n      if (modal.$el.length && modal.$el[0].f7Modal) {\n        delete modal.$el[0].f7Modal;\n      }\n    }\n\n    deleteProps(modal);\n    modal.destroyed = true;\n  }\n\n}\n\nexport default Modal;","map":{"version":3,"names":["getDocument","$","extend","deleteProps","Framework7Class","openedModals","dialogsQueue","clearDialogsQueue","length","dialog","shift","open","Modal","constructor","app","params","modal","defaults","useModulesParams","opened","$containerEl","containerEl","eq","$el","useModules","onOpen","push","addClass","type","toLowerCase","trigger","emit","onOpened","onClose","splice","indexOf","removeClass","onClosed","hide","backdrop","backdropUnique","forceBackdropUnique","$backdropEl","remove","animateModal","document","animate","hasClass","style","display","queueDialogs","pushToQueue","forEach","openedModal","$modalParentEl","parent","wasInDom","parents","is","append","once","show","insertBefore","_clientLeft","clientLeft","transitionEnd","animationEnd","close","needToHideBackdrop","prevAll","add","nextAll","each","popupEl","popupInstance","f7Modal","closeByBackdropClick","backdropEl","destroy","destroyed"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/modal/modal-class.js"],"sourcesContent":["import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend, deleteProps } from '../../shared/utils.js';\nimport Framework7Class from '../../shared/class.js';\nconst openedModals = [];\nconst dialogsQueue = [];\n\nfunction clearDialogsQueue() {\n  if (dialogsQueue.length === 0) return;\n  const dialog = dialogsQueue.shift();\n  dialog.open();\n}\n\nclass Modal extends Framework7Class {\n  constructor(app, params) {\n    super(params, [app]);\n    const modal = this;\n    const defaults = {}; // Extend defaults with modules params\n\n    modal.useModulesParams(defaults);\n    modal.params = extend(defaults, params);\n    modal.opened = false;\n    let $containerEl = modal.params.containerEl ? $(modal.params.containerEl).eq(0) : app.$el;\n    if (!$containerEl.length) $containerEl = app.$el;\n    modal.$containerEl = $containerEl;\n    modal.containerEl = $containerEl[0]; // Install Modules\n\n    modal.useModules();\n    return this;\n  }\n\n  onOpen() {\n    const modal = this;\n    modal.opened = true;\n    openedModals.push(modal);\n    $('html').addClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:open ${modal.type.toLowerCase()}:open`);\n    modal.emit(`local::open modalOpen ${modal.type}Open`, modal);\n  }\n\n  onOpened() {\n    const modal = this;\n    modal.$el.trigger(`modal:opened ${modal.type.toLowerCase()}:opened`);\n    modal.emit(`local::opened modalOpened ${modal.type}Opened`, modal);\n  }\n\n  onClose() {\n    const modal = this;\n    modal.opened = false;\n    if (!modal.type || !modal.$el) return;\n    openedModals.splice(openedModals.indexOf(modal), 1);\n    $('html').removeClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:close ${modal.type.toLowerCase()}:close`);\n    modal.emit(`local::close modalClose ${modal.type}Close`, modal);\n  }\n\n  onClosed() {\n    const modal = this;\n    if (!modal.type || !modal.$el) return;\n    modal.$el.removeClass('modal-out');\n    modal.$el.hide();\n\n    if (modal.params.backdrop && (modal.params.backdropUnique || modal.forceBackdropUnique) && modal.$backdropEl) {\n      modal.$backdropEl.remove();\n    }\n\n    modal.$el.trigger(`modal:closed ${modal.type.toLowerCase()}:closed`);\n    modal.emit(`local::closed modalClosed ${modal.type}Closed`, modal);\n  }\n\n  open(animateModal) {\n    const modal = this;\n    const document = getDocument();\n    const app = modal.app;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n    const type = modal.type;\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || $el.hasClass('modal-in')) {\n      if (animateModal === false && $el[0] && type !== 'dialog') {\n        $el[0].style.display = 'block';\n      }\n\n      return modal;\n    }\n\n    if (type === 'dialog' && app.params.modal.queueDialogs) {\n      let pushToQueue;\n\n      if ($('.dialog.modal-in').length > 0) {\n        pushToQueue = true;\n      } else if (openedModals.length > 0) {\n        openedModals.forEach(openedModal => {\n          if (openedModal.type === 'dialog') pushToQueue = true;\n        });\n      }\n\n      if (pushToQueue) {\n        dialogsQueue.push(modal);\n        return modal;\n      }\n    }\n\n    const $modalParentEl = $el.parent();\n    const wasInDom = $el.parents(document).length > 0;\n\n    if (!$modalParentEl.is(modal.$containerEl)) {\n      modal.$containerEl.append($el);\n      modal.once(`${type}Closed`, () => {\n        if (wasInDom) {\n          $modalParentEl.append($el);\n        } else {\n          $el.remove();\n        }\n      });\n    } // Show Modal\n\n\n    $el.show();\n\n    if (modal.params.backdrop && (modal.params.backdropUnique || modal.forceBackdropUnique) && modal.$backdropEl) {\n      modal.$backdropEl.insertBefore($el);\n    }\n    /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n\n\n    modal._clientLeft = $el[0].clientLeft; // Modal\n\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n\n    if (animate) {\n      if ($backdropEl) {\n        $backdropEl.removeClass('not-animated');\n        $backdropEl.addClass('backdrop-in');\n      }\n\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-out not-animated').addClass('modal-in');\n      modal.onOpen();\n    } else {\n      if ($backdropEl) {\n        $backdropEl.addClass('backdrop-in not-animated');\n      }\n\n      $el.removeClass('modal-out').addClass('modal-in not-animated');\n      modal.onOpen();\n      modal.onOpened();\n    }\n\n    return modal;\n  }\n\n  close(animateModal) {\n    const modal = this;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || !$el.hasClass('modal-in')) {\n      if (dialogsQueue.indexOf(modal) >= 0) {\n        dialogsQueue.splice(dialogsQueue.indexOf(modal), 1);\n      }\n\n      return modal;\n    } // backdrop\n\n\n    if ($backdropEl) {\n      let needToHideBackdrop = true;\n\n      if (modal.type === 'popup') {\n        modal.$el.prevAll('.popup.modal-in').add(modal.$el.nextAll('.popup.modal-in')).each(popupEl => {\n          const popupInstance = popupEl.f7Modal;\n          if (!popupInstance) return;\n\n          if (popupInstance.params.closeByBackdropClick && popupInstance.params.backdrop && popupInstance.backdropEl === modal.backdropEl) {\n            needToHideBackdrop = false;\n          }\n        });\n      }\n\n      if (needToHideBackdrop) {\n        $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n        $backdropEl.removeClass('backdrop-in');\n      }\n    } // Modal\n\n\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n\n    if (animate) {\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-in').addClass('modal-out'); // Emit close\n\n      modal.onClose();\n    } else {\n      $el.addClass('not-animated').removeClass('modal-in').addClass('modal-out'); // Emit close\n\n      modal.onClose();\n      modal.onClosed();\n    }\n\n    if (modal.type === 'dialog') {\n      clearDialogsQueue();\n    }\n\n    return modal;\n  }\n\n  destroy() {\n    const modal = this;\n    if (modal.destroyed) return;\n    modal.emit(`local::beforeDestroy modalBeforeDestroy ${modal.type}BeforeDestroy`, modal);\n\n    if (modal.$el) {\n      modal.$el.trigger(`modal:beforedestroy ${modal.type.toLowerCase()}:beforedestroy`);\n\n      if (modal.$el.length && modal.$el[0].f7Modal) {\n        delete modal.$el[0].f7Modal;\n      }\n    }\n\n    deleteProps(modal);\n    modal.destroyed = true;\n  }\n\n}\n\nexport default Modal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}