{"ast":null,"code":"import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport Modal from '../modal/modal-class.js';\n\nclass Popover extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      on: {}\n    }, app.params.popover, params); // Extends with open/close Modal methods;\n\n    super(app, extendedParams);\n    const popover = this;\n    const device = getDevice();\n    const window = getWindow();\n    const document = getDocument();\n    popover.params = extendedParams; // Find Element\n\n    let $el;\n\n    if (!popover.params.el) {\n      $el = $(popover.params.content).filter(node => node.nodeType === 1).eq(0);\n    } else {\n      $el = $(popover.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    } // Find Target\n\n\n    const $targetEl = $(popover.params.targetEl).eq(0);\n\n    if ($el.length === 0) {\n      return popover.destroy();\n    } // Backdrop\n\n\n    let $backdropEl;\n    const forceBackdropUnique = popover.params.backdrop && app.$el.find('.popover.modal-in').filter(anotherPopoverEl => anotherPopoverEl !== $el[0]).length > 0;\n\n    if (popover.params.backdrop && popover.params.backdropEl) {\n      $backdropEl = $(popover.params.backdropEl);\n    } else if (popover.params.backdrop) {\n      if (popover.params.backdropUnique || forceBackdropUnique) {\n        $backdropEl = $('<div class=\"popover-backdrop popover-backdrop-unique\"></div>');\n        $backdropEl[0].f7PopoverRef = popover;\n        popover.$containerEl.append($backdropEl);\n      } else {\n        $backdropEl = popover.$containerEl.children('.popover-backdrop');\n      }\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"popover-backdrop\"></div>');\n        popover.$containerEl.append($backdropEl);\n      }\n    } // Find Angle\n\n\n    let $angleEl;\n\n    if ($el.find('.popover-angle').length === 0) {\n      $angleEl = $('<div class=\"popover-angle\"></div>');\n      $el.prepend($angleEl);\n    } else {\n      $angleEl = $el.find('.popover-angle');\n    } // Open\n\n\n    const originalOpen = popover.open;\n    extend(popover, {\n      app,\n      $el,\n      el: $el[0],\n      $targetEl,\n      targetEl: $targetEl[0],\n      $angleEl,\n      angleEl: $angleEl[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'popover',\n      forceBackdropUnique,\n\n      open() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        let [targetEl, animate] = args;\n        if (typeof args[0] === 'boolean') [animate, targetEl] = args;\n\n        if (targetEl) {\n          popover.$targetEl = $(targetEl);\n          popover.targetEl = popover.$targetEl[0];\n        }\n\n        return originalOpen.call(popover, animate);\n      }\n\n    });\n\n    function handleResize() {\n      popover.resize();\n    }\n\n    popover.on('popoverOpen', () => {\n      popover.resize();\n      app.on('resize', handleResize);\n      $(window).on('keyboardDidShow keyboardDidHide', handleResize);\n      popover.on('popoverClose popoverBeforeDestroy', () => {\n        app.off('resize', handleResize);\n        $(window).off('keyboardDidShow keyboardDidHide', handleResize);\n      });\n    });\n    let touchStartTarget = null;\n\n    function handleTouchStart(e) {\n      touchStartTarget = e.target;\n    }\n\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      const keyboardOpened = !device.desktop && device.cordova && (window.Keyboard && window.Keyboard.isVisible || window.cordova.plugins && window.cordova.plugins.Keyboard && window.cordova.plugins.Keyboard.isVisible);\n      if (keyboardOpened) return;\n\n      if ($target.closest(popover.el).length === 0) {\n        if (popover.params.closeByBackdropClick && popover.params.backdrop && popover.backdropEl && popover.backdropEl === target && touchStartTarget === target) {\n          popover.close();\n        } else if (popover.params.closeByOutsideClick && touchStartTarget === target) {\n          const isAnotherPopoverBackdrop = $target.hasClass('popover-backdrop-unique') && target.f7PopoverRef !== popover || $target.hasClass('popover-backdrop') && target !== popover.backdropEl;\n          const isAnotherPopoverTarget = target.closest('.popover') && target.closest('.popover') !== popover.$el[0];\n\n          if (!isAnotherPopoverBackdrop && !isAnotherPopoverTarget) {\n            popover.close();\n          }\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n\n      if (keyCode === 27 && popover.params.closeOnEscape) {\n        popover.close();\n      }\n    }\n\n    if (popover.params.closeOnEscape) {\n      popover.on('popoverOpen', () => {\n        $(document).on('keydown', onKeyDown);\n      });\n      popover.on('popoverClose', () => {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    popover.on('popoverOpened', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.on('touchstart', handleTouchStart);\n        app.on('click', handleClick);\n      }\n    });\n    popover.on('popoverClose', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.off('touchstart', handleTouchStart);\n        app.off('click', handleClick);\n      }\n    });\n    $el[0].f7Modal = popover;\n    return popover;\n  }\n\n  resize() {\n    const popover = this;\n    const {\n      app,\n      $el,\n      $targetEl,\n      $angleEl\n    } = popover;\n    const {\n      targetX,\n      targetY,\n      verticalPosition\n    } = popover.params;\n    $el.css({\n      left: '',\n      top: ''\n    });\n    const [width, height] = [$el.width(), $el.height()];\n    let angleSize = 0;\n    let angleLeft;\n    let angleTop;\n\n    if (app.theme === 'ios' || app.theme === 'aurora') {\n      $angleEl.removeClass('on-left on-right on-top on-bottom').css({\n        left: '',\n        top: ''\n      });\n      angleSize = $angleEl.width() / 2;\n    } else {\n      $el.removeClass('popover-on-left popover-on-right popover-on-top popover-on-bottom popover-on-middle').css({\n        left: '',\n        top: ''\n      });\n    }\n\n    let targetWidth;\n    let targetHeight;\n    let targetOffsetLeft;\n    let targetOffsetTop;\n    let safeAreaTop = parseInt($('html').css('--f7-safe-area-top'), 10);\n    let safeAreaLeft = parseInt($('html').css('--f7-safe-area-left'), 10);\n    let safeAreaRight = parseInt($('html').css('--f7-safe-area-right'), 10);\n    if (Number.isNaN(safeAreaTop)) safeAreaTop = 0;\n    if (Number.isNaN(safeAreaLeft)) safeAreaLeft = 0;\n    if (Number.isNaN(safeAreaRight)) safeAreaRight = 0;\n\n    if ($targetEl && $targetEl.length > 0) {\n      targetWidth = $targetEl.outerWidth();\n      targetHeight = $targetEl.outerHeight();\n      const targetOffset = $targetEl.offset();\n      targetOffsetLeft = targetOffset.left - app.left;\n      targetOffsetTop = targetOffset.top - app.top;\n      const targetParentPage = $targetEl.parents('.page');\n\n      if (targetParentPage.length > 0) {\n        targetOffsetTop -= targetParentPage[0].scrollTop;\n      }\n    } else if (typeof targetX !== 'undefined' && targetY !== 'undefined') {\n      targetOffsetLeft = targetX;\n      targetOffsetTop = targetY;\n      targetWidth = popover.params.targetWidth || 0;\n      targetHeight = popover.params.targetHeight || 0;\n    }\n\n    let [left, top, diff] = [0, 0, 0]; // Top Position\n\n    const forcedPosition = verticalPosition === 'auto' ? false : verticalPosition;\n    let position = forcedPosition || (app.theme === 'md' ? 'bottom' : 'top');\n\n    if (app.theme === 'md') {\n      if (forcedPosition === 'bottom' || !forcedPosition && height < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight;\n      } else if (forcedPosition === 'top' || !forcedPosition && height < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height;\n        position = 'top';\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n      }\n\n      top = Math.max(8, Math.min(top, app.height - height - 8)); // Horizontal Position\n\n      let hPosition;\n\n      if (targetOffsetLeft < app.width / 2) {\n        hPosition = 'right';\n        left = position === 'middle' ? targetOffsetLeft + targetWidth : targetOffsetLeft;\n      } else {\n        hPosition = 'left';\n        left = position === 'middle' ? targetOffsetLeft - width : targetOffsetLeft + targetWidth - width;\n      }\n\n      left = Math.max(8, Math.min(left, app.width - width - 8 - safeAreaRight), safeAreaLeft);\n      $el.addClass(`popover-on-${position} popover-on-${hPosition}`);\n    } else {\n      // ios and aurora\n      if (forcedPosition === 'top' || !forcedPosition && height + angleSize < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height - angleSize;\n      } else if (forcedPosition === 'bottom' || !forcedPosition && height + angleSize < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight + angleSize;\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n        diff = top;\n        top = Math.max(5, Math.min(top, app.height - height - 5));\n        diff -= top;\n      } // Horizontal Position\n\n\n      if (position === 'top' || position === 'bottom') {\n        left = targetWidth / 2 + targetOffsetLeft - width / 2;\n        diff = left;\n        left = Math.max(5, Math.min(left, app.width - width - 5));\n\n        if (safeAreaLeft) {\n          left = Math.max(left, safeAreaLeft);\n        }\n\n        if (safeAreaRight && left + width > app.width - 5 - safeAreaRight) {\n          left = app.width - 5 - safeAreaRight - width;\n        }\n\n        if (position === 'top') {\n          $angleEl.addClass('on-bottom');\n        }\n\n        if (position === 'bottom') {\n          $angleEl.addClass('on-top');\n        }\n\n        diff -= left;\n        angleLeft = width / 2 - angleSize + diff;\n        angleLeft = Math.max(Math.min(angleLeft, width - angleSize * 2 - 13), 13);\n        $angleEl.css({\n          left: `${angleLeft}px`\n        });\n      } else if (position === 'middle') {\n        left = targetOffsetLeft - width - angleSize;\n        $angleEl.addClass('on-right');\n\n        if (left < 5 || left + width + safeAreaRight > app.width || left < safeAreaLeft) {\n          if (left < 5) left = targetOffsetLeft + targetWidth + angleSize;\n          if (left + width + safeAreaRight > app.width) left = app.width - width - 5 - safeAreaRight;\n          if (left < safeAreaLeft) left = safeAreaLeft;\n          $angleEl.removeClass('on-right').addClass('on-left');\n        }\n\n        angleTop = height / 2 - angleSize + diff;\n        angleTop = Math.max(Math.min(angleTop, height - angleSize * 2 - 13), 13);\n        $angleEl.css({\n          top: `${angleTop}px`\n        });\n      }\n    } // Apply Styles\n\n\n    $el.css({\n      top: `${top}px`,\n      left: `${left}px`\n    });\n  }\n\n}\n\nexport default Popover;","map":{"version":3,"names":["getWindow","getDocument","$","extend","getDevice","Modal","Popover","constructor","app","params","extendedParams","on","popover","device","window","document","$el","el","content","filter","node","nodeType","eq","length","f7Modal","$targetEl","targetEl","destroy","$backdropEl","forceBackdropUnique","backdrop","find","anotherPopoverEl","backdropEl","backdropUnique","f7PopoverRef","$containerEl","append","children","$angleEl","prepend","originalOpen","open","angleEl","type","_len","arguments","args","Array","_key","animate","call","handleResize","resize","off","touchStartTarget","handleTouchStart","e","target","handleClick","$target","keyboardOpened","desktop","cordova","Keyboard","isVisible","plugins","closest","closeByBackdropClick","close","closeByOutsideClick","isAnotherPopoverBackdrop","hasClass","isAnotherPopoverTarget","onKeyDown","keyCode","closeOnEscape","targetX","targetY","verticalPosition","css","left","top","width","height","angleSize","angleLeft","angleTop","theme","removeClass","targetWidth","targetHeight","targetOffsetLeft","targetOffsetTop","safeAreaTop","parseInt","safeAreaLeft","safeAreaRight","Number","isNaN","outerWidth","outerHeight","targetOffset","offset","targetParentPage","parents","scrollTop","diff","forcedPosition","position","Math","max","min","hPosition","addClass"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/popover/popover-class.js"],"sourcesContent":["import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport Modal from '../modal/modal-class.js';\n\nclass Popover extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      on: {}\n    }, app.params.popover, params); // Extends with open/close Modal methods;\n\n    super(app, extendedParams);\n    const popover = this;\n    const device = getDevice();\n    const window = getWindow();\n    const document = getDocument();\n    popover.params = extendedParams; // Find Element\n\n    let $el;\n\n    if (!popover.params.el) {\n      $el = $(popover.params.content).filter(node => node.nodeType === 1).eq(0);\n    } else {\n      $el = $(popover.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    } // Find Target\n\n\n    const $targetEl = $(popover.params.targetEl).eq(0);\n\n    if ($el.length === 0) {\n      return popover.destroy();\n    } // Backdrop\n\n\n    let $backdropEl;\n    const forceBackdropUnique = popover.params.backdrop && app.$el.find('.popover.modal-in').filter(anotherPopoverEl => anotherPopoverEl !== $el[0]).length > 0;\n\n    if (popover.params.backdrop && popover.params.backdropEl) {\n      $backdropEl = $(popover.params.backdropEl);\n    } else if (popover.params.backdrop) {\n      if (popover.params.backdropUnique || forceBackdropUnique) {\n        $backdropEl = $('<div class=\"popover-backdrop popover-backdrop-unique\"></div>');\n        $backdropEl[0].f7PopoverRef = popover;\n        popover.$containerEl.append($backdropEl);\n      } else {\n        $backdropEl = popover.$containerEl.children('.popover-backdrop');\n      }\n\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"popover-backdrop\"></div>');\n        popover.$containerEl.append($backdropEl);\n      }\n    } // Find Angle\n\n\n    let $angleEl;\n\n    if ($el.find('.popover-angle').length === 0) {\n      $angleEl = $('<div class=\"popover-angle\"></div>');\n      $el.prepend($angleEl);\n    } else {\n      $angleEl = $el.find('.popover-angle');\n    } // Open\n\n\n    const originalOpen = popover.open;\n    extend(popover, {\n      app,\n      $el,\n      el: $el[0],\n      $targetEl,\n      targetEl: $targetEl[0],\n      $angleEl,\n      angleEl: $angleEl[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'popover',\n      forceBackdropUnique,\n\n      open() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        let [targetEl, animate] = args;\n        if (typeof args[0] === 'boolean') [animate, targetEl] = args;\n\n        if (targetEl) {\n          popover.$targetEl = $(targetEl);\n          popover.targetEl = popover.$targetEl[0];\n        }\n\n        return originalOpen.call(popover, animate);\n      }\n\n    });\n\n    function handleResize() {\n      popover.resize();\n    }\n\n    popover.on('popoverOpen', () => {\n      popover.resize();\n      app.on('resize', handleResize);\n      $(window).on('keyboardDidShow keyboardDidHide', handleResize);\n      popover.on('popoverClose popoverBeforeDestroy', () => {\n        app.off('resize', handleResize);\n        $(window).off('keyboardDidShow keyboardDidHide', handleResize);\n      });\n    });\n    let touchStartTarget = null;\n\n    function handleTouchStart(e) {\n      touchStartTarget = e.target;\n    }\n\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      const keyboardOpened = !device.desktop && device.cordova && (window.Keyboard && window.Keyboard.isVisible || window.cordova.plugins && window.cordova.plugins.Keyboard && window.cordova.plugins.Keyboard.isVisible);\n      if (keyboardOpened) return;\n\n      if ($target.closest(popover.el).length === 0) {\n        if (popover.params.closeByBackdropClick && popover.params.backdrop && popover.backdropEl && popover.backdropEl === target && touchStartTarget === target) {\n          popover.close();\n        } else if (popover.params.closeByOutsideClick && touchStartTarget === target) {\n          const isAnotherPopoverBackdrop = $target.hasClass('popover-backdrop-unique') && target.f7PopoverRef !== popover || $target.hasClass('popover-backdrop') && target !== popover.backdropEl;\n          const isAnotherPopoverTarget = target.closest('.popover') && target.closest('.popover') !== popover.$el[0];\n\n          if (!isAnotherPopoverBackdrop && !isAnotherPopoverTarget) {\n            popover.close();\n          }\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n\n      if (keyCode === 27 && popover.params.closeOnEscape) {\n        popover.close();\n      }\n    }\n\n    if (popover.params.closeOnEscape) {\n      popover.on('popoverOpen', () => {\n        $(document).on('keydown', onKeyDown);\n      });\n      popover.on('popoverClose', () => {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    popover.on('popoverOpened', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.on('touchstart', handleTouchStart);\n        app.on('click', handleClick);\n      }\n    });\n    popover.on('popoverClose', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.off('touchstart', handleTouchStart);\n        app.off('click', handleClick);\n      }\n    });\n    $el[0].f7Modal = popover;\n    return popover;\n  }\n\n  resize() {\n    const popover = this;\n    const {\n      app,\n      $el,\n      $targetEl,\n      $angleEl\n    } = popover;\n    const {\n      targetX,\n      targetY,\n      verticalPosition\n    } = popover.params;\n    $el.css({\n      left: '',\n      top: ''\n    });\n    const [width, height] = [$el.width(), $el.height()];\n    let angleSize = 0;\n    let angleLeft;\n    let angleTop;\n\n    if (app.theme === 'ios' || app.theme === 'aurora') {\n      $angleEl.removeClass('on-left on-right on-top on-bottom').css({\n        left: '',\n        top: ''\n      });\n      angleSize = $angleEl.width() / 2;\n    } else {\n      $el.removeClass('popover-on-left popover-on-right popover-on-top popover-on-bottom popover-on-middle').css({\n        left: '',\n        top: ''\n      });\n    }\n\n    let targetWidth;\n    let targetHeight;\n    let targetOffsetLeft;\n    let targetOffsetTop;\n    let safeAreaTop = parseInt($('html').css('--f7-safe-area-top'), 10);\n    let safeAreaLeft = parseInt($('html').css('--f7-safe-area-left'), 10);\n    let safeAreaRight = parseInt($('html').css('--f7-safe-area-right'), 10);\n    if (Number.isNaN(safeAreaTop)) safeAreaTop = 0;\n    if (Number.isNaN(safeAreaLeft)) safeAreaLeft = 0;\n    if (Number.isNaN(safeAreaRight)) safeAreaRight = 0;\n\n    if ($targetEl && $targetEl.length > 0) {\n      targetWidth = $targetEl.outerWidth();\n      targetHeight = $targetEl.outerHeight();\n      const targetOffset = $targetEl.offset();\n      targetOffsetLeft = targetOffset.left - app.left;\n      targetOffsetTop = targetOffset.top - app.top;\n      const targetParentPage = $targetEl.parents('.page');\n\n      if (targetParentPage.length > 0) {\n        targetOffsetTop -= targetParentPage[0].scrollTop;\n      }\n    } else if (typeof targetX !== 'undefined' && targetY !== 'undefined') {\n      targetOffsetLeft = targetX;\n      targetOffsetTop = targetY;\n      targetWidth = popover.params.targetWidth || 0;\n      targetHeight = popover.params.targetHeight || 0;\n    }\n\n    let [left, top, diff] = [0, 0, 0]; // Top Position\n\n    const forcedPosition = verticalPosition === 'auto' ? false : verticalPosition;\n    let position = forcedPosition || (app.theme === 'md' ? 'bottom' : 'top');\n\n    if (app.theme === 'md') {\n      if (forcedPosition === 'bottom' || !forcedPosition && height < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight;\n      } else if (forcedPosition === 'top' || !forcedPosition && height < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height;\n        position = 'top';\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n      }\n\n      top = Math.max(8, Math.min(top, app.height - height - 8)); // Horizontal Position\n\n      let hPosition;\n\n      if (targetOffsetLeft < app.width / 2) {\n        hPosition = 'right';\n        left = position === 'middle' ? targetOffsetLeft + targetWidth : targetOffsetLeft;\n      } else {\n        hPosition = 'left';\n        left = position === 'middle' ? targetOffsetLeft - width : targetOffsetLeft + targetWidth - width;\n      }\n\n      left = Math.max(8, Math.min(left, app.width - width - 8 - safeAreaRight), safeAreaLeft);\n      $el.addClass(`popover-on-${position} popover-on-${hPosition}`);\n    } else {\n      // ios and aurora\n      if (forcedPosition === 'top' || !forcedPosition && height + angleSize < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height - angleSize;\n      } else if (forcedPosition === 'bottom' || !forcedPosition && height + angleSize < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight + angleSize;\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n        diff = top;\n        top = Math.max(5, Math.min(top, app.height - height - 5));\n        diff -= top;\n      } // Horizontal Position\n\n\n      if (position === 'top' || position === 'bottom') {\n        left = targetWidth / 2 + targetOffsetLeft - width / 2;\n        diff = left;\n        left = Math.max(5, Math.min(left, app.width - width - 5));\n\n        if (safeAreaLeft) {\n          left = Math.max(left, safeAreaLeft);\n        }\n\n        if (safeAreaRight && left + width > app.width - 5 - safeAreaRight) {\n          left = app.width - 5 - safeAreaRight - width;\n        }\n\n        if (position === 'top') {\n          $angleEl.addClass('on-bottom');\n        }\n\n        if (position === 'bottom') {\n          $angleEl.addClass('on-top');\n        }\n\n        diff -= left;\n        angleLeft = width / 2 - angleSize + diff;\n        angleLeft = Math.max(Math.min(angleLeft, width - angleSize * 2 - 13), 13);\n        $angleEl.css({\n          left: `${angleLeft}px`\n        });\n      } else if (position === 'middle') {\n        left = targetOffsetLeft - width - angleSize;\n        $angleEl.addClass('on-right');\n\n        if (left < 5 || left + width + safeAreaRight > app.width || left < safeAreaLeft) {\n          if (left < 5) left = targetOffsetLeft + targetWidth + angleSize;\n          if (left + width + safeAreaRight > app.width) left = app.width - width - 5 - safeAreaRight;\n          if (left < safeAreaLeft) left = safeAreaLeft;\n          $angleEl.removeClass('on-right').addClass('on-left');\n        }\n\n        angleTop = height / 2 - angleSize + diff;\n        angleTop = Math.max(Math.min(angleTop, height - angleSize * 2 - 13), 13);\n        $angleEl.css({\n          top: `${angleTop}px`\n        });\n      }\n    } // Apply Styles\n\n\n    $el.css({\n      top: `${top}px`,\n      left: `${left}px`\n    });\n  }\n\n}\n\nexport default Popover;"],"mappings":"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"},"metadata":{},"sourceType":"module"}