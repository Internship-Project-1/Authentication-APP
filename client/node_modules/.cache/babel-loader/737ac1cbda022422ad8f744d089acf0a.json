{"ast":null,"code":"import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { nextFrame, bindMethods } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\nconst Swipeout = {\n  init() {\n    const app = this;\n    const document = getDocument();\n    const touchesStart = {};\n    let isTouched;\n    let isMoved;\n    let isScrolling;\n    let touchStartTime;\n    let touchesDiff;\n    let $swipeoutEl;\n    let $swipeoutContent;\n    let $actionsRight;\n    let $actionsLeft;\n    let actionsLeftWidth;\n    let actionsRightWidth;\n    let translate;\n    let opened;\n    let openedActionsSide;\n    let $leftButtons;\n    let $rightButtons;\n    let direction;\n    let $overswipeLeftButton;\n    let $overswipeRightButton;\n    let overswipeLeft;\n    let overswipeRight;\n\n    function handleTouchStart(e) {\n      if (!app.swipeout.allow) return;\n      isMoved = false;\n      isTouched = true;\n      isScrolling = undefined;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchStartTime = new Date().getTime();\n      $swipeoutEl = $(this);\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n      }\n\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      if (!isMoved) {\n        if ($('.list.sortable-opened').length > 0) return;\n        $swipeoutContent = $swipeoutEl.find('.swipeout-content');\n        $actionsRight = $swipeoutEl.find('.swipeout-actions-right');\n        $actionsLeft = $swipeoutEl.find('.swipeout-actions-left');\n        actionsLeftWidth = null;\n        actionsRightWidth = null;\n        $leftButtons = null;\n        $rightButtons = null;\n        $overswipeRightButton = null;\n        $overswipeLeftButton = null;\n\n        if ($actionsLeft.length > 0) {\n          actionsLeftWidth = $actionsLeft.outerWidth();\n          $leftButtons = $actionsLeft.children('a');\n          $overswipeLeftButton = $actionsLeft.find('.swipeout-overswipe');\n        }\n\n        if ($actionsRight.length > 0) {\n          actionsRightWidth = $actionsRight.outerWidth();\n          $rightButtons = $actionsRight.children('a');\n          $overswipeRightButton = $actionsRight.find('.swipeout-overswipe');\n        }\n\n        opened = $swipeoutEl.hasClass('swipeout-opened');\n\n        if (opened) {\n          openedActionsSide = $swipeoutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0 ? 'left' : 'right';\n        }\n\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (!app.params.swipeout.noFollow) {\n          $swipeoutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n          $swipeoutEl.removeClass('swipeout-opened');\n        }\n      }\n\n      isMoved = true;\n\n      if (e.cancelable) {\n        e.preventDefault();\n      }\n\n      touchesDiff = pageX - touchesStart.x;\n      translate = touchesDiff;\n\n      if (opened) {\n        if (openedActionsSide === 'right') translate -= actionsRightWidth;else translate += actionsLeftWidth;\n      }\n\n      if (translate > 0 && $actionsLeft.length === 0 || translate < 0 && $actionsRight.length === 0) {\n        if (!opened) {\n          isTouched = false;\n          isMoved = false;\n          $swipeoutContent.transform('');\n\n          if ($rightButtons && $rightButtons.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($leftButtons && $leftButtons.length > 0) {\n            $leftButtons.transform('');\n          }\n\n          return;\n        }\n\n        translate = 0;\n      }\n\n      if (translate < 0) direction = 'to-left';else if (translate > 0) direction = 'to-right';else if (!direction) direction = 'to-left';\n      let buttonOffset;\n      let progress;\n      e.f7PreventSwipePanel = true;\n\n      if (app.params.swipeout.noFollow) {\n        if (opened) {\n          if (openedActionsSide === 'right' && touchesDiff > 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n\n          if (openedActionsSide === 'left' && touchesDiff < 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n        } else {\n          if (touchesDiff < 0 && $actionsRight.length > 0) {\n            app.swipeout.open($swipeoutEl, 'right');\n          }\n\n          if (touchesDiff > 0 && $actionsLeft.length > 0) {\n            app.swipeout.open($swipeoutEl, 'left');\n          }\n        }\n\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      overswipeLeft = false;\n      overswipeRight = false;\n\n      if ($actionsRight.length > 0) {\n        // Show right actions\n        let buttonTranslate = translate;\n        progress = buttonTranslate / actionsRightWidth;\n\n        if (buttonTranslate < -actionsRightWidth) {\n          const ratio = buttonTranslate / -actionsRightWidth;\n          buttonTranslate = -actionsRightWidth - (-buttonTranslate - actionsRightWidth) ** 0.8;\n          translate = buttonTranslate;\n\n          if ($overswipeRightButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeRight = true;\n          }\n        }\n\n        if (direction !== 'to-left') {\n          progress = 0;\n          buttonTranslate = 0;\n        }\n\n        $rightButtons.each(buttonEl => {\n          const $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeRightButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-left') {\n            $buttonEl.css({\n              left: `${overswipeRight ? -buttonOffset : 0}px`\n            });\n\n            if (overswipeRight) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          $buttonEl.transform(`translate3d(${buttonTranslate - buttonOffset * (1 + Math.max(progress, -1))}px,0,0)`);\n        });\n      }\n\n      if ($actionsLeft.length > 0) {\n        // Show left actions\n        let buttonTranslate = translate;\n        progress = buttonTranslate / actionsLeftWidth;\n\n        if (buttonTranslate > actionsLeftWidth) {\n          const ratio = buttonTranslate / actionsRightWidth;\n          buttonTranslate = actionsLeftWidth + (buttonTranslate - actionsLeftWidth) ** 0.8;\n          translate = buttonTranslate;\n\n          if ($overswipeLeftButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeLeft = true;\n          }\n        }\n\n        if (direction !== 'to-right') {\n          buttonTranslate = 0;\n          progress = 0;\n        }\n\n        $leftButtons.each((buttonEl, index) => {\n          const $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeLeftButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-right') {\n            $buttonEl.css({\n              left: `${overswipeLeft ? buttonOffset : 0}px`\n            });\n\n            if (overswipeLeft) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          if ($leftButtons.length > 1) {\n            $buttonEl.css('z-index', $leftButtons.length - index);\n          }\n\n          $buttonEl.transform(`translate3d(${buttonTranslate + buttonOffset * (1 - Math.min(progress, 1))}px,0,0)`);\n        });\n      }\n\n      $swipeoutEl.trigger('swipeout', progress);\n      app.emit('swipeout', $swipeoutEl[0], progress);\n      $swipeoutContent.transform(`translate3d(${translate}px,0,0)`);\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      isTouched = false;\n      isMoved = false;\n      const timeDiff = new Date().getTime() - touchStartTime;\n      const $actions = direction === 'to-left' ? $actionsRight : $actionsLeft;\n      const actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\n      let action;\n      let $buttons;\n      let i;\n\n      if (timeDiff < 300 && (touchesDiff < -10 && direction === 'to-left' || touchesDiff > 10 && direction === 'to-right') || timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2) {\n        action = 'open';\n      } else {\n        action = 'close';\n      }\n\n      if (timeDiff < 300) {\n        if (Math.abs(translate) === 0) action = 'close';\n        if (Math.abs(translate) === actionsWidth) action = 'open';\n      }\n\n      if (action === 'open') {\n        Swipeout.el = $swipeoutEl[0];\n        $swipeoutEl.trigger('swipeout:open');\n        app.emit('swipeoutOpen', $swipeoutEl[0]);\n        $swipeoutEl.addClass('swipeout-opened swipeout-transitioning');\n        const newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\n        $swipeoutContent.transform(`translate3d(${newTranslate}px,0,0)`);\n        $actions.addClass('swipeout-actions-opened');\n        $buttons = direction === 'to-left' ? $rightButtons : $leftButtons;\n\n        if ($buttons) {\n          for (i = 0; i < $buttons.length; i += 1) {\n            $($buttons[i]).transform(`translate3d(${newTranslate}px,0,0)`);\n          }\n        }\n\n        if (overswipeRight) {\n          $actionsRight.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n\n        if (overswipeLeft) {\n          $actionsLeft.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n      } else {\n        $swipeoutEl.trigger('swipeout:close');\n        app.emit('swipeoutClose', $swipeoutEl[0]);\n        Swipeout.el = undefined;\n        $swipeoutEl.addClass('swipeout-transitioning').removeClass('swipeout-opened');\n        $swipeoutContent.transform('');\n        $actions.removeClass('swipeout-actions-opened');\n      }\n\n      let buttonOffset;\n\n      if ($leftButtons && $leftButtons.length > 0 && $leftButtons !== $buttons) {\n        $leftButtons.each(buttonEl => {\n          const $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          $buttonEl.transform(`translate3d(${buttonOffset}px,0,0)`);\n        });\n      }\n\n      if ($rightButtons && $rightButtons.length > 0 && $rightButtons !== $buttons) {\n        $rightButtons.each(buttonEl => {\n          const $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          $buttonEl.transform(`translate3d(${-buttonOffset}px,0,0)`);\n        });\n      }\n\n      $swipeoutContent.transitionEnd(() => {\n        if (opened && action === 'open' || !opened && action === 'close') return;\n        $swipeoutEl.trigger(action === 'open' ? 'swipeout:opened' : 'swipeout:closed');\n        app.emit(action === 'open' ? 'swipeoutOpened' : 'swipeoutClosed', $swipeoutEl[0]);\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (opened && action === 'close') {\n          if ($actionsRight.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($actionsLeft.length > 0) {\n            $leftButtons.transform('');\n          }\n        }\n      });\n    }\n\n    const passiveListener = getSupport().passiveListener ? {\n      passive: true\n    } : false;\n    app.on('touchstart', e => {\n      if (Swipeout.el) {\n        const $targetEl = $(e.target);\n\n        if (!($(Swipeout.el).is($targetEl[0]) || $targetEl.parents('.swipeout').is(Swipeout.el) || $targetEl.hasClass('modal-in') || ($targetEl.attr('class') || '').indexOf('-backdrop') > 0 || $targetEl.hasClass('actions-modal') || $targetEl.parents('.actions-modal.modal-in, .dialog.modal-in').length > 0)) {\n          app.swipeout.close(Swipeout.el);\n        }\n      }\n    });\n    $(document).on(app.touchEvents.start, 'li.swipeout', handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  },\n\n  allow: true,\n  el: undefined,\n\n  open() {\n    const app = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    let [el, side, callback] = args;\n\n    if (typeof args[1] === 'function') {\n      [el, callback, side] = args;\n    }\n\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout') || $el.hasClass('swipeout-opened')) return;\n\n    if (!side) {\n      if ($el.find('.swipeout-actions-right').length > 0) side = 'right';else side = 'left';\n    }\n\n    const $swipeoutActions = $el.find(`.swipeout-actions-${side}`);\n    const $swipeoutContent = $el.find('.swipeout-content');\n    if ($swipeoutActions.length === 0) return;\n    $el.trigger('swipeout:open').addClass('swipeout-opened').removeClass('swipeout-transitioning');\n    app.emit('swipeoutOpen', $el[0]);\n    $swipeoutActions.addClass('swipeout-actions-opened');\n    const $buttons = $swipeoutActions.children('a');\n    const swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    const translate = side === 'right' ? -swipeoutActionsWidth : swipeoutActionsWidth;\n\n    if ($buttons.length > 1) {\n      $buttons.each((buttonEl, buttonIndex) => {\n        const $buttonEl = $(buttonEl);\n\n        if (side === 'right') {\n          $buttonEl.transform(`translate3d(${-buttonEl.offsetLeft}px,0,0)`);\n        } else {\n          $buttonEl.css('z-index', $buttons.length - buttonIndex).transform(`translate3d(${swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft}px,0,0)`);\n        }\n      });\n    }\n\n    $el.addClass('swipeout-transitioning');\n    $swipeoutContent.transitionEnd(() => {\n      $el.trigger('swipeout:opened');\n      app.emit('swipeoutOpened', $el[0]);\n      if (callback) callback.call($el[0]);\n    });\n    nextFrame(() => {\n      $buttons.transform(`translate3d(${translate}px,0,0)`);\n      $swipeoutContent.transform(`translate3d(${translate}px,0,0)`);\n    });\n    Swipeout.el = $el[0];\n  },\n\n  close(el, callback) {\n    const app = this;\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout-opened')) return;\n    const side = $el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right') ? 'right' : 'left';\n    const $swipeoutActions = $el.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n    const $buttons = $swipeoutActions.children('a');\n    const swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    app.swipeout.allow = false;\n    $el.trigger('swipeout:close');\n    app.emit('swipeoutClose', $el[0]);\n    $el.removeClass('swipeout-opened').addClass('swipeout-transitioning');\n    let closeTimeout;\n\n    function onSwipeoutClose() {\n      app.swipeout.allow = true;\n      if ($el.hasClass('swipeout-opened')) return;\n      $el.removeClass('swipeout-transitioning');\n      $buttons.transform('');\n      $el.trigger('swipeout:closed');\n      app.emit('swipeoutClosed', $el[0]);\n      if (callback) callback.call($el[0]);\n      if (closeTimeout) clearTimeout(closeTimeout);\n    }\n\n    $el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\n    closeTimeout = setTimeout(onSwipeoutClose, 500);\n    $buttons.each(buttonEl => {\n      const $buttonEl = $(buttonEl);\n\n      if (side === 'right') {\n        $buttonEl.transform(`translate3d(${-buttonEl.offsetLeft}px,0,0)`);\n      } else {\n        $buttonEl.transform(`translate3d(${swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft}px,0,0)`);\n      }\n\n      $buttonEl.css({\n        left: '0px'\n      }).removeClass('swipeout-overswipe-active');\n    });\n    if (Swipeout.el && Swipeout.el === $el[0]) Swipeout.el = undefined;\n  },\n\n  delete(el, callback) {\n    const app = this;\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    Swipeout.el = undefined;\n    $el.trigger('swipeout:delete');\n    app.emit('swipeoutDelete', $el[0]);\n    $el.css({\n      height: `${$el.outerHeight()}px`\n    });\n    $el.transitionEnd(() => {\n      $el.trigger('swipeout:deleted');\n      app.emit('swipeoutDeleted', $el[0]);\n      if (callback) callback.call($el[0]);\n\n      if ($el.parents('.virtual-list').length > 0) {\n        const virtualList = $el.parents('.virtual-list')[0].f7VirtualList;\n        const virtualIndex = $el[0].f7VirtualListIndex;\n        if (virtualList && typeof virtualIndex !== 'undefined') virtualList.deleteItem(virtualIndex);\n      } else if (app.params.swipeout.removeElements) {\n        if (app.params.swipeout.removeElementsWithTimeout) {\n          setTimeout(() => {\n            $el.remove();\n          }, app.params.swipeout.removeElementsTimeout);\n        } else {\n          $el.remove();\n        }\n      } else {\n        $el.removeClass('swipeout-deleting swipeout-transitioning');\n      }\n    }); // eslint-disable-next-line\n    // $el[0]._clientLeft = $el[0].clientLeft;\n\n    nextFrame(() => {\n      $el.addClass('swipeout-deleting swipeout-transitioning').css({\n        height: '0px'\n      }).find('.swipeout-content').transform('translate3d(-100%,0,0)');\n    });\n  }\n\n};\nexport default {\n  name: 'swipeout',\n  params: {\n    swipeout: {\n      actionsNoFold: false,\n      noFollow: false,\n      removeElements: true,\n      removeElementsWithTimeout: false,\n      removeElementsTimeout: 0,\n      overswipeRatio: 1.2\n    }\n  },\n\n  create() {\n    const app = this;\n    bindMethods(app, {\n      swipeout: Swipeout\n    });\n  },\n\n  clicks: {\n    '.swipeout-open': function openSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      const app = this;\n      app.swipeout.open(data.swipeout, data.side);\n    },\n    '.swipeout-close': function closeSwipeout($clickedEl) {\n      const app = this;\n      const $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      app.swipeout.close($swipeoutEl);\n    },\n    '.swipeout-delete': function deleteSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      const app = this;\n      const $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      const {\n        confirm,\n        confirmTitle\n      } = data;\n\n      if (data.confirm) {\n        app.dialog.confirm(confirm, confirmTitle, () => {\n          app.swipeout.delete($swipeoutEl);\n        });\n      } else {\n        app.swipeout.delete($swipeoutEl);\n      }\n    }\n  },\n  on: {\n    init() {\n      const app = this;\n      if (!app.params.swipeout) return;\n      app.swipeout.init();\n    }\n\n  }\n};","map":{"version":3,"names":["getDocument","$","nextFrame","bindMethods","getSupport","Swipeout","init","app","document","touchesStart","isTouched","isMoved","isScrolling","touchStartTime","touchesDiff","$swipeoutEl","$swipeoutContent","$actionsRight","$actionsLeft","actionsLeftWidth","actionsRightWidth","translate","opened","openedActionsSide","$leftButtons","$rightButtons","direction","$overswipeLeftButton","$overswipeRightButton","overswipeLeft","overswipeRight","handleTouchStart","e","swipeout","allow","undefined","x","type","targetTouches","pageX","y","pageY","Date","getTime","handleTouchMove","Math","abs","length","find","outerWidth","children","hasClass","removeClass","params","noFollow","cancelable","preventDefault","transform","buttonOffset","progress","f7PreventSwipePanel","close","open","buttonTranslate","ratio","overswipeRatio","each","buttonEl","$buttonEl","f7SwipeoutButtonOffset","offsetLeft","css","left","trigger","emit","addClass","max","index","offsetWidth","min","handleTouchEnd","timeDiff","$actions","actionsWidth","action","$buttons","i","el","newTranslate","transitionEnd","passiveListener","passive","on","$targetEl","target","is","parents","attr","indexOf","touchEvents","start","_len","arguments","args","Array","_key","side","callback","$el","eq","$swipeoutActions","swipeoutActionsWidth","buttonIndex","call","closeTimeout","onSwipeoutClose","clearTimeout","setTimeout","delete","height","outerHeight","virtualList","f7VirtualList","virtualIndex","f7VirtualListIndex","deleteItem","removeElements","removeElementsWithTimeout","remove","removeElementsTimeout","name","actionsNoFold","create","clicks","openSwipeout","$clickedEl","data","closeSwipeout","closest","deleteSwipeout","confirm","confirmTitle","dialog"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/swipeout/swipeout.js"],"sourcesContent":["import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { nextFrame, bindMethods } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\nconst Swipeout = {\n  init() {\n    const app = this;\n    const document = getDocument();\n    const touchesStart = {};\n    let isTouched;\n    let isMoved;\n    let isScrolling;\n    let touchStartTime;\n    let touchesDiff;\n    let $swipeoutEl;\n    let $swipeoutContent;\n    let $actionsRight;\n    let $actionsLeft;\n    let actionsLeftWidth;\n    let actionsRightWidth;\n    let translate;\n    let opened;\n    let openedActionsSide;\n    let $leftButtons;\n    let $rightButtons;\n    let direction;\n    let $overswipeLeftButton;\n    let $overswipeRightButton;\n    let overswipeLeft;\n    let overswipeRight;\n\n    function handleTouchStart(e) {\n      if (!app.swipeout.allow) return;\n      isMoved = false;\n      isTouched = true;\n      isScrolling = undefined;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchStartTime = new Date().getTime();\n      $swipeoutEl = $(this);\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n      }\n\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      if (!isMoved) {\n        if ($('.list.sortable-opened').length > 0) return;\n        $swipeoutContent = $swipeoutEl.find('.swipeout-content');\n        $actionsRight = $swipeoutEl.find('.swipeout-actions-right');\n        $actionsLeft = $swipeoutEl.find('.swipeout-actions-left');\n        actionsLeftWidth = null;\n        actionsRightWidth = null;\n        $leftButtons = null;\n        $rightButtons = null;\n        $overswipeRightButton = null;\n        $overswipeLeftButton = null;\n\n        if ($actionsLeft.length > 0) {\n          actionsLeftWidth = $actionsLeft.outerWidth();\n          $leftButtons = $actionsLeft.children('a');\n          $overswipeLeftButton = $actionsLeft.find('.swipeout-overswipe');\n        }\n\n        if ($actionsRight.length > 0) {\n          actionsRightWidth = $actionsRight.outerWidth();\n          $rightButtons = $actionsRight.children('a');\n          $overswipeRightButton = $actionsRight.find('.swipeout-overswipe');\n        }\n\n        opened = $swipeoutEl.hasClass('swipeout-opened');\n\n        if (opened) {\n          openedActionsSide = $swipeoutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0 ? 'left' : 'right';\n        }\n\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (!app.params.swipeout.noFollow) {\n          $swipeoutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n          $swipeoutEl.removeClass('swipeout-opened');\n        }\n      }\n\n      isMoved = true;\n\n      if (e.cancelable) {\n        e.preventDefault();\n      }\n\n      touchesDiff = pageX - touchesStart.x;\n      translate = touchesDiff;\n\n      if (opened) {\n        if (openedActionsSide === 'right') translate -= actionsRightWidth;else translate += actionsLeftWidth;\n      }\n\n      if (translate > 0 && $actionsLeft.length === 0 || translate < 0 && $actionsRight.length === 0) {\n        if (!opened) {\n          isTouched = false;\n          isMoved = false;\n          $swipeoutContent.transform('');\n\n          if ($rightButtons && $rightButtons.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($leftButtons && $leftButtons.length > 0) {\n            $leftButtons.transform('');\n          }\n\n          return;\n        }\n\n        translate = 0;\n      }\n\n      if (translate < 0) direction = 'to-left';else if (translate > 0) direction = 'to-right';else if (!direction) direction = 'to-left';\n      let buttonOffset;\n      let progress;\n      e.f7PreventSwipePanel = true;\n\n      if (app.params.swipeout.noFollow) {\n        if (opened) {\n          if (openedActionsSide === 'right' && touchesDiff > 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n\n          if (openedActionsSide === 'left' && touchesDiff < 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n        } else {\n          if (touchesDiff < 0 && $actionsRight.length > 0) {\n            app.swipeout.open($swipeoutEl, 'right');\n          }\n\n          if (touchesDiff > 0 && $actionsLeft.length > 0) {\n            app.swipeout.open($swipeoutEl, 'left');\n          }\n        }\n\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      overswipeLeft = false;\n      overswipeRight = false;\n\n      if ($actionsRight.length > 0) {\n        // Show right actions\n        let buttonTranslate = translate;\n        progress = buttonTranslate / actionsRightWidth;\n\n        if (buttonTranslate < -actionsRightWidth) {\n          const ratio = buttonTranslate / -actionsRightWidth;\n          buttonTranslate = -actionsRightWidth - (-buttonTranslate - actionsRightWidth) ** 0.8;\n          translate = buttonTranslate;\n\n          if ($overswipeRightButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeRight = true;\n          }\n        }\n\n        if (direction !== 'to-left') {\n          progress = 0;\n          buttonTranslate = 0;\n        }\n\n        $rightButtons.each(buttonEl => {\n          const $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeRightButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-left') {\n            $buttonEl.css({\n              left: `${overswipeRight ? -buttonOffset : 0}px`\n            });\n\n            if (overswipeRight) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          $buttonEl.transform(`translate3d(${buttonTranslate - buttonOffset * (1 + Math.max(progress, -1))}px,0,0)`);\n        });\n      }\n\n      if ($actionsLeft.length > 0) {\n        // Show left actions\n        let buttonTranslate = translate;\n        progress = buttonTranslate / actionsLeftWidth;\n\n        if (buttonTranslate > actionsLeftWidth) {\n          const ratio = buttonTranslate / actionsRightWidth;\n          buttonTranslate = actionsLeftWidth + (buttonTranslate - actionsLeftWidth) ** 0.8;\n          translate = buttonTranslate;\n\n          if ($overswipeLeftButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeLeft = true;\n          }\n        }\n\n        if (direction !== 'to-right') {\n          buttonTranslate = 0;\n          progress = 0;\n        }\n\n        $leftButtons.each((buttonEl, index) => {\n          const $buttonEl = $(buttonEl);\n\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if ($overswipeLeftButton.length > 0 && $buttonEl.hasClass('swipeout-overswipe') && direction === 'to-right') {\n            $buttonEl.css({\n              left: `${overswipeLeft ? buttonOffset : 0}px`\n            });\n\n            if (overswipeLeft) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n\n          if ($leftButtons.length > 1) {\n            $buttonEl.css('z-index', $leftButtons.length - index);\n          }\n\n          $buttonEl.transform(`translate3d(${buttonTranslate + buttonOffset * (1 - Math.min(progress, 1))}px,0,0)`);\n        });\n      }\n\n      $swipeoutEl.trigger('swipeout', progress);\n      app.emit('swipeout', $swipeoutEl[0], progress);\n      $swipeoutContent.transform(`translate3d(${translate}px,0,0)`);\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      isTouched = false;\n      isMoved = false;\n      const timeDiff = new Date().getTime() - touchStartTime;\n      const $actions = direction === 'to-left' ? $actionsRight : $actionsLeft;\n      const actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\n      let action;\n      let $buttons;\n      let i;\n\n      if (timeDiff < 300 && (touchesDiff < -10 && direction === 'to-left' || touchesDiff > 10 && direction === 'to-right') || timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2) {\n        action = 'open';\n      } else {\n        action = 'close';\n      }\n\n      if (timeDiff < 300) {\n        if (Math.abs(translate) === 0) action = 'close';\n        if (Math.abs(translate) === actionsWidth) action = 'open';\n      }\n\n      if (action === 'open') {\n        Swipeout.el = $swipeoutEl[0];\n        $swipeoutEl.trigger('swipeout:open');\n        app.emit('swipeoutOpen', $swipeoutEl[0]);\n        $swipeoutEl.addClass('swipeout-opened swipeout-transitioning');\n        const newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\n        $swipeoutContent.transform(`translate3d(${newTranslate}px,0,0)`);\n        $actions.addClass('swipeout-actions-opened');\n        $buttons = direction === 'to-left' ? $rightButtons : $leftButtons;\n\n        if ($buttons) {\n          for (i = 0; i < $buttons.length; i += 1) {\n            $($buttons[i]).transform(`translate3d(${newTranslate}px,0,0)`);\n          }\n        }\n\n        if (overswipeRight) {\n          $actionsRight.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n\n        if (overswipeLeft) {\n          $actionsLeft.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n      } else {\n        $swipeoutEl.trigger('swipeout:close');\n        app.emit('swipeoutClose', $swipeoutEl[0]);\n        Swipeout.el = undefined;\n        $swipeoutEl.addClass('swipeout-transitioning').removeClass('swipeout-opened');\n        $swipeoutContent.transform('');\n        $actions.removeClass('swipeout-actions-opened');\n      }\n\n      let buttonOffset;\n\n      if ($leftButtons && $leftButtons.length > 0 && $leftButtons !== $buttons) {\n        $leftButtons.each(buttonEl => {\n          const $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n\n          $buttonEl.transform(`translate3d(${buttonOffset}px,0,0)`);\n        });\n      }\n\n      if ($rightButtons && $rightButtons.length > 0 && $rightButtons !== $buttons) {\n        $rightButtons.each(buttonEl => {\n          const $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n\n          $buttonEl.transform(`translate3d(${-buttonOffset}px,0,0)`);\n        });\n      }\n\n      $swipeoutContent.transitionEnd(() => {\n        if (opened && action === 'open' || !opened && action === 'close') return;\n        $swipeoutEl.trigger(action === 'open' ? 'swipeout:opened' : 'swipeout:closed');\n        app.emit(action === 'open' ? 'swipeoutOpened' : 'swipeoutClosed', $swipeoutEl[0]);\n        $swipeoutEl.removeClass('swipeout-transitioning');\n\n        if (opened && action === 'close') {\n          if ($actionsRight.length > 0) {\n            $rightButtons.transform('');\n          }\n\n          if ($actionsLeft.length > 0) {\n            $leftButtons.transform('');\n          }\n        }\n      });\n    }\n\n    const passiveListener = getSupport().passiveListener ? {\n      passive: true\n    } : false;\n    app.on('touchstart', e => {\n      if (Swipeout.el) {\n        const $targetEl = $(e.target);\n\n        if (!($(Swipeout.el).is($targetEl[0]) || $targetEl.parents('.swipeout').is(Swipeout.el) || $targetEl.hasClass('modal-in') || ($targetEl.attr('class') || '').indexOf('-backdrop') > 0 || $targetEl.hasClass('actions-modal') || $targetEl.parents('.actions-modal.modal-in, .dialog.modal-in').length > 0)) {\n          app.swipeout.close(Swipeout.el);\n        }\n      }\n    });\n    $(document).on(app.touchEvents.start, 'li.swipeout', handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  },\n\n  allow: true,\n  el: undefined,\n\n  open() {\n    const app = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    let [el, side, callback] = args;\n\n    if (typeof args[1] === 'function') {\n      [el, callback, side] = args;\n    }\n\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout') || $el.hasClass('swipeout-opened')) return;\n\n    if (!side) {\n      if ($el.find('.swipeout-actions-right').length > 0) side = 'right';else side = 'left';\n    }\n\n    const $swipeoutActions = $el.find(`.swipeout-actions-${side}`);\n    const $swipeoutContent = $el.find('.swipeout-content');\n    if ($swipeoutActions.length === 0) return;\n    $el.trigger('swipeout:open').addClass('swipeout-opened').removeClass('swipeout-transitioning');\n    app.emit('swipeoutOpen', $el[0]);\n    $swipeoutActions.addClass('swipeout-actions-opened');\n    const $buttons = $swipeoutActions.children('a');\n    const swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    const translate = side === 'right' ? -swipeoutActionsWidth : swipeoutActionsWidth;\n\n    if ($buttons.length > 1) {\n      $buttons.each((buttonEl, buttonIndex) => {\n        const $buttonEl = $(buttonEl);\n\n        if (side === 'right') {\n          $buttonEl.transform(`translate3d(${-buttonEl.offsetLeft}px,0,0)`);\n        } else {\n          $buttonEl.css('z-index', $buttons.length - buttonIndex).transform(`translate3d(${swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft}px,0,0)`);\n        }\n      });\n    }\n\n    $el.addClass('swipeout-transitioning');\n    $swipeoutContent.transitionEnd(() => {\n      $el.trigger('swipeout:opened');\n      app.emit('swipeoutOpened', $el[0]);\n      if (callback) callback.call($el[0]);\n    });\n    nextFrame(() => {\n      $buttons.transform(`translate3d(${translate}px,0,0)`);\n      $swipeoutContent.transform(`translate3d(${translate}px,0,0)`);\n    });\n    Swipeout.el = $el[0];\n  },\n\n  close(el, callback) {\n    const app = this;\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout-opened')) return;\n    const side = $el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right') ? 'right' : 'left';\n    const $swipeoutActions = $el.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n    const $buttons = $swipeoutActions.children('a');\n    const swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    app.swipeout.allow = false;\n    $el.trigger('swipeout:close');\n    app.emit('swipeoutClose', $el[0]);\n    $el.removeClass('swipeout-opened').addClass('swipeout-transitioning');\n    let closeTimeout;\n\n    function onSwipeoutClose() {\n      app.swipeout.allow = true;\n      if ($el.hasClass('swipeout-opened')) return;\n      $el.removeClass('swipeout-transitioning');\n      $buttons.transform('');\n      $el.trigger('swipeout:closed');\n      app.emit('swipeoutClosed', $el[0]);\n      if (callback) callback.call($el[0]);\n      if (closeTimeout) clearTimeout(closeTimeout);\n    }\n\n    $el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\n    closeTimeout = setTimeout(onSwipeoutClose, 500);\n    $buttons.each(buttonEl => {\n      const $buttonEl = $(buttonEl);\n\n      if (side === 'right') {\n        $buttonEl.transform(`translate3d(${-buttonEl.offsetLeft}px,0,0)`);\n      } else {\n        $buttonEl.transform(`translate3d(${swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft}px,0,0)`);\n      }\n\n      $buttonEl.css({\n        left: '0px'\n      }).removeClass('swipeout-overswipe-active');\n    });\n    if (Swipeout.el && Swipeout.el === $el[0]) Swipeout.el = undefined;\n  },\n\n  delete(el, callback) {\n    const app = this;\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    Swipeout.el = undefined;\n    $el.trigger('swipeout:delete');\n    app.emit('swipeoutDelete', $el[0]);\n    $el.css({\n      height: `${$el.outerHeight()}px`\n    });\n    $el.transitionEnd(() => {\n      $el.trigger('swipeout:deleted');\n      app.emit('swipeoutDeleted', $el[0]);\n      if (callback) callback.call($el[0]);\n\n      if ($el.parents('.virtual-list').length > 0) {\n        const virtualList = $el.parents('.virtual-list')[0].f7VirtualList;\n        const virtualIndex = $el[0].f7VirtualListIndex;\n        if (virtualList && typeof virtualIndex !== 'undefined') virtualList.deleteItem(virtualIndex);\n      } else if (app.params.swipeout.removeElements) {\n        if (app.params.swipeout.removeElementsWithTimeout) {\n          setTimeout(() => {\n            $el.remove();\n          }, app.params.swipeout.removeElementsTimeout);\n        } else {\n          $el.remove();\n        }\n      } else {\n        $el.removeClass('swipeout-deleting swipeout-transitioning');\n      }\n    }); // eslint-disable-next-line\n    // $el[0]._clientLeft = $el[0].clientLeft;\n\n    nextFrame(() => {\n      $el.addClass('swipeout-deleting swipeout-transitioning').css({\n        height: '0px'\n      }).find('.swipeout-content').transform('translate3d(-100%,0,0)');\n    });\n  }\n\n};\nexport default {\n  name: 'swipeout',\n  params: {\n    swipeout: {\n      actionsNoFold: false,\n      noFollow: false,\n      removeElements: true,\n      removeElementsWithTimeout: false,\n      removeElementsTimeout: 0,\n      overswipeRatio: 1.2\n    }\n  },\n\n  create() {\n    const app = this;\n    bindMethods(app, {\n      swipeout: Swipeout\n    });\n  },\n\n  clicks: {\n    '.swipeout-open': function openSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      const app = this;\n      app.swipeout.open(data.swipeout, data.side);\n    },\n    '.swipeout-close': function closeSwipeout($clickedEl) {\n      const app = this;\n      const $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      app.swipeout.close($swipeoutEl);\n    },\n    '.swipeout-delete': function deleteSwipeout($clickedEl, data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      const app = this;\n      const $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      const {\n        confirm,\n        confirmTitle\n      } = data;\n\n      if (data.confirm) {\n        app.dialog.confirm(confirm, confirmTitle, () => {\n          app.swipeout.delete($swipeoutEl);\n        });\n      } else {\n        app.swipeout.delete($swipeoutEl);\n      }\n    }\n  },\n  on: {\n    init() {\n      const app = this;\n      if (!app.params.swipeout) return;\n      app.swipeout.init();\n    }\n\n  }\n};"],"mappings":"AAAA,SAASA,WAAT,QAA4B,YAA5B;AACA,OAAOC,CAAP,MAAc,sBAAd;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,uBAAvC;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,MAAMC,QAAQ,GAAG;EACfC,IAAI,GAAG;IACL,MAAMC,GAAG,GAAG,IAAZ;IACA,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;IACA,MAAMS,YAAY,GAAG,EAArB;IACA,IAAIC,SAAJ;IACA,IAAIC,OAAJ;IACA,IAAIC,WAAJ;IACA,IAAIC,cAAJ;IACA,IAAIC,WAAJ;IACA,IAAIC,WAAJ;IACA,IAAIC,gBAAJ;IACA,IAAIC,aAAJ;IACA,IAAIC,YAAJ;IACA,IAAIC,gBAAJ;IACA,IAAIC,iBAAJ;IACA,IAAIC,SAAJ;IACA,IAAIC,MAAJ;IACA,IAAIC,iBAAJ;IACA,IAAIC,YAAJ;IACA,IAAIC,aAAJ;IACA,IAAIC,SAAJ;IACA,IAAIC,oBAAJ;IACA,IAAIC,qBAAJ;IACA,IAAIC,aAAJ;IACA,IAAIC,cAAJ;;IAEA,SAASC,gBAAT,CAA0BC,CAA1B,EAA6B;MAC3B,IAAI,CAACzB,GAAG,CAAC0B,QAAJ,CAAaC,KAAlB,EAAyB;MACzBvB,OAAO,GAAG,KAAV;MACAD,SAAS,GAAG,IAAZ;MACAE,WAAW,GAAGuB,SAAd;MACA1B,YAAY,CAAC2B,CAAb,GAAiBJ,CAAC,CAACK,IAAF,KAAW,YAAX,GAA0BL,CAAC,CAACM,aAAF,CAAgB,CAAhB,EAAmBC,KAA7C,GAAqDP,CAAC,CAACO,KAAxE;MACA9B,YAAY,CAAC+B,CAAb,GAAiBR,CAAC,CAACK,IAAF,KAAW,YAAX,GAA0BL,CAAC,CAACM,aAAF,CAAgB,CAAhB,EAAmBG,KAA7C,GAAqDT,CAAC,CAACS,KAAxE;MACA5B,cAAc,GAAG,IAAI6B,IAAJ,GAAWC,OAAX,EAAjB;MACA5B,WAAW,GAAGd,CAAC,CAAC,IAAD,CAAf;IACD;;IAED,SAAS2C,eAAT,CAAyBZ,CAAzB,EAA4B;MAC1B,IAAI,CAACtB,SAAL,EAAgB;MAChB,MAAM6B,KAAK,GAAGP,CAAC,CAACK,IAAF,KAAW,WAAX,GAAyBL,CAAC,CAACM,aAAF,CAAgB,CAAhB,EAAmBC,KAA5C,GAAoDP,CAAC,CAACO,KAApE;MACA,MAAME,KAAK,GAAGT,CAAC,CAACK,IAAF,KAAW,WAAX,GAAyBL,CAAC,CAACM,aAAF,CAAgB,CAAhB,EAAmBG,KAA5C,GAAoDT,CAAC,CAACS,KAApE;;MAEA,IAAI,OAAO7B,WAAP,KAAuB,WAA3B,EAAwC;QACtCA,WAAW,GAAG,CAAC,EAAEA,WAAW,IAAIiC,IAAI,CAACC,GAAL,CAASL,KAAK,GAAGhC,YAAY,CAAC+B,CAA9B,IAAmCK,IAAI,CAACC,GAAL,CAASP,KAAK,GAAG9B,YAAY,CAAC2B,CAA9B,CAApD,CAAf;MACD;;MAED,IAAIxB,WAAJ,EAAiB;QACfF,SAAS,GAAG,KAAZ;QACA;MACD;;MAED,IAAI,CAACC,OAAL,EAAc;QACZ,IAAIV,CAAC,CAAC,uBAAD,CAAD,CAA2B8C,MAA3B,GAAoC,CAAxC,EAA2C;QAC3C/B,gBAAgB,GAAGD,WAAW,CAACiC,IAAZ,CAAiB,mBAAjB,CAAnB;QACA/B,aAAa,GAAGF,WAAW,CAACiC,IAAZ,CAAiB,yBAAjB,CAAhB;QACA9B,YAAY,GAAGH,WAAW,CAACiC,IAAZ,CAAiB,wBAAjB,CAAf;QACA7B,gBAAgB,GAAG,IAAnB;QACAC,iBAAiB,GAAG,IAApB;QACAI,YAAY,GAAG,IAAf;QACAC,aAAa,GAAG,IAAhB;QACAG,qBAAqB,GAAG,IAAxB;QACAD,oBAAoB,GAAG,IAAvB;;QAEA,IAAIT,YAAY,CAAC6B,MAAb,GAAsB,CAA1B,EAA6B;UAC3B5B,gBAAgB,GAAGD,YAAY,CAAC+B,UAAb,EAAnB;UACAzB,YAAY,GAAGN,YAAY,CAACgC,QAAb,CAAsB,GAAtB,CAAf;UACAvB,oBAAoB,GAAGT,YAAY,CAAC8B,IAAb,CAAkB,qBAAlB,CAAvB;QACD;;QAED,IAAI/B,aAAa,CAAC8B,MAAd,GAAuB,CAA3B,EAA8B;UAC5B3B,iBAAiB,GAAGH,aAAa,CAACgC,UAAd,EAApB;UACAxB,aAAa,GAAGR,aAAa,CAACiC,QAAd,CAAuB,GAAvB,CAAhB;UACAtB,qBAAqB,GAAGX,aAAa,CAAC+B,IAAd,CAAmB,qBAAnB,CAAxB;QACD;;QAED1B,MAAM,GAAGP,WAAW,CAACoC,QAAZ,CAAqB,iBAArB,CAAT;;QAEA,IAAI7B,MAAJ,EAAY;UACVC,iBAAiB,GAAGR,WAAW,CAACiC,IAAZ,CAAiB,gDAAjB,EAAmED,MAAnE,GAA4E,CAA5E,GAAgF,MAAhF,GAAyF,OAA7G;QACD;;QAEDhC,WAAW,CAACqC,WAAZ,CAAwB,wBAAxB;;QAEA,IAAI,CAAC7C,GAAG,CAAC8C,MAAJ,CAAWpB,QAAX,CAAoBqB,QAAzB,EAAmC;UACjCvC,WAAW,CAACiC,IAAZ,CAAiB,0BAAjB,EAA6CI,WAA7C,CAAyD,yBAAzD;UACArC,WAAW,CAACqC,WAAZ,CAAwB,iBAAxB;QACD;MACF;;MAEDzC,OAAO,GAAG,IAAV;;MAEA,IAAIqB,CAAC,CAACuB,UAAN,EAAkB;QAChBvB,CAAC,CAACwB,cAAF;MACD;;MAED1C,WAAW,GAAGyB,KAAK,GAAG9B,YAAY,CAAC2B,CAAnC;MACAf,SAAS,GAAGP,WAAZ;;MAEA,IAAIQ,MAAJ,EAAY;QACV,IAAIC,iBAAiB,KAAK,OAA1B,EAAmCF,SAAS,IAAID,iBAAb,CAAnC,KAAuEC,SAAS,IAAIF,gBAAb;MACxE;;MAED,IAAIE,SAAS,GAAG,CAAZ,IAAiBH,YAAY,CAAC6B,MAAb,KAAwB,CAAzC,IAA8C1B,SAAS,GAAG,CAAZ,IAAiBJ,aAAa,CAAC8B,MAAd,KAAyB,CAA5F,EAA+F;QAC7F,IAAI,CAACzB,MAAL,EAAa;UACXZ,SAAS,GAAG,KAAZ;UACAC,OAAO,GAAG,KAAV;UACAK,gBAAgB,CAACyC,SAAjB,CAA2B,EAA3B;;UAEA,IAAIhC,aAAa,IAAIA,aAAa,CAACsB,MAAd,GAAuB,CAA5C,EAA+C;YAC7CtB,aAAa,CAACgC,SAAd,CAAwB,EAAxB;UACD;;UAED,IAAIjC,YAAY,IAAIA,YAAY,CAACuB,MAAb,GAAsB,CAA1C,EAA6C;YAC3CvB,YAAY,CAACiC,SAAb,CAAuB,EAAvB;UACD;;UAED;QACD;;QAEDpC,SAAS,GAAG,CAAZ;MACD;;MAED,IAAIA,SAAS,GAAG,CAAhB,EAAmBK,SAAS,GAAG,SAAZ,CAAnB,KAA8C,IAAIL,SAAS,GAAG,CAAhB,EAAmBK,SAAS,GAAG,UAAZ,CAAnB,KAA+C,IAAI,CAACA,SAAL,EAAgBA,SAAS,GAAG,SAAZ;MAC7G,IAAIgC,YAAJ;MACA,IAAIC,QAAJ;MACA3B,CAAC,CAAC4B,mBAAF,GAAwB,IAAxB;;MAEA,IAAIrD,GAAG,CAAC8C,MAAJ,CAAWpB,QAAX,CAAoBqB,QAAxB,EAAkC;QAChC,IAAIhC,MAAJ,EAAY;UACV,IAAIC,iBAAiB,KAAK,OAAtB,IAAiCT,WAAW,GAAG,CAAnD,EAAsD;YACpDP,GAAG,CAAC0B,QAAJ,CAAa4B,KAAb,CAAmB9C,WAAnB;UACD;;UAED,IAAIQ,iBAAiB,KAAK,MAAtB,IAAgCT,WAAW,GAAG,CAAlD,EAAqD;YACnDP,GAAG,CAAC0B,QAAJ,CAAa4B,KAAb,CAAmB9C,WAAnB;UACD;QACF,CARD,MAQO;UACL,IAAID,WAAW,GAAG,CAAd,IAAmBG,aAAa,CAAC8B,MAAd,GAAuB,CAA9C,EAAiD;YAC/CxC,GAAG,CAAC0B,QAAJ,CAAa6B,IAAb,CAAkB/C,WAAlB,EAA+B,OAA/B;UACD;;UAED,IAAID,WAAW,GAAG,CAAd,IAAmBI,YAAY,CAAC6B,MAAb,GAAsB,CAA7C,EAAgD;YAC9CxC,GAAG,CAAC0B,QAAJ,CAAa6B,IAAb,CAAkB/C,WAAlB,EAA+B,MAA/B;UACD;QACF;;QAEDL,SAAS,GAAG,KAAZ;QACAC,OAAO,GAAG,KAAV;QACA;MACD;;MAEDkB,aAAa,GAAG,KAAhB;MACAC,cAAc,GAAG,KAAjB;;MAEA,IAAIb,aAAa,CAAC8B,MAAd,GAAuB,CAA3B,EAA8B;QAC5B;QACA,IAAIgB,eAAe,GAAG1C,SAAtB;QACAsC,QAAQ,GAAGI,eAAe,GAAG3C,iBAA7B;;QAEA,IAAI2C,eAAe,GAAG,CAAC3C,iBAAvB,EAA0C;UACxC,MAAM4C,KAAK,GAAGD,eAAe,GAAG,CAAC3C,iBAAjC;UACA2C,eAAe,GAAG,CAAC3C,iBAAD,GAAqB,CAAC,CAAC2C,eAAD,GAAmB3C,iBAApB,KAA0C,GAAjF;UACAC,SAAS,GAAG0C,eAAZ;;UAEA,IAAInC,qBAAqB,CAACmB,MAAtB,GAA+B,CAA/B,IAAoCiB,KAAK,GAAGzD,GAAG,CAAC8C,MAAJ,CAAWpB,QAAX,CAAoBgC,cAApE,EAAoF;YAClFnC,cAAc,GAAG,IAAjB;UACD;QACF;;QAED,IAAIJ,SAAS,KAAK,SAAlB,EAA6B;UAC3BiC,QAAQ,GAAG,CAAX;UACAI,eAAe,GAAG,CAAlB;QACD;;QAEDtC,aAAa,CAACyC,IAAd,CAAmBC,QAAQ,IAAI;UAC7B,MAAMC,SAAS,GAAGnE,CAAC,CAACkE,QAAD,CAAnB;;UAEA,IAAI,OAAOA,QAAQ,CAACE,sBAAhB,KAA2C,WAA/C,EAA4D;YAC1DD,SAAS,CAAC,CAAD,CAAT,CAAaC,sBAAb,GAAsCF,QAAQ,CAACG,UAA/C;UACD;;UAEDZ,YAAY,GAAGS,QAAQ,CAACE,sBAAxB;;UAEA,IAAIzC,qBAAqB,CAACmB,MAAtB,GAA+B,CAA/B,IAAoCqB,SAAS,CAACjB,QAAV,CAAmB,oBAAnB,CAApC,IAAgFzB,SAAS,KAAK,SAAlG,EAA6G;YAC3G0C,SAAS,CAACG,GAAV,CAAc;cACZC,IAAI,EAAG,GAAE1C,cAAc,GAAG,CAAC4B,YAAJ,GAAmB,CAAE;YADhC,CAAd;;YAIA,IAAI5B,cAAJ,EAAoB;cAClB,IAAI,CAACsC,SAAS,CAACjB,QAAV,CAAmB,2BAAnB,CAAL,EAAsD;gBACpDpC,WAAW,CAAC0D,OAAZ,CAAoB,yBAApB;gBACAlE,GAAG,CAACmE,IAAJ,CAAS,wBAAT,EAAmC3D,WAAW,CAAC,CAAD,CAA9C;cACD;;cAEDqD,SAAS,CAACO,QAAV,CAAmB,2BAAnB;YACD,CAPD,MAOO;cACL,IAAIP,SAAS,CAACjB,QAAV,CAAmB,2BAAnB,CAAJ,EAAqD;gBACnDpC,WAAW,CAAC0D,OAAZ,CAAoB,wBAApB;gBACAlE,GAAG,CAACmE,IAAJ,CAAS,uBAAT,EAAkC3D,WAAW,CAAC,CAAD,CAA7C;cACD;;cAEDqD,SAAS,CAAChB,WAAV,CAAsB,2BAAtB;YACD;UACF;;UAEDgB,SAAS,CAACX,SAAV,CAAqB,eAAcM,eAAe,GAAGL,YAAY,IAAI,IAAIb,IAAI,CAAC+B,GAAL,CAASjB,QAAT,EAAmB,CAAC,CAApB,CAAR,CAAgC,SAAjG;QACD,CAhCD;MAiCD;;MAED,IAAIzC,YAAY,CAAC6B,MAAb,GAAsB,CAA1B,EAA6B;QAC3B;QACA,IAAIgB,eAAe,GAAG1C,SAAtB;QACAsC,QAAQ,GAAGI,eAAe,GAAG5C,gBAA7B;;QAEA,IAAI4C,eAAe,GAAG5C,gBAAtB,EAAwC;UACtC,MAAM6C,KAAK,GAAGD,eAAe,GAAG3C,iBAAhC;UACA2C,eAAe,GAAG5C,gBAAgB,GAAG,CAAC4C,eAAe,GAAG5C,gBAAnB,KAAwC,GAA7E;UACAE,SAAS,GAAG0C,eAAZ;;UAEA,IAAIpC,oBAAoB,CAACoB,MAArB,GAA8B,CAA9B,IAAmCiB,KAAK,GAAGzD,GAAG,CAAC8C,MAAJ,CAAWpB,QAAX,CAAoBgC,cAAnE,EAAmF;YACjFpC,aAAa,GAAG,IAAhB;UACD;QACF;;QAED,IAAIH,SAAS,KAAK,UAAlB,EAA8B;UAC5BqC,eAAe,GAAG,CAAlB;UACAJ,QAAQ,GAAG,CAAX;QACD;;QAEDnC,YAAY,CAAC0C,IAAb,CAAkB,CAACC,QAAD,EAAWU,KAAX,KAAqB;UACrC,MAAMT,SAAS,GAAGnE,CAAC,CAACkE,QAAD,CAAnB;;UAEA,IAAI,OAAOA,QAAQ,CAACE,sBAAhB,KAA2C,WAA/C,EAA4D;YAC1DD,SAAS,CAAC,CAAD,CAAT,CAAaC,sBAAb,GAAsClD,gBAAgB,GAAGgD,QAAQ,CAACG,UAA5B,GAAyCH,QAAQ,CAACW,WAAxF;UACD;;UAEDpB,YAAY,GAAGS,QAAQ,CAACE,sBAAxB;;UAEA,IAAI1C,oBAAoB,CAACoB,MAArB,GAA8B,CAA9B,IAAmCqB,SAAS,CAACjB,QAAV,CAAmB,oBAAnB,CAAnC,IAA+EzB,SAAS,KAAK,UAAjG,EAA6G;YAC3G0C,SAAS,CAACG,GAAV,CAAc;cACZC,IAAI,EAAG,GAAE3C,aAAa,GAAG6B,YAAH,GAAkB,CAAE;YAD9B,CAAd;;YAIA,IAAI7B,aAAJ,EAAmB;cACjB,IAAI,CAACuC,SAAS,CAACjB,QAAV,CAAmB,2BAAnB,CAAL,EAAsD;gBACpDpC,WAAW,CAAC0D,OAAZ,CAAoB,yBAApB;gBACAlE,GAAG,CAACmE,IAAJ,CAAS,wBAAT,EAAmC3D,WAAW,CAAC,CAAD,CAA9C;cACD;;cAEDqD,SAAS,CAACO,QAAV,CAAmB,2BAAnB;YACD,CAPD,MAOO;cACL,IAAIP,SAAS,CAACjB,QAAV,CAAmB,2BAAnB,CAAJ,EAAqD;gBACnDpC,WAAW,CAAC0D,OAAZ,CAAoB,wBAApB;gBACAlE,GAAG,CAACmE,IAAJ,CAAS,uBAAT,EAAkC3D,WAAW,CAAC,CAAD,CAA7C;cACD;;cAEDqD,SAAS,CAAChB,WAAV,CAAsB,2BAAtB;YACD;UACF;;UAED,IAAI5B,YAAY,CAACuB,MAAb,GAAsB,CAA1B,EAA6B;YAC3BqB,SAAS,CAACG,GAAV,CAAc,SAAd,EAAyB/C,YAAY,CAACuB,MAAb,GAAsB8B,KAA/C;UACD;;UAEDT,SAAS,CAACX,SAAV,CAAqB,eAAcM,eAAe,GAAGL,YAAY,IAAI,IAAIb,IAAI,CAACkC,GAAL,CAASpB,QAAT,EAAmB,CAAnB,CAAR,CAA+B,SAAhG;QACD,CApCD;MAqCD;;MAED5C,WAAW,CAAC0D,OAAZ,CAAoB,UAApB,EAAgCd,QAAhC;MACApD,GAAG,CAACmE,IAAJ,CAAS,UAAT,EAAqB3D,WAAW,CAAC,CAAD,CAAhC,EAAqC4C,QAArC;MACA3C,gBAAgB,CAACyC,SAAjB,CAA4B,eAAcpC,SAAU,SAApD;IACD;;IAED,SAAS2D,cAAT,GAA0B;MACxB,IAAI,CAACtE,SAAD,IAAc,CAACC,OAAnB,EAA4B;QAC1BD,SAAS,GAAG,KAAZ;QACAC,OAAO,GAAG,KAAV;QACA;MACD;;MAEDD,SAAS,GAAG,KAAZ;MACAC,OAAO,GAAG,KAAV;MACA,MAAMsE,QAAQ,GAAG,IAAIvC,IAAJ,GAAWC,OAAX,KAAuB9B,cAAxC;MACA,MAAMqE,QAAQ,GAAGxD,SAAS,KAAK,SAAd,GAA0BT,aAA1B,GAA0CC,YAA3D;MACA,MAAMiE,YAAY,GAAGzD,SAAS,KAAK,SAAd,GAA0BN,iBAA1B,GAA8CD,gBAAnE;MACA,IAAIiE,MAAJ;MACA,IAAIC,QAAJ;MACA,IAAIC,CAAJ;;MAEA,IAAIL,QAAQ,GAAG,GAAX,KAAmBnE,WAAW,GAAG,CAAC,EAAf,IAAqBY,SAAS,KAAK,SAAnC,IAAgDZ,WAAW,GAAG,EAAd,IAAoBY,SAAS,KAAK,UAArG,KAAoHuD,QAAQ,IAAI,GAAZ,IAAmBpC,IAAI,CAACC,GAAL,CAASzB,SAAT,IAAsB8D,YAAY,GAAG,CAAhL,EAAmL;QACjLC,MAAM,GAAG,MAAT;MACD,CAFD,MAEO;QACLA,MAAM,GAAG,OAAT;MACD;;MAED,IAAIH,QAAQ,GAAG,GAAf,EAAoB;QAClB,IAAIpC,IAAI,CAACC,GAAL,CAASzB,SAAT,MAAwB,CAA5B,EAA+B+D,MAAM,GAAG,OAAT;QAC/B,IAAIvC,IAAI,CAACC,GAAL,CAASzB,SAAT,MAAwB8D,YAA5B,EAA0CC,MAAM,GAAG,MAAT;MAC3C;;MAED,IAAIA,MAAM,KAAK,MAAf,EAAuB;QACrB/E,QAAQ,CAACkF,EAAT,GAAcxE,WAAW,CAAC,CAAD,CAAzB;QACAA,WAAW,CAAC0D,OAAZ,CAAoB,eAApB;QACAlE,GAAG,CAACmE,IAAJ,CAAS,cAAT,EAAyB3D,WAAW,CAAC,CAAD,CAApC;QACAA,WAAW,CAAC4D,QAAZ,CAAqB,wCAArB;QACA,MAAMa,YAAY,GAAG9D,SAAS,KAAK,SAAd,GAA0B,CAACyD,YAA3B,GAA0CA,YAA/D;QACAnE,gBAAgB,CAACyC,SAAjB,CAA4B,eAAc+B,YAAa,SAAvD;QACAN,QAAQ,CAACP,QAAT,CAAkB,yBAAlB;QACAU,QAAQ,GAAG3D,SAAS,KAAK,SAAd,GAA0BD,aAA1B,GAA0CD,YAArD;;QAEA,IAAI6D,QAAJ,EAAc;UACZ,KAAKC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,QAAQ,CAACtC,MAAzB,EAAiCuC,CAAC,IAAI,CAAtC,EAAyC;YACvCrF,CAAC,CAACoF,QAAQ,CAACC,CAAD,CAAT,CAAD,CAAe7B,SAAf,CAA0B,eAAc+B,YAAa,SAArD;UACD;QACF;;QAED,IAAI1D,cAAJ,EAAoB;UAClBb,aAAa,CAAC+B,IAAd,CAAmB,qBAAnB,EAA0CyB,OAA1C,CAAkD,OAAlD,EAA2D,aAA3D;QACD;;QAED,IAAI5C,aAAJ,EAAmB;UACjBX,YAAY,CAAC8B,IAAb,CAAkB,qBAAlB,EAAyCyB,OAAzC,CAAiD,OAAjD,EAA0D,aAA1D;QACD;MACF,CAvBD,MAuBO;QACL1D,WAAW,CAAC0D,OAAZ,CAAoB,gBAApB;QACAlE,GAAG,CAACmE,IAAJ,CAAS,eAAT,EAA0B3D,WAAW,CAAC,CAAD,CAArC;QACAV,QAAQ,CAACkF,EAAT,GAAcpD,SAAd;QACApB,WAAW,CAAC4D,QAAZ,CAAqB,wBAArB,EAA+CvB,WAA/C,CAA2D,iBAA3D;QACApC,gBAAgB,CAACyC,SAAjB,CAA2B,EAA3B;QACAyB,QAAQ,CAAC9B,WAAT,CAAqB,yBAArB;MACD;;MAED,IAAIM,YAAJ;;MAEA,IAAIlC,YAAY,IAAIA,YAAY,CAACuB,MAAb,GAAsB,CAAtC,IAA2CvB,YAAY,KAAK6D,QAAhE,EAA0E;QACxE7D,YAAY,CAAC0C,IAAb,CAAkBC,QAAQ,IAAI;UAC5B,MAAMC,SAAS,GAAGnE,CAAC,CAACkE,QAAD,CAAnB;UACAT,YAAY,GAAGS,QAAQ,CAACE,sBAAxB;;UAEA,IAAI,OAAOX,YAAP,KAAwB,WAA5B,EAAyC;YACvCU,SAAS,CAAC,CAAD,CAAT,CAAaC,sBAAb,GAAsClD,gBAAgB,GAAGgD,QAAQ,CAACG,UAA5B,GAAyCH,QAAQ,CAACW,WAAxF;UACD;;UAEDV,SAAS,CAACX,SAAV,CAAqB,eAAcC,YAAa,SAAhD;QACD,CATD;MAUD;;MAED,IAAIjC,aAAa,IAAIA,aAAa,CAACsB,MAAd,GAAuB,CAAxC,IAA6CtB,aAAa,KAAK4D,QAAnE,EAA6E;QAC3E5D,aAAa,CAACyC,IAAd,CAAmBC,QAAQ,IAAI;UAC7B,MAAMC,SAAS,GAAGnE,CAAC,CAACkE,QAAD,CAAnB;UACAT,YAAY,GAAGS,QAAQ,CAACE,sBAAxB;;UAEA,IAAI,OAAOX,YAAP,KAAwB,WAA5B,EAAyC;YACvCU,SAAS,CAAC,CAAD,CAAT,CAAaC,sBAAb,GAAsCF,QAAQ,CAACG,UAA/C;UACD;;UAEDF,SAAS,CAACX,SAAV,CAAqB,eAAc,CAACC,YAAa,SAAjD;QACD,CATD;MAUD;;MAED1C,gBAAgB,CAACyE,aAAjB,CAA+B,MAAM;QACnC,IAAInE,MAAM,IAAI8D,MAAM,KAAK,MAArB,IAA+B,CAAC9D,MAAD,IAAW8D,MAAM,KAAK,OAAzD,EAAkE;QAClErE,WAAW,CAAC0D,OAAZ,CAAoBW,MAAM,KAAK,MAAX,GAAoB,iBAApB,GAAwC,iBAA5D;QACA7E,GAAG,CAACmE,IAAJ,CAASU,MAAM,KAAK,MAAX,GAAoB,gBAApB,GAAuC,gBAAhD,EAAkErE,WAAW,CAAC,CAAD,CAA7E;QACAA,WAAW,CAACqC,WAAZ,CAAwB,wBAAxB;;QAEA,IAAI9B,MAAM,IAAI8D,MAAM,KAAK,OAAzB,EAAkC;UAChC,IAAInE,aAAa,CAAC8B,MAAd,GAAuB,CAA3B,EAA8B;YAC5BtB,aAAa,CAACgC,SAAd,CAAwB,EAAxB;UACD;;UAED,IAAIvC,YAAY,CAAC6B,MAAb,GAAsB,CAA1B,EAA6B;YAC3BvB,YAAY,CAACiC,SAAb,CAAuB,EAAvB;UACD;QACF;MACF,CAfD;IAgBD;;IAED,MAAMiC,eAAe,GAAGtF,UAAU,GAAGsF,eAAb,GAA+B;MACrDC,OAAO,EAAE;IAD4C,CAA/B,GAEpB,KAFJ;IAGApF,GAAG,CAACqF,EAAJ,CAAO,YAAP,EAAqB5D,CAAC,IAAI;MACxB,IAAI3B,QAAQ,CAACkF,EAAb,EAAiB;QACf,MAAMM,SAAS,GAAG5F,CAAC,CAAC+B,CAAC,CAAC8D,MAAH,CAAnB;;QAEA,IAAI,EAAE7F,CAAC,CAACI,QAAQ,CAACkF,EAAV,CAAD,CAAeQ,EAAf,CAAkBF,SAAS,CAAC,CAAD,CAA3B,KAAmCA,SAAS,CAACG,OAAV,CAAkB,WAAlB,EAA+BD,EAA/B,CAAkC1F,QAAQ,CAACkF,EAA3C,CAAnC,IAAqFM,SAAS,CAAC1C,QAAV,CAAmB,UAAnB,CAArF,IAAuH,CAAC0C,SAAS,CAACI,IAAV,CAAe,OAAf,KAA2B,EAA5B,EAAgCC,OAAhC,CAAwC,WAAxC,IAAuD,CAA9K,IAAmLL,SAAS,CAAC1C,QAAV,CAAmB,eAAnB,CAAnL,IAA0N0C,SAAS,CAACG,OAAV,CAAkB,2CAAlB,EAA+DjD,MAA/D,GAAwE,CAApS,CAAJ,EAA4S;UAC1SxC,GAAG,CAAC0B,QAAJ,CAAa4B,KAAb,CAAmBxD,QAAQ,CAACkF,EAA5B;QACD;MACF;IACF,CARD;IASAtF,CAAC,CAACO,QAAD,CAAD,CAAYoF,EAAZ,CAAerF,GAAG,CAAC4F,WAAJ,CAAgBC,KAA/B,EAAsC,aAAtC,EAAqDrE,gBAArD,EAAuE2D,eAAvE;IACAnF,GAAG,CAACqF,EAAJ,CAAO,kBAAP,EAA2BhD,eAA3B;IACArC,GAAG,CAACqF,EAAJ,CAAO,kBAAP,EAA2BZ,cAA3B;EACD,CA1Yc;;EA4Yf9C,KAAK,EAAE,IA5YQ;EA6YfqD,EAAE,EAAEpD,SA7YW;;EA+Yf2B,IAAI,GAAG;IACL,MAAMvD,GAAG,GAAG,IAAZ;;IAEA,KAAK,IAAI8F,IAAI,GAAGC,SAAS,CAACvD,MAArB,EAA6BwD,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAV,CAApC,EAAqDI,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGJ,IAA3E,EAAiFI,IAAI,EAArF,EAAyF;MACvFF,IAAI,CAACE,IAAD,CAAJ,GAAaH,SAAS,CAACG,IAAD,CAAtB;IACD;;IAED,IAAI,CAAClB,EAAD,EAAKmB,IAAL,EAAWC,QAAX,IAAuBJ,IAA3B;;IAEA,IAAI,OAAOA,IAAI,CAAC,CAAD,CAAX,KAAmB,UAAvB,EAAmC;MACjC,CAAChB,EAAD,EAAKoB,QAAL,EAAeD,IAAf,IAAuBH,IAAvB;IACD;;IAED,MAAMK,GAAG,GAAG3G,CAAC,CAACsF,EAAD,CAAD,CAAMsB,EAAN,CAAS,CAAT,CAAZ;IACA,IAAID,GAAG,CAAC7D,MAAJ,KAAe,CAAnB,EAAsB;IACtB,IAAI,CAAC6D,GAAG,CAACzD,QAAJ,CAAa,UAAb,CAAD,IAA6ByD,GAAG,CAACzD,QAAJ,CAAa,iBAAb,CAAjC,EAAkE;;IAElE,IAAI,CAACuD,IAAL,EAAW;MACT,IAAIE,GAAG,CAAC5D,IAAJ,CAAS,yBAAT,EAAoCD,MAApC,GAA6C,CAAjD,EAAoD2D,IAAI,GAAG,OAAP,CAApD,KAAwEA,IAAI,GAAG,MAAP;IACzE;;IAED,MAAMI,gBAAgB,GAAGF,GAAG,CAAC5D,IAAJ,CAAU,qBAAoB0D,IAAK,EAAnC,CAAzB;IACA,MAAM1F,gBAAgB,GAAG4F,GAAG,CAAC5D,IAAJ,CAAS,mBAAT,CAAzB;IACA,IAAI8D,gBAAgB,CAAC/D,MAAjB,KAA4B,CAAhC,EAAmC;IACnC6D,GAAG,CAACnC,OAAJ,CAAY,eAAZ,EAA6BE,QAA7B,CAAsC,iBAAtC,EAAyDvB,WAAzD,CAAqE,wBAArE;IACA7C,GAAG,CAACmE,IAAJ,CAAS,cAAT,EAAyBkC,GAAG,CAAC,CAAD,CAA5B;IACAE,gBAAgB,CAACnC,QAAjB,CAA0B,yBAA1B;IACA,MAAMU,QAAQ,GAAGyB,gBAAgB,CAAC5D,QAAjB,CAA0B,GAA1B,CAAjB;IACA,MAAM6D,oBAAoB,GAAGD,gBAAgB,CAAC7D,UAAjB,EAA7B;IACA,MAAM5B,SAAS,GAAGqF,IAAI,KAAK,OAAT,GAAmB,CAACK,oBAApB,GAA2CA,oBAA7D;;IAEA,IAAI1B,QAAQ,CAACtC,MAAT,GAAkB,CAAtB,EAAyB;MACvBsC,QAAQ,CAACnB,IAAT,CAAc,CAACC,QAAD,EAAW6C,WAAX,KAA2B;QACvC,MAAM5C,SAAS,GAAGnE,CAAC,CAACkE,QAAD,CAAnB;;QAEA,IAAIuC,IAAI,KAAK,OAAb,EAAsB;UACpBtC,SAAS,CAACX,SAAV,CAAqB,eAAc,CAACU,QAAQ,CAACG,UAAW,SAAxD;QACD,CAFD,MAEO;UACLF,SAAS,CAACG,GAAV,CAAc,SAAd,EAAyBc,QAAQ,CAACtC,MAAT,GAAkBiE,WAA3C,EAAwDvD,SAAxD,CAAmE,eAAcsD,oBAAoB,GAAG5C,QAAQ,CAACW,WAAhC,GAA8CX,QAAQ,CAACG,UAAW,SAAnJ;QACD;MACF,CARD;IASD;;IAEDsC,GAAG,CAACjC,QAAJ,CAAa,wBAAb;IACA3D,gBAAgB,CAACyE,aAAjB,CAA+B,MAAM;MACnCmB,GAAG,CAACnC,OAAJ,CAAY,iBAAZ;MACAlE,GAAG,CAACmE,IAAJ,CAAS,gBAAT,EAA2BkC,GAAG,CAAC,CAAD,CAA9B;MACA,IAAID,QAAJ,EAAcA,QAAQ,CAACM,IAAT,CAAcL,GAAG,CAAC,CAAD,CAAjB;IACf,CAJD;IAKA1G,SAAS,CAAC,MAAM;MACdmF,QAAQ,CAAC5B,SAAT,CAAoB,eAAcpC,SAAU,SAA5C;MACAL,gBAAgB,CAACyC,SAAjB,CAA4B,eAAcpC,SAAU,SAApD;IACD,CAHQ,CAAT;IAIAhB,QAAQ,CAACkF,EAAT,GAAcqB,GAAG,CAAC,CAAD,CAAjB;EACD,CArcc;;EAucf/C,KAAK,CAAC0B,EAAD,EAAKoB,QAAL,EAAe;IAClB,MAAMpG,GAAG,GAAG,IAAZ;IACA,MAAMqG,GAAG,GAAG3G,CAAC,CAACsF,EAAD,CAAD,CAAMsB,EAAN,CAAS,CAAT,CAAZ;IACA,IAAID,GAAG,CAAC7D,MAAJ,KAAe,CAAnB,EAAsB;IACtB,IAAI,CAAC6D,GAAG,CAACzD,QAAJ,CAAa,iBAAb,CAAL,EAAsC;IACtC,MAAMuD,IAAI,GAAGE,GAAG,CAAC5D,IAAJ,CAAS,0BAAT,EAAqCG,QAArC,CAA8C,wBAA9C,IAA0E,OAA1E,GAAoF,MAAjG;IACA,MAAM2D,gBAAgB,GAAGF,GAAG,CAAC5D,IAAJ,CAAS,0BAAT,EAAqCI,WAArC,CAAiD,yBAAjD,CAAzB;IACA,MAAMiC,QAAQ,GAAGyB,gBAAgB,CAAC5D,QAAjB,CAA0B,GAA1B,CAAjB;IACA,MAAM6D,oBAAoB,GAAGD,gBAAgB,CAAC7D,UAAjB,EAA7B;IACA1C,GAAG,CAAC0B,QAAJ,CAAaC,KAAb,GAAqB,KAArB;IACA0E,GAAG,CAACnC,OAAJ,CAAY,gBAAZ;IACAlE,GAAG,CAACmE,IAAJ,CAAS,eAAT,EAA0BkC,GAAG,CAAC,CAAD,CAA7B;IACAA,GAAG,CAACxD,WAAJ,CAAgB,iBAAhB,EAAmCuB,QAAnC,CAA4C,wBAA5C;IACA,IAAIuC,YAAJ;;IAEA,SAASC,eAAT,GAA2B;MACzB5G,GAAG,CAAC0B,QAAJ,CAAaC,KAAb,GAAqB,IAArB;MACA,IAAI0E,GAAG,CAACzD,QAAJ,CAAa,iBAAb,CAAJ,EAAqC;MACrCyD,GAAG,CAACxD,WAAJ,CAAgB,wBAAhB;MACAiC,QAAQ,CAAC5B,SAAT,CAAmB,EAAnB;MACAmD,GAAG,CAACnC,OAAJ,CAAY,iBAAZ;MACAlE,GAAG,CAACmE,IAAJ,CAAS,gBAAT,EAA2BkC,GAAG,CAAC,CAAD,CAA9B;MACA,IAAID,QAAJ,EAAcA,QAAQ,CAACM,IAAT,CAAcL,GAAG,CAAC,CAAD,CAAjB;MACd,IAAIM,YAAJ,EAAkBE,YAAY,CAACF,YAAD,CAAZ;IACnB;;IAEDN,GAAG,CAAC5D,IAAJ,CAAS,mBAAT,EAA8BS,SAA9B,CAAwC,EAAxC,EAA4CgC,aAA5C,CAA0D0B,eAA1D;IACAD,YAAY,GAAGG,UAAU,CAACF,eAAD,EAAkB,GAAlB,CAAzB;IACA9B,QAAQ,CAACnB,IAAT,CAAcC,QAAQ,IAAI;MACxB,MAAMC,SAAS,GAAGnE,CAAC,CAACkE,QAAD,CAAnB;;MAEA,IAAIuC,IAAI,KAAK,OAAb,EAAsB;QACpBtC,SAAS,CAACX,SAAV,CAAqB,eAAc,CAACU,QAAQ,CAACG,UAAW,SAAxD;MACD,CAFD,MAEO;QACLF,SAAS,CAACX,SAAV,CAAqB,eAAcsD,oBAAoB,GAAG5C,QAAQ,CAACW,WAAhC,GAA8CX,QAAQ,CAACG,UAAW,SAArG;MACD;;MAEDF,SAAS,CAACG,GAAV,CAAc;QACZC,IAAI,EAAE;MADM,CAAd,EAEGpB,WAFH,CAEe,2BAFf;IAGD,CAZD;IAaA,IAAI/C,QAAQ,CAACkF,EAAT,IAAelF,QAAQ,CAACkF,EAAT,KAAgBqB,GAAG,CAAC,CAAD,CAAtC,EAA2CvG,QAAQ,CAACkF,EAAT,GAAcpD,SAAd;EAC5C,CAjfc;;EAmffmF,MAAM,CAAC/B,EAAD,EAAKoB,QAAL,EAAe;IACnB,MAAMpG,GAAG,GAAG,IAAZ;IACA,MAAMqG,GAAG,GAAG3G,CAAC,CAACsF,EAAD,CAAD,CAAMsB,EAAN,CAAS,CAAT,CAAZ;IACA,IAAID,GAAG,CAAC7D,MAAJ,KAAe,CAAnB,EAAsB;IACtB1C,QAAQ,CAACkF,EAAT,GAAcpD,SAAd;IACAyE,GAAG,CAACnC,OAAJ,CAAY,iBAAZ;IACAlE,GAAG,CAACmE,IAAJ,CAAS,gBAAT,EAA2BkC,GAAG,CAAC,CAAD,CAA9B;IACAA,GAAG,CAACrC,GAAJ,CAAQ;MACNgD,MAAM,EAAG,GAAEX,GAAG,CAACY,WAAJ,EAAkB;IADvB,CAAR;IAGAZ,GAAG,CAACnB,aAAJ,CAAkB,MAAM;MACtBmB,GAAG,CAACnC,OAAJ,CAAY,kBAAZ;MACAlE,GAAG,CAACmE,IAAJ,CAAS,iBAAT,EAA4BkC,GAAG,CAAC,CAAD,CAA/B;MACA,IAAID,QAAJ,EAAcA,QAAQ,CAACM,IAAT,CAAcL,GAAG,CAAC,CAAD,CAAjB;;MAEd,IAAIA,GAAG,CAACZ,OAAJ,CAAY,eAAZ,EAA6BjD,MAA7B,GAAsC,CAA1C,EAA6C;QAC3C,MAAM0E,WAAW,GAAGb,GAAG,CAACZ,OAAJ,CAAY,eAAZ,EAA6B,CAA7B,EAAgC0B,aAApD;QACA,MAAMC,YAAY,GAAGf,GAAG,CAAC,CAAD,CAAH,CAAOgB,kBAA5B;QACA,IAAIH,WAAW,IAAI,OAAOE,YAAP,KAAwB,WAA3C,EAAwDF,WAAW,CAACI,UAAZ,CAAuBF,YAAvB;MACzD,CAJD,MAIO,IAAIpH,GAAG,CAAC8C,MAAJ,CAAWpB,QAAX,CAAoB6F,cAAxB,EAAwC;QAC7C,IAAIvH,GAAG,CAAC8C,MAAJ,CAAWpB,QAAX,CAAoB8F,yBAAxB,EAAmD;UACjDV,UAAU,CAAC,MAAM;YACfT,GAAG,CAACoB,MAAJ;UACD,CAFS,EAEPzH,GAAG,CAAC8C,MAAJ,CAAWpB,QAAX,CAAoBgG,qBAFb,CAAV;QAGD,CAJD,MAIO;UACLrB,GAAG,CAACoB,MAAJ;QACD;MACF,CARM,MAQA;QACLpB,GAAG,CAACxD,WAAJ,CAAgB,0CAAhB;MACD;IACF,CApBD,EAVmB,CA8Bf;IACJ;;IAEAlD,SAAS,CAAC,MAAM;MACd0G,GAAG,CAACjC,QAAJ,CAAa,0CAAb,EAAyDJ,GAAzD,CAA6D;QAC3DgD,MAAM,EAAE;MADmD,CAA7D,EAEGvE,IAFH,CAEQ,mBAFR,EAE6BS,SAF7B,CAEuC,wBAFvC;IAGD,CAJQ,CAAT;EAKD;;AAzhBc,CAAjB;AA4hBA,eAAe;EACbyE,IAAI,EAAE,UADO;EAEb7E,MAAM,EAAE;IACNpB,QAAQ,EAAE;MACRkG,aAAa,EAAE,KADP;MAER7E,QAAQ,EAAE,KAFF;MAGRwE,cAAc,EAAE,IAHR;MAIRC,yBAAyB,EAAE,KAJnB;MAKRE,qBAAqB,EAAE,CALf;MAMRhE,cAAc,EAAE;IANR;EADJ,CAFK;;EAabmE,MAAM,GAAG;IACP,MAAM7H,GAAG,GAAG,IAAZ;IACAJ,WAAW,CAACI,GAAD,EAAM;MACf0B,QAAQ,EAAE5B;IADK,CAAN,CAAX;EAGD,CAlBY;;EAoBbgI,MAAM,EAAE;IACN,kBAAkB,SAASC,YAAT,CAAsBC,UAAtB,EAAkCC,IAAlC,EAAwC;MACxD,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;QACnBA,IAAI,GAAG,EAAP;MACD;;MAED,MAAMjI,GAAG,GAAG,IAAZ;MACAA,GAAG,CAAC0B,QAAJ,CAAa6B,IAAb,CAAkB0E,IAAI,CAACvG,QAAvB,EAAiCuG,IAAI,CAAC9B,IAAtC;IACD,CARK;IASN,mBAAmB,SAAS+B,aAAT,CAAuBF,UAAvB,EAAmC;MACpD,MAAMhI,GAAG,GAAG,IAAZ;MACA,MAAMQ,WAAW,GAAGwH,UAAU,CAACG,OAAX,CAAmB,WAAnB,CAApB;MACA,IAAI3H,WAAW,CAACgC,MAAZ,KAAuB,CAA3B,EAA8B;MAC9BxC,GAAG,CAAC0B,QAAJ,CAAa4B,KAAb,CAAmB9C,WAAnB;IACD,CAdK;IAeN,oBAAoB,SAAS4H,cAAT,CAAwBJ,UAAxB,EAAoCC,IAApC,EAA0C;MAC5D,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;QACnBA,IAAI,GAAG,EAAP;MACD;;MAED,MAAMjI,GAAG,GAAG,IAAZ;MACA,MAAMQ,WAAW,GAAGwH,UAAU,CAACG,OAAX,CAAmB,WAAnB,CAApB;MACA,IAAI3H,WAAW,CAACgC,MAAZ,KAAuB,CAA3B,EAA8B;MAC9B,MAAM;QACJ6F,OADI;QAEJC;MAFI,IAGFL,IAHJ;;MAKA,IAAIA,IAAI,CAACI,OAAT,EAAkB;QAChBrI,GAAG,CAACuI,MAAJ,CAAWF,OAAX,CAAmBA,OAAnB,EAA4BC,YAA5B,EAA0C,MAAM;UAC9CtI,GAAG,CAAC0B,QAAJ,CAAaqF,MAAb,CAAoBvG,WAApB;QACD,CAFD;MAGD,CAJD,MAIO;QACLR,GAAG,CAAC0B,QAAJ,CAAaqF,MAAb,CAAoBvG,WAApB;MACD;IACF;EAnCK,CApBK;EAyDb6E,EAAE,EAAE;IACFtF,IAAI,GAAG;MACL,MAAMC,GAAG,GAAG,IAAZ;MACA,IAAI,CAACA,GAAG,CAAC8C,MAAJ,CAAWpB,QAAhB,EAA0B;MAC1B1B,GAAG,CAAC0B,QAAJ,CAAa3B,IAAb;IACD;;EALC;AAzDS,CAAf"},"metadata":{},"sourceType":"module"}