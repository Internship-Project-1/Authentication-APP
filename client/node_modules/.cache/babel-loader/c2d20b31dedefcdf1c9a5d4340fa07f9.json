{"ast":null,"code":"import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend, nextTick } from '../../shared/utils.js';\nimport Modal from '../modal/modal-class.js';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx.js';\n\nclass Toast extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      on: {}\n    }, app.params.toast, params); // Extends with open/close Modal methods;\n\n    super(app, extendedParams);\n    const toast = this;\n    const window = getWindow();\n    toast.app = app;\n    toast.params = extendedParams;\n    const {\n      closeButton,\n      closeTimeout\n    } = toast.params;\n    let $el;\n\n    if (!toast.params.el) {\n      // Find Element\n      const toastHtml = toast.render();\n      $el = $(toastHtml);\n    } else {\n      $el = $(toast.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return toast.destroy();\n    }\n\n    extend(toast, {\n      $el,\n      el: $el[0],\n      type: 'toast'\n    });\n    $el[0].f7Modal = toast;\n\n    if (closeButton) {\n      $el.find('.toast-button').on('click', () => {\n        toast.emit('local::closeButtonClick toastCloseButtonClick', toast);\n        toast.close();\n      });\n      toast.on('beforeDestroy', () => {\n        $el.find('.toast-button').off('click');\n      });\n    }\n\n    let timeoutId;\n    toast.on('open', () => {\n      $('.toast.modal-in').each(openedEl => {\n        const toastInstance = app.toast.get(openedEl);\n\n        if (openedEl !== toast.el && toastInstance) {\n          toastInstance.close();\n        }\n      });\n\n      if (closeTimeout) {\n        timeoutId = nextTick(() => {\n          toast.close();\n        }, closeTimeout);\n      }\n    });\n    toast.on('close', () => {\n      window.clearTimeout(timeoutId);\n    });\n\n    if (toast.params.destroyOnClose) {\n      toast.once('closed', () => {\n        setTimeout(() => {\n          toast.destroy();\n        }, 0);\n      });\n    }\n\n    return toast;\n  }\n\n  render() {\n    const toast = this;\n    if (toast.params.render) return toast.params.render.call(toast, toast);\n    const {\n      position,\n      horizontalPosition,\n      cssClass,\n      icon,\n      text,\n      closeButton,\n      closeButtonColor,\n      closeButtonText\n    } = toast.params;\n    const horizontalClass = position === 'top' || position === 'bottom' ? `toast-horizontal-${horizontalPosition}` : '';\n    return $jsx(\"div\", {\n      class: `toast toast-${position} ${horizontalClass} ${cssClass || ''} ${icon ? 'toast-with-icon' : ''}`\n    }, $jsx(\"div\", {\n      class: \"toast-content\"\n    }, icon && $jsx(\"div\", {\n      class: \"toast-icon\"\n    }, icon), $jsx(\"div\", {\n      class: \"toast-text\"\n    }, text), closeButton && !icon && $jsx(\"a\", {\n      class: `toast-button button ${closeButtonColor ? `color-${closeButtonColor}` : ''}`\n    }, closeButtonText)));\n  }\n\n}\n\nexport default Toast;","map":{"version":3,"names":["getWindow","$","extend","nextTick","Modal","$jsx","Toast","constructor","app","params","extendedParams","on","toast","window","closeButton","closeTimeout","$el","el","toastHtml","render","length","f7Modal","destroy","type","find","emit","close","off","timeoutId","each","openedEl","toastInstance","get","clearTimeout","destroyOnClose","once","setTimeout","call","position","horizontalPosition","cssClass","icon","text","closeButtonColor","closeButtonText","horizontalClass","class"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/toast/toast-class.js"],"sourcesContent":["import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { extend, nextTick } from '../../shared/utils.js';\nimport Modal from '../modal/modal-class.js';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx.js';\n\nclass Toast extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({\n      on: {}\n    }, app.params.toast, params); // Extends with open/close Modal methods;\n\n    super(app, extendedParams);\n    const toast = this;\n    const window = getWindow();\n    toast.app = app;\n    toast.params = extendedParams;\n    const {\n      closeButton,\n      closeTimeout\n    } = toast.params;\n    let $el;\n\n    if (!toast.params.el) {\n      // Find Element\n      const toastHtml = toast.render();\n      $el = $(toastHtml);\n    } else {\n      $el = $(toast.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return toast.destroy();\n    }\n\n    extend(toast, {\n      $el,\n      el: $el[0],\n      type: 'toast'\n    });\n    $el[0].f7Modal = toast;\n\n    if (closeButton) {\n      $el.find('.toast-button').on('click', () => {\n        toast.emit('local::closeButtonClick toastCloseButtonClick', toast);\n        toast.close();\n      });\n      toast.on('beforeDestroy', () => {\n        $el.find('.toast-button').off('click');\n      });\n    }\n\n    let timeoutId;\n    toast.on('open', () => {\n      $('.toast.modal-in').each(openedEl => {\n        const toastInstance = app.toast.get(openedEl);\n\n        if (openedEl !== toast.el && toastInstance) {\n          toastInstance.close();\n        }\n      });\n\n      if (closeTimeout) {\n        timeoutId = nextTick(() => {\n          toast.close();\n        }, closeTimeout);\n      }\n    });\n    toast.on('close', () => {\n      window.clearTimeout(timeoutId);\n    });\n\n    if (toast.params.destroyOnClose) {\n      toast.once('closed', () => {\n        setTimeout(() => {\n          toast.destroy();\n        }, 0);\n      });\n    }\n\n    return toast;\n  }\n\n  render() {\n    const toast = this;\n    if (toast.params.render) return toast.params.render.call(toast, toast);\n    const {\n      position,\n      horizontalPosition,\n      cssClass,\n      icon,\n      text,\n      closeButton,\n      closeButtonColor,\n      closeButtonText\n    } = toast.params;\n    const horizontalClass = position === 'top' || position === 'bottom' ? `toast-horizontal-${horizontalPosition}` : '';\n    return $jsx(\"div\", {\n      class: `toast toast-${position} ${horizontalClass} ${cssClass || ''} ${icon ? 'toast-with-icon' : ''}`\n    }, $jsx(\"div\", {\n      class: \"toast-content\"\n    }, icon && $jsx(\"div\", {\n      class: \"toast-icon\"\n    }, icon), $jsx(\"div\", {\n      class: \"toast-text\"\n    }, text), closeButton && !icon && $jsx(\"a\", {\n      class: `toast-button button ${closeButtonColor ? `color-${closeButtonColor}` : ''}`\n    }, closeButtonText)));\n  }\n\n}\n\nexport default Toast;"],"mappings":"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"},"metadata":{},"sourceType":"module"}