{"ast":null,"code":"import $ from './dom7.js';\nimport { extend } from './utils.js';\nimport ConstructorMethods from './constructor-methods.js';\nexport default function ModalMethods(parameters) {\n  if (parameters === void 0) {\n    parameters = {};\n  }\n\n  const {\n    defaultSelector,\n    constructor: Constructor,\n    app\n  } = parameters;\n  const methods = extend(ConstructorMethods({\n    defaultSelector,\n    constructor: Constructor,\n    app,\n    domProp: 'f7Modal'\n  }), {\n    open(el, animate, targetEl) {\n      let $el = $(el);\n\n      if ($el.length > 1 && targetEl) {\n        // check if same modal in other page\n        const $targetPage = $(targetEl).parents('.page');\n\n        if ($targetPage.length) {\n          $el.each(modalEl => {\n            const $modalEl = $(modalEl);\n\n            if ($modalEl.parents($targetPage)[0] === $targetPage[0]) {\n              $el = $modalEl;\n            }\n          });\n        }\n      }\n\n      if ($el.length > 1) {\n        $el = $el.eq($el.length - 1);\n      }\n\n      if (!$el.length) return undefined;\n      let instance = $el[0].f7Modal;\n\n      if (!instance) {\n        const params = $el.dataset();\n        instance = new Constructor(app, {\n          el: $el,\n          ...params\n        });\n      }\n\n      return instance.open(animate);\n    },\n\n    close(el, animate, targetEl) {\n      if (el === void 0) {\n        el = defaultSelector;\n      }\n\n      let $el = $(el);\n      if (!$el.length) return undefined;\n\n      if ($el.length > 1) {\n        // check if close link (targetEl) in this modal\n        let $parentEl;\n\n        if (targetEl) {\n          const $targetEl = $(targetEl);\n\n          if ($targetEl.length) {\n            $parentEl = $targetEl.parents($el);\n          }\n        }\n\n        if ($parentEl && $parentEl.length > 0) {\n          $el = $parentEl;\n        } else {\n          $el = $el.eq($el.length - 1);\n        }\n      }\n\n      let instance = $el[0].f7Modal;\n\n      if (!instance) {\n        const params = $el.dataset();\n        instance = new Constructor(app, {\n          el: $el,\n          ...params\n        });\n      }\n\n      return instance.close(animate);\n    }\n\n  });\n  return methods;\n}","map":{"version":3,"names":["$","extend","ConstructorMethods","ModalMethods","parameters","defaultSelector","constructor","Constructor","app","methods","domProp","open","el","animate","targetEl","$el","length","$targetPage","parents","each","modalEl","$modalEl","eq","undefined","instance","f7Modal","params","dataset","close","$parentEl","$targetEl"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/shared/modal-methods.js"],"sourcesContent":["import $ from './dom7.js';\nimport { extend } from './utils.js';\nimport ConstructorMethods from './constructor-methods.js';\nexport default function ModalMethods(parameters) {\n  if (parameters === void 0) {\n    parameters = {};\n  }\n\n  const {\n    defaultSelector,\n    constructor: Constructor,\n    app\n  } = parameters;\n  const methods = extend(ConstructorMethods({\n    defaultSelector,\n    constructor: Constructor,\n    app,\n    domProp: 'f7Modal'\n  }), {\n    open(el, animate, targetEl) {\n      let $el = $(el);\n\n      if ($el.length > 1 && targetEl) {\n        // check if same modal in other page\n        const $targetPage = $(targetEl).parents('.page');\n\n        if ($targetPage.length) {\n          $el.each(modalEl => {\n            const $modalEl = $(modalEl);\n\n            if ($modalEl.parents($targetPage)[0] === $targetPage[0]) {\n              $el = $modalEl;\n            }\n          });\n        }\n      }\n\n      if ($el.length > 1) {\n        $el = $el.eq($el.length - 1);\n      }\n\n      if (!$el.length) return undefined;\n      let instance = $el[0].f7Modal;\n\n      if (!instance) {\n        const params = $el.dataset();\n        instance = new Constructor(app, {\n          el: $el,\n          ...params\n        });\n      }\n\n      return instance.open(animate);\n    },\n\n    close(el, animate, targetEl) {\n      if (el === void 0) {\n        el = defaultSelector;\n      }\n\n      let $el = $(el);\n      if (!$el.length) return undefined;\n\n      if ($el.length > 1) {\n        // check if close link (targetEl) in this modal\n        let $parentEl;\n\n        if (targetEl) {\n          const $targetEl = $(targetEl);\n\n          if ($targetEl.length) {\n            $parentEl = $targetEl.parents($el);\n          }\n        }\n\n        if ($parentEl && $parentEl.length > 0) {\n          $el = $parentEl;\n        } else {\n          $el = $el.eq($el.length - 1);\n        }\n      }\n\n      let instance = $el[0].f7Modal;\n\n      if (!instance) {\n        const params = $el.dataset();\n        instance = new Constructor(app, {\n          el: $el,\n          ...params\n        });\n      }\n\n      return instance.close(animate);\n    }\n\n  });\n  return methods;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}