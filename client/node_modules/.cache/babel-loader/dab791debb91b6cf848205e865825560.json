{"ast":null,"code":"/* eslint \"no-useless-escape\": \"off\" */\nimport $ from '../../shared/dom7.js';\nimport { extend, id, nextTick, deleteProps, iosPreloaderContent, mdPreloaderContent, auroraPreloaderContent } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport Framework7Class from '../../shared/class.js';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx.js';\n\nclass Autocomplete extends Framework7Class {\n  constructor(app, params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    super(params, [app]);\n    const ac = this;\n    ac.app = app;\n    const device = getDevice();\n    const defaults = extend({\n      on: {}\n    }, app.params.autocomplete);\n\n    if (typeof defaults.searchbarDisableButton === 'undefined') {\n      defaults.searchbarDisableButton = app.theme !== 'aurora';\n    } // Extend defaults with modules params\n\n\n    ac.useModulesParams(defaults);\n    ac.params = extend(defaults, params);\n    let $openerEl;\n\n    if (ac.params.openerEl) {\n      $openerEl = $(ac.params.openerEl);\n      if ($openerEl.length) $openerEl[0].f7Autocomplete = ac;\n    }\n\n    let $inputEl;\n\n    if (ac.params.inputEl) {\n      $inputEl = $(ac.params.inputEl);\n      if ($inputEl.length) $inputEl[0].f7Autocomplete = ac;\n    }\n\n    const uniqueId = id();\n    let url = params.url;\n\n    if (!url && $openerEl && $openerEl.length) {\n      if ($openerEl.attr('href')) url = $openerEl.attr('href');else if ($openerEl.find('a').length > 0) {\n        url = $openerEl.find('a').attr('href');\n      }\n    }\n\n    if (!url || url === '#' || url === '') url = ac.params.url;\n    const inputType = ac.params.multiple ? 'checkbox' : 'radio';\n    extend(ac, {\n      $openerEl,\n      openerEl: $openerEl && $openerEl[0],\n      $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      id: uniqueId,\n      url,\n      value: ac.params.value || [],\n      inputType,\n      inputName: `${inputType}-${uniqueId}`,\n      $modalEl: undefined,\n      $dropdownEl: undefined\n    });\n    let previousQuery = '';\n\n    function onInputChange() {\n      let query = ac.$inputEl.val().trim();\n      if (!ac.params.source) return;\n      ac.params.source.call(ac, query, items => {\n        let itemsHTML = '';\n        const limit = ac.params.limit ? Math.min(ac.params.limit, items.length) : items.length;\n        ac.items = items;\n        let regExp;\n\n        if (ac.params.highlightMatches) {\n          query = query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n          regExp = new RegExp(`(${query})`, 'i');\n        }\n\n        let firstValue;\n        let firstItem;\n\n        for (let i = 0; i < limit; i += 1) {\n          const itemValue = typeof items[i] === 'object' ? items[i][ac.params.valueProperty] : items[i];\n          const itemText = typeof items[i] === 'object' ? items[i][ac.params.textProperty] : items[i];\n\n          if (i === 0) {\n            firstValue = itemValue;\n            firstItem = ac.items[i];\n          }\n\n          itemsHTML += ac.renderItem({\n            value: itemValue,\n            text: ac.params.highlightMatches ? itemText.replace(regExp, '<b>$1</b>') : itemText\n          }, i);\n        }\n\n        if (itemsHTML === '' && query === '' && ac.params.dropdownPlaceholderText) {\n          itemsHTML += ac.renderItem({\n            placeholder: true,\n            text: ac.params.dropdownPlaceholderText\n          });\n        }\n\n        ac.$dropdownEl.find('ul').html(itemsHTML);\n\n        if (ac.params.typeahead) {\n          if (!firstValue || !firstItem) {\n            return;\n          }\n\n          if (firstValue.toLowerCase().indexOf(query.toLowerCase()) !== 0) {\n            return;\n          }\n\n          if (previousQuery.toLowerCase() === query.toLowerCase()) {\n            ac.value = [];\n            return;\n          }\n\n          if (previousQuery.toLowerCase().indexOf(query.toLowerCase()) === 0) {\n            previousQuery = query;\n            ac.value = [];\n            return;\n          }\n\n          $inputEl.val(firstValue);\n          $inputEl[0].setSelectionRange(query.length, firstValue.length);\n          const previousValue = typeof ac.value[0] === 'object' ? ac.value[0][ac.params.valueProperty] : ac.value[0];\n\n          if (!previousValue || firstValue.toLowerCase() !== previousValue.toLowerCase()) {\n            ac.value = [firstItem];\n            ac.emit('local::change autocompleteChange', [firstItem]);\n          }\n        }\n\n        previousQuery = query;\n      });\n    }\n\n    function onPageInputChange() {\n      const inputEl = this;\n      const value = inputEl.value;\n      const isValues = $(inputEl).parents('.autocomplete-values').length > 0;\n      let item;\n      let itemValue;\n      let aValue;\n\n      if (isValues) {\n        if (ac.inputType === 'checkbox' && !inputEl.checked) {\n          for (let i = 0; i < ac.value.length; i += 1) {\n            aValue = typeof ac.value[i] === 'string' ? ac.value[i] : ac.value[i][ac.params.valueProperty];\n\n            if (aValue === value || aValue * 1 === value * 1) {\n              ac.value.splice(i, 1);\n            }\n          }\n\n          ac.updateValues();\n          ac.emit('local::change autocompleteChange', ac.value);\n        }\n\n        return;\n      } // Find Related Item\n\n\n      for (let i = 0; i < ac.items.length; i += 1) {\n        itemValue = typeof ac.items[i] === 'object' ? ac.items[i][ac.params.valueProperty] : ac.items[i];\n        if (itemValue === value || itemValue * 1 === value * 1) item = ac.items[i];\n      }\n\n      if (ac.inputType === 'radio') {\n        ac.value = [item];\n      } else if (inputEl.checked) {\n        ac.value.push(item);\n      } else {\n        for (let i = 0; i < ac.value.length; i += 1) {\n          aValue = typeof ac.value[i] === 'object' ? ac.value[i][ac.params.valueProperty] : ac.value[i];\n\n          if (aValue === value || aValue * 1 === value * 1) {\n            ac.value.splice(i, 1);\n          }\n        }\n      } // Update Values Block\n\n\n      ac.updateValues(); // On Select Callback\n\n      if (ac.inputType === 'radio' && inputEl.checked || ac.inputType === 'checkbox') {\n        ac.emit('local::change autocompleteChange', ac.value);\n      }\n    }\n\n    function onHtmlClick(e) {\n      const $targetEl = $(e.target);\n      if ($targetEl.is(ac.$inputEl[0]) || ac.$dropdownEl && $targetEl.closest(ac.$dropdownEl[0]).length) return;\n      ac.close();\n    }\n\n    function onOpenerClick() {\n      ac.open();\n    }\n\n    function onInputFocus() {\n      ac.open();\n    }\n\n    function onInputBlur() {\n      if (ac.$dropdownEl.find('label.active-state').length > 0) return;\n      setTimeout(() => {\n        ac.close();\n      }, 0);\n    }\n\n    function onResize() {\n      ac.positionDropdown();\n    }\n\n    function onKeyDown(e) {\n      if (!ac.opened) return;\n\n      if (e.keyCode === 27) {\n        // ESC\n        e.preventDefault();\n        ac.$inputEl.blur();\n        return;\n      }\n\n      if (e.keyCode === 13) {\n        // Enter\n        const $selectedItemLabel = ac.$dropdownEl.find('.autocomplete-dropdown-selected label');\n\n        if ($selectedItemLabel.length) {\n          e.preventDefault();\n          $selectedItemLabel.trigger('click');\n          ac.$inputEl.blur();\n          return;\n        }\n\n        if (ac.params.typeahead) {\n          e.preventDefault();\n          ac.$inputEl.blur();\n        }\n\n        return;\n      }\n\n      if (e.keyCode !== 40 && e.keyCode !== 38) return;\n      e.preventDefault();\n      const $selectedItem = ac.$dropdownEl.find('.autocomplete-dropdown-selected');\n      let $newItem;\n\n      if ($selectedItem.length) {\n        $newItem = $selectedItem[e.keyCode === 40 ? 'next' : 'prev']('li');\n\n        if (!$newItem.length) {\n          $newItem = ac.$dropdownEl.find('li').eq(e.keyCode === 40 ? 0 : ac.$dropdownEl.find('li').length - 1);\n        }\n      } else {\n        $newItem = ac.$dropdownEl.find('li').eq(e.keyCode === 40 ? 0 : ac.$dropdownEl.find('li').length - 1);\n      }\n\n      if ($newItem.hasClass('autocomplete-dropdown-placeholder')) return;\n      $selectedItem.removeClass('autocomplete-dropdown-selected');\n      $newItem.addClass('autocomplete-dropdown-selected');\n    }\n\n    function onDropdownClick() {\n      const $clickedEl = $(this);\n      let clickedItem;\n\n      for (let i = 0; i < ac.items.length; i += 1) {\n        const itemValue = typeof ac.items[i] === 'object' ? ac.items[i][ac.params.valueProperty] : ac.items[i];\n        const value = $clickedEl.attr('data-value');\n\n        if (itemValue === value || itemValue * 1 === value * 1) {\n          clickedItem = ac.items[i];\n        }\n      }\n\n      if (ac.params.updateInputValueOnSelect) {\n        ac.$inputEl.val(typeof clickedItem === 'object' ? clickedItem[ac.params.valueProperty] : clickedItem);\n        ac.$inputEl.trigger('input change');\n      }\n\n      ac.value = [clickedItem];\n      ac.emit('local::change autocompleteChange', [clickedItem]);\n      ac.close();\n    }\n\n    ac.attachEvents = function attachEvents() {\n      if (ac.params.openIn !== 'dropdown' && ac.$openerEl) {\n        ac.$openerEl.on('click', onOpenerClick);\n      }\n\n      if (ac.params.openIn === 'dropdown' && ac.$inputEl) {\n        ac.$inputEl.on('focus', onInputFocus);\n        ac.$inputEl.on(ac.params.inputEvents, onInputChange);\n\n        if (device.android) {\n          $('html').on('click', onHtmlClick);\n        } else {\n          ac.$inputEl.on('blur', onInputBlur);\n        }\n\n        ac.$inputEl.on('keydown', onKeyDown);\n      }\n    };\n\n    ac.detachEvents = function attachEvents() {\n      if (ac.params.openIn !== 'dropdown' && ac.$openerEl) {\n        ac.$openerEl.off('click', onOpenerClick);\n      }\n\n      if (ac.params.openIn === 'dropdown' && ac.$inputEl) {\n        ac.$inputEl.off('focus', onInputFocus);\n        ac.$inputEl.off(ac.params.inputEvents, onInputChange);\n\n        if (device.android) {\n          $('html').off('click', onHtmlClick);\n        } else {\n          ac.$inputEl.off('blur', onInputBlur);\n        }\n\n        ac.$inputEl.off('keydown', onKeyDown);\n      }\n    };\n\n    ac.attachDropdownEvents = function attachDropdownEvents() {\n      ac.$dropdownEl.on('click', 'label', onDropdownClick);\n      app.on('resize', onResize);\n    };\n\n    ac.detachDropdownEvents = function detachDropdownEvents() {\n      ac.$dropdownEl.off('click', 'label', onDropdownClick);\n      app.off('resize', onResize);\n    };\n\n    ac.attachPageEvents = function attachPageEvents() {\n      ac.$el.on('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', onPageInputChange);\n\n      if (ac.params.closeOnSelect && !ac.params.multiple) {\n        ac.$el.once('click', '.list label', () => {\n          nextTick(() => {\n            ac.close();\n          });\n        });\n      }\n    };\n\n    ac.detachPageEvents = function detachPageEvents() {\n      ac.$el.off('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', onPageInputChange);\n    }; // Install Modules\n\n\n    ac.useModules(); // Init\n\n    ac.init();\n    return ac;\n  }\n\n  get view() {\n    const ac = this;\n    const {\n      $openerEl,\n      $inputEl,\n      app\n    } = ac;\n    let view;\n\n    if (ac.params.view) {\n      view = ac.params.view;\n    } else if ($openerEl || $inputEl) {\n      const $el = $openerEl || $inputEl;\n      view = $el.closest('.view').length && $el.closest('.view')[0].f7View;\n    }\n\n    if (!view) view = app.views.main;\n    return view;\n  }\n\n  positionDropdown() {\n    const ac = this;\n    const {\n      $inputEl,\n      app,\n      $dropdownEl\n    } = ac;\n    const $pageContentEl = $inputEl.parents('.page-content');\n    if ($pageContentEl.length === 0) return;\n    const inputOffset = $inputEl.offset();\n    const inputOffsetWidth = $inputEl[0].offsetWidth;\n    const inputOffsetHeight = $inputEl[0].offsetHeight;\n    const $listEl = $inputEl.parents('.list');\n    let $listParent;\n    $listEl.parents().each(parentEl => {\n      if ($listParent) return;\n      const $parentEl = $(parentEl);\n      if ($parentEl.parent($pageContentEl).length) $listParent = $parentEl;\n    });\n    const listOffset = $listEl.offset();\n    const paddingBottom = parseInt($pageContentEl.css('padding-bottom'), 10);\n    const listOffsetLeft = $listEl.length > 0 ? listOffset.left - $pageContentEl.offset().left : 0;\n    const inputOffsetLeft = inputOffset.left - ($listEl.length > 0 ? listOffset.left : 0) - (app.rtl ? 0 : 0);\n    const inputOffsetTop = inputOffset.top - ($pageContentEl.offset().top - $pageContentEl[0].scrollTop);\n    const maxHeight = $pageContentEl[0].scrollHeight - paddingBottom - (inputOffsetTop + $pageContentEl[0].scrollTop) - $inputEl[0].offsetHeight;\n    const paddingProp = app.rtl ? 'padding-right' : 'padding-left';\n    let paddingValue;\n\n    if ($listEl.length && !ac.params.expandInput) {\n      paddingValue = (app.rtl ? $listEl[0].offsetWidth - inputOffsetLeft - inputOffsetWidth : inputOffsetLeft) - (app.theme === 'md' ? 16 : 15);\n    }\n\n    $dropdownEl.css({\n      left: `${$listEl.length > 0 ? listOffsetLeft : inputOffsetLeft}px`,\n      top: `${inputOffsetTop + $pageContentEl[0].scrollTop + inputOffsetHeight}px`,\n      width: `${$listEl.length > 0 ? $listEl[0].offsetWidth : inputOffsetWidth}px`\n    });\n    $dropdownEl.children('.autocomplete-dropdown-inner').css({\n      maxHeight: `${maxHeight}px`,\n      [paddingProp]: $listEl.length > 0 && !ac.params.expandInput ? `${paddingValue}px` : ''\n    });\n  }\n\n  focus() {\n    const ac = this;\n    ac.$el.find('input[type=search]').focus();\n  }\n\n  source(query) {\n    const ac = this;\n    if (!ac.params.source) return;\n    const {\n      $el\n    } = ac;\n    ac.params.source.call(ac, query, items => {\n      let itemsHTML = '';\n      const limit = ac.params.limit ? Math.min(ac.params.limit, items.length) : items.length;\n      ac.items = items;\n\n      for (let i = 0; i < limit; i += 1) {\n        let selected = false;\n        const itemValue = typeof items[i] === 'object' ? items[i][ac.params.valueProperty] : items[i];\n\n        for (let j = 0; j < ac.value.length; j += 1) {\n          const aValue = typeof ac.value[j] === 'object' ? ac.value[j][ac.params.valueProperty] : ac.value[j];\n          if (aValue === itemValue || aValue * 1 === itemValue * 1) selected = true;\n        }\n\n        itemsHTML += ac.renderItem({\n          value: itemValue,\n          text: typeof items[i] === 'object' ? items[i][ac.params.textProperty] : items[i],\n          inputType: ac.inputType,\n          id: ac.id,\n          inputName: ac.inputName,\n          selected\n        }, i);\n      }\n\n      $el.find('.autocomplete-found ul').html(itemsHTML);\n\n      if (items.length === 0) {\n        if (query.length !== 0) {\n          $el.find('.autocomplete-not-found').show();\n          $el.find('.autocomplete-found, .autocomplete-values').hide();\n        } else {\n          $el.find('.autocomplete-values').show();\n          $el.find('.autocomplete-found, .autocomplete-not-found').hide();\n        }\n      } else {\n        $el.find('.autocomplete-found').show();\n        $el.find('.autocomplete-not-found, .autocomplete-values').hide();\n      }\n    });\n  }\n\n  updateValues() {\n    const ac = this;\n    let valuesHTML = '';\n\n    for (let i = 0; i < ac.value.length; i += 1) {\n      valuesHTML += ac.renderItem({\n        value: typeof ac.value[i] === 'object' ? ac.value[i][ac.params.valueProperty] : ac.value[i],\n        text: typeof ac.value[i] === 'object' ? ac.value[i][ac.params.textProperty] : ac.value[i],\n        inputType: ac.inputType,\n        id: ac.id,\n        inputName: `${ac.inputName}-checked}`,\n        selected: true\n      }, i);\n    }\n\n    ac.$el.find('.autocomplete-values ul').html(valuesHTML);\n  }\n\n  preloaderHide() {\n    const ac = this;\n\n    if (ac.params.openIn === 'dropdown' && ac.$dropdownEl) {\n      ac.$dropdownEl.find('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n    } else {\n      $('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n    }\n  }\n\n  preloaderShow() {\n    const ac = this;\n\n    if (ac.params.openIn === 'dropdown' && ac.$dropdownEl) {\n      ac.$dropdownEl.find('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n    } else {\n      $('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n    }\n  }\n\n  renderPreloader() {\n    const ac = this;\n    const preloaders = {\n      iosPreloaderContent,\n      mdPreloaderContent,\n      auroraPreloaderContent\n    };\n    return $jsx(\"div\", {\n      class: `autocomplete-preloader preloader ${ac.params.preloaderColor ? `color-${ac.params.preloaderColor}` : ''}`\n    }, preloaders[`${ac.app.theme}PreloaderContent`] || '');\n  }\n\n  renderSearchbar() {\n    const ac = this;\n    if (ac.params.renderSearchbar) return ac.params.renderSearchbar.call(ac);\n    return $jsx(\"form\", {\n      class: \"searchbar\"\n    }, $jsx(\"div\", {\n      class: \"searchbar-inner\"\n    }, $jsx(\"div\", {\n      class: \"searchbar-input-wrap\"\n    }, $jsx(\"input\", {\n      type: \"search\",\n      spellcheck: ac.params.searchbarSpellcheck || 'false',\n      placeholder: ac.params.searchbarPlaceholder\n    }), $jsx(\"i\", {\n      class: \"searchbar-icon\"\n    }), $jsx(\"span\", {\n      class: \"input-clear-button\"\n    })), ac.params.searchbarDisableButton && $jsx(\"span\", {\n      class: \"searchbar-disable-button\"\n    }, ac.params.searchbarDisableText)));\n  }\n\n  renderItem(item, index) {\n    const ac = this;\n    if (ac.params.renderItem) return ac.params.renderItem.call(ac, item, index);\n    const itemValue = item.value && typeof item.value === 'string' ? item.value.replace(/\"/g, '&quot;') : item.value;\n\n    if (ac.params.openIn !== 'dropdown') {\n      return $jsx(\"li\", null, $jsx(\"label\", {\n        class: `item-${item.inputType} item-content`\n      }, $jsx(\"input\", {\n        type: item.inputType,\n        name: item.inputName,\n        value: itemValue,\n        _checked: item.selected\n      }), $jsx(\"i\", {\n        class: `icon icon-${item.inputType}`\n      }), $jsx(\"div\", {\n        class: \"item-inner\"\n      }, $jsx(\"div\", {\n        class: \"item-title\"\n      }, item.text))));\n    } // Dropdown\n\n\n    if (!item.placeholder) {\n      return $jsx(\"li\", null, $jsx(\"label\", {\n        class: \"item-radio item-content\",\n        \"data-value\": itemValue\n      }, $jsx(\"div\", {\n        class: \"item-inner\"\n      }, $jsx(\"div\", {\n        class: \"item-title\"\n      }, item.text))));\n    } // Dropwdown placeholder\n\n\n    return $jsx(\"li\", {\n      class: \"autocomplete-dropdown-placeholder\"\n    }, $jsx(\"label\", {\n      class: \"item-content\"\n    }, $jsx(\"div\", {\n      class: \"item-inner\"\n    }, $jsx(\"div\", {\n      class: \"item-title\"\n    }, item.text))));\n  }\n\n  renderNavbar() {\n    const ac = this;\n    if (ac.params.renderNavbar) return ac.params.renderNavbar.call(ac);\n    let pageTitle = ac.params.pageTitle;\n\n    if (typeof pageTitle === 'undefined' && ac.$openerEl && ac.$openerEl.length) {\n      pageTitle = ac.$openerEl.find('.item-title').text().trim();\n    }\n\n    const inPopup = ac.params.openIn === 'popup'; // eslint-disable-next-line\n\n    const navbarLeft = inPopup ? ac.params.preloader && $jsx(\"div\", {\n      class: \"left\"\n    }, ac.renderPreloader()) : $jsx(\"div\", {\n      class: \"left sliding\"\n    }, $jsx(\"a\", {\n      class: \"link back\"\n    }, $jsx(\"i\", {\n      class: \"icon icon-back\"\n    }), $jsx(\"span\", {\n      class: \"if-not-md\"\n    }, ac.params.pageBackLinkText)));\n    const navbarRight = inPopup ? $jsx(\"div\", {\n      class: \"right\"\n    }, $jsx(\"a\", {\n      class: \"link popup-close\",\n      \"data-popup\": \".autocomplete-popup\"\n    }, ac.params.popupCloseLinkText)) : ac.params.preloader && $jsx(\"div\", {\n      class: \"right\"\n    }, ac.renderPreloader());\n    return $jsx(\"div\", {\n      class: `navbar ${ac.params.navbarColorTheme ? `color-${ac.params.navbarColorTheme}` : ''}`\n    }, $jsx(\"div\", {\n      class: \"navbar-bg\"\n    }), $jsx(\"div\", {\n      class: `navbar-inner ${ac.params.navbarColorTheme ? `color-${ac.params.navbarColorTheme}` : ''}`\n    }, navbarLeft, pageTitle && $jsx(\"div\", {\n      class: \"title sliding\"\n    }, pageTitle), navbarRight, $jsx(\"div\", {\n      class: \"subnavbar sliding\"\n    }, ac.renderSearchbar())));\n  }\n\n  renderDropdown() {\n    const ac = this;\n    if (ac.params.renderDropdown) return ac.params.renderDropdown.call(ac, ac.items);\n    return $jsx(\"div\", {\n      class: \"autocomplete-dropdown\"\n    }, $jsx(\"div\", {\n      class: \"autocomplete-dropdown-inner\"\n    }, $jsx(\"div\", {\n      class: `list ${!ac.params.expandInput ? 'no-safe-areas' : ''}`\n    }, $jsx(\"ul\", null))), ac.params.preloader && ac.renderPreloader());\n  }\n\n  renderPage(inPopup) {\n    const ac = this;\n    if (ac.params.renderPage) return ac.params.renderPage.call(ac, ac.items);\n    return $jsx(\"div\", {\n      class: \"page page-with-subnavbar autocomplete-page\",\n      \"data-name\": \"autocomplete-page\"\n    }, ac.renderNavbar(inPopup), $jsx(\"div\", {\n      class: \"searchbar-backdrop\"\n    }), $jsx(\"div\", {\n      class: \"page-content\"\n    }, $jsx(\"div\", {\n      class: `list autocomplete-list autocomplete-found autocomplete-list-${ac.id} ${ac.params.formColorTheme ? `color-${ac.params.formColorTheme}` : ''}`\n    }, $jsx(\"ul\", null)), $jsx(\"div\", {\n      class: \"list autocomplete-not-found\"\n    }, $jsx(\"ul\", null, $jsx(\"li\", {\n      class: \"item-content\"\n    }, $jsx(\"div\", {\n      class: \"item-inner\"\n    }, $jsx(\"div\", {\n      class: \"item-title\"\n    }, ac.params.notFoundText))))), $jsx(\"div\", {\n      class: \"list autocomplete-values\"\n    }, $jsx(\"ul\", null))));\n  }\n\n  renderPopup() {\n    const ac = this;\n    if (ac.params.renderPopup) return ac.params.renderPopup.call(ac, ac.items);\n    return $jsx(\"div\", {\n      class: \"popup autocomplete-popup\"\n    }, $jsx(\"div\", {\n      class: \"view\"\n    }, ac.renderPage(true), \";\"));\n  }\n\n  onOpen(type, el) {\n    const ac = this;\n    const app = ac.app;\n    const $el = $(el);\n    ac.$el = $el;\n    ac.el = $el[0];\n    ac.openedIn = type;\n    ac.opened = true;\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.attachDropdownEvents();\n      ac.$dropdownEl.addClass('autocomplete-dropdown-in');\n      ac.$inputEl.trigger('input');\n    } else {\n      // Init SB\n      let $searchbarEl = $el.find('.searchbar');\n\n      if (ac.params.openIn === 'page' && app.theme === 'ios' && $searchbarEl.length === 0) {\n        $searchbarEl = $(app.navbar.getElByPage($el)).find('.searchbar');\n      }\n\n      ac.searchbar = app.searchbar.create({\n        el: $searchbarEl,\n        backdropEl: $el.find('.searchbar-backdrop'),\n        customSearch: true,\n        on: {\n          search(sb, query) {\n            if (query.length === 0 && ac.searchbar.enabled) {\n              ac.searchbar.backdropShow();\n            } else {\n              ac.searchbar.backdropHide();\n            }\n\n            ac.source(query);\n          }\n\n        }\n      }); // Attach page events\n\n      ac.attachPageEvents(); // Update Values On Page Init\n\n      ac.updateValues(); // Source on load\n\n      if (ac.params.requestSourceOnOpen) ac.source('');\n    }\n\n    ac.emit('local::open autocompleteOpen', ac);\n  }\n\n  autoFocus() {\n    const ac = this;\n\n    if (ac.searchbar && ac.searchbar.$inputEl) {\n      ac.searchbar.$inputEl.focus();\n    }\n\n    return ac;\n  }\n\n  onOpened() {\n    const ac = this;\n\n    if (ac.params.openIn !== 'dropdown' && ac.params.autoFocus) {\n      ac.autoFocus();\n    }\n\n    ac.emit('local::opened autocompleteOpened', ac);\n  }\n\n  onClose() {\n    const ac = this;\n    if (ac.destroyed) return; // Destroy SB\n\n    if (ac.searchbar && ac.searchbar.destroy) {\n      ac.searchbar.destroy();\n      ac.searchbar = null;\n      delete ac.searchbar;\n    }\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.detachDropdownEvents();\n      ac.$dropdownEl.removeClass('autocomplete-dropdown-in').remove();\n      ac.$inputEl.parents('.item-content-dropdown-expanded').removeClass('item-content-dropdown-expanded');\n    } else {\n      ac.detachPageEvents();\n    }\n\n    ac.emit('local::close autocompleteClose', ac);\n  }\n\n  onClosed() {\n    const ac = this;\n    if (ac.destroyed) return;\n    ac.opened = false;\n    ac.$el = null;\n    ac.el = null;\n    delete ac.$el;\n    delete ac.el;\n    ac.emit('local::closed autocompleteClosed', ac);\n  }\n\n  openPage() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const pageHtml = ac.renderPage();\n    ac.view.router.navigate({\n      url: ac.url,\n      route: {\n        content: pageHtml,\n        path: ac.url,\n        on: {\n          pageBeforeIn(e, page) {\n            ac.onOpen('page', page.el);\n          },\n\n          pageAfterIn(e, page) {\n            ac.onOpened('page', page.el);\n          },\n\n          pageBeforeOut(e, page) {\n            ac.onClose('page', page.el);\n          },\n\n          pageAfterOut(e, page) {\n            ac.onClosed('page', page.el);\n          }\n\n        },\n        options: {\n          animate: ac.params.animate\n        }\n      }\n    });\n    return ac;\n  }\n\n  openPopup() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const popupHtml = ac.renderPopup();\n    const popupParams = {\n      content: popupHtml,\n      animate: ac.params.animate,\n      push: ac.params.popupPush,\n      swipeToClose: ac.params.popupSwipeToClose,\n      on: {\n        popupOpen(popup) {\n          ac.onOpen('popup', popup.el);\n        },\n\n        popupOpened(popup) {\n          ac.onOpened('popup', popup.el);\n        },\n\n        popupClose(popup) {\n          ac.onClose('popup', popup.el);\n        },\n\n        popupClosed(popup) {\n          ac.onClosed('popup', popup.el);\n        }\n\n      }\n    };\n\n    if (ac.params.routableModals && ac.view) {\n      ac.view.router.navigate({\n        url: ac.url,\n        route: {\n          path: ac.url,\n          popup: popupParams\n        }\n      });\n    } else {\n      ac.modal = ac.app.popup.create(popupParams).open(ac.params.animate);\n    }\n\n    return ac;\n  }\n\n  openDropdown() {\n    const ac = this;\n\n    if (!ac.$dropdownEl) {\n      ac.$dropdownEl = $(ac.renderDropdown());\n    }\n\n    const $listEl = ac.$inputEl.parents('.list');\n\n    if ($listEl.length && ac.$inputEl.parents('.item-content').length > 0 && ac.params.expandInput) {\n      ac.$inputEl.parents('.item-content').addClass('item-content-dropdown-expanded');\n    }\n\n    const $pageContentEl = ac.$inputEl.parents('.page-content');\n\n    if (ac.params.dropdownContainerEl) {\n      $(ac.params.dropdownContainerEl).append(ac.$dropdownEl);\n    } else if ($pageContentEl.length === 0) {\n      ac.$dropdownEl.insertAfter(ac.$inputEl);\n    } else {\n      ac.positionDropdown();\n      $pageContentEl.append(ac.$dropdownEl);\n    }\n\n    ac.onOpen('dropdown', ac.$dropdownEl);\n    ac.onOpened('dropdown', ac.$dropdownEl);\n  }\n\n  open() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const openIn = ac.params.openIn;\n    ac[`open${openIn.split('').map((el, index) => {\n      if (index === 0) return el.toUpperCase();\n      return el;\n    }).join('')}`]();\n    return ac;\n  }\n\n  close() {\n    const ac = this;\n    if (!ac.opened) return ac;\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.onClose();\n      ac.onClosed();\n    } else if (ac.params.routableModals && ac.view || ac.openedIn === 'page') {\n      ac.view.router.back({\n        animate: ac.params.animate\n      });\n    } else {\n      ac.modal.once('modalClosed', () => {\n        nextTick(() => {\n          if (ac.destroyed) return;\n          ac.modal.destroy();\n          delete ac.modal;\n        });\n      });\n      ac.modal.close();\n    }\n\n    return ac;\n  }\n\n  init() {\n    const ac = this;\n    ac.attachEvents();\n  }\n\n  destroy() {\n    const ac = this;\n    ac.emit('local::beforeDestroy autocompleteBeforeDestroy', ac);\n    ac.detachEvents();\n\n    if (ac.$inputEl && ac.$inputEl[0]) {\n      delete ac.$inputEl[0].f7Autocomplete;\n    }\n\n    if (ac.$openerEl && ac.$openerEl[0]) {\n      delete ac.$openerEl[0].f7Autocomplete;\n    }\n\n    deleteProps(ac);\n    ac.destroyed = true;\n  }\n\n}\n\nexport default Autocomplete;","map":{"version":3,"names":["$","extend","id","nextTick","deleteProps","iosPreloaderContent","mdPreloaderContent","auroraPreloaderContent","getDevice","Framework7Class","$jsx","Autocomplete","constructor","app","params","ac","device","defaults","on","autocomplete","searchbarDisableButton","theme","useModulesParams","$openerEl","openerEl","length","f7Autocomplete","$inputEl","inputEl","uniqueId","url","attr","find","inputType","multiple","value","inputName","$modalEl","undefined","$dropdownEl","previousQuery","onInputChange","query","val","trim","source","call","items","itemsHTML","limit","Math","min","regExp","highlightMatches","replace","RegExp","firstValue","firstItem","i","itemValue","valueProperty","itemText","textProperty","renderItem","text","dropdownPlaceholderText","placeholder","html","typeahead","toLowerCase","indexOf","setSelectionRange","previousValue","emit","onPageInputChange","isValues","parents","item","aValue","checked","splice","updateValues","push","onHtmlClick","e","$targetEl","target","is","closest","close","onOpenerClick","open","onInputFocus","onInputBlur","setTimeout","onResize","positionDropdown","onKeyDown","opened","keyCode","preventDefault","blur","$selectedItemLabel","trigger","$selectedItem","$newItem","eq","hasClass","removeClass","addClass","onDropdownClick","$clickedEl","clickedItem","updateInputValueOnSelect","attachEvents","openIn","inputEvents","android","detachEvents","off","attachDropdownEvents","detachDropdownEvents","attachPageEvents","$el","closeOnSelect","once","detachPageEvents","useModules","init","view","f7View","views","main","$pageContentEl","inputOffset","offset","inputOffsetWidth","offsetWidth","inputOffsetHeight","offsetHeight","$listEl","$listParent","each","parentEl","$parentEl","parent","listOffset","paddingBottom","parseInt","css","listOffsetLeft","left","inputOffsetLeft","rtl","inputOffsetTop","top","scrollTop","maxHeight","scrollHeight","paddingProp","paddingValue","expandInput","width","children","focus","selected","j","show","hide","valuesHTML","preloaderHide","preloaderShow","renderPreloader","preloaders","class","preloaderColor","renderSearchbar","type","spellcheck","searchbarSpellcheck","searchbarPlaceholder","searchbarDisableText","index","name","_checked","renderNavbar","pageTitle","inPopup","navbarLeft","preloader","pageBackLinkText","navbarRight","popupCloseLinkText","navbarColorTheme","renderDropdown","renderPage","formColorTheme","notFoundText","renderPopup","onOpen","el","openedIn","$searchbarEl","navbar","getElByPage","searchbar","create","backdropEl","customSearch","search","sb","enabled","backdropShow","backdropHide","requestSourceOnOpen","autoFocus","onOpened","onClose","destroyed","destroy","remove","onClosed","openPage","pageHtml","router","navigate","route","content","path","pageBeforeIn","page","pageAfterIn","pageBeforeOut","pageAfterOut","options","animate","openPopup","popupHtml","popupParams","popupPush","swipeToClose","popupSwipeToClose","popupOpen","popup","popupOpened","popupClose","popupClosed","routableModals","modal","openDropdown","dropdownContainerEl","append","insertAfter","split","map","toUpperCase","join","back"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/autocomplete/autocomplete-class.js"],"sourcesContent":["/* eslint \"no-useless-escape\": \"off\" */\nimport $ from '../../shared/dom7.js';\nimport { extend, id, nextTick, deleteProps, iosPreloaderContent, mdPreloaderContent, auroraPreloaderContent } from '../../shared/utils.js';\nimport { getDevice } from '../../shared/get-device.js';\nimport Framework7Class from '../../shared/class.js';\n/** @jsx $jsx */\n\nimport $jsx from '../../shared/$jsx.js';\n\nclass Autocomplete extends Framework7Class {\n  constructor(app, params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    super(params, [app]);\n    const ac = this;\n    ac.app = app;\n    const device = getDevice();\n    const defaults = extend({\n      on: {}\n    }, app.params.autocomplete);\n\n    if (typeof defaults.searchbarDisableButton === 'undefined') {\n      defaults.searchbarDisableButton = app.theme !== 'aurora';\n    } // Extend defaults with modules params\n\n\n    ac.useModulesParams(defaults);\n    ac.params = extend(defaults, params);\n    let $openerEl;\n\n    if (ac.params.openerEl) {\n      $openerEl = $(ac.params.openerEl);\n      if ($openerEl.length) $openerEl[0].f7Autocomplete = ac;\n    }\n\n    let $inputEl;\n\n    if (ac.params.inputEl) {\n      $inputEl = $(ac.params.inputEl);\n      if ($inputEl.length) $inputEl[0].f7Autocomplete = ac;\n    }\n\n    const uniqueId = id();\n    let url = params.url;\n\n    if (!url && $openerEl && $openerEl.length) {\n      if ($openerEl.attr('href')) url = $openerEl.attr('href');else if ($openerEl.find('a').length > 0) {\n        url = $openerEl.find('a').attr('href');\n      }\n    }\n\n    if (!url || url === '#' || url === '') url = ac.params.url;\n    const inputType = ac.params.multiple ? 'checkbox' : 'radio';\n    extend(ac, {\n      $openerEl,\n      openerEl: $openerEl && $openerEl[0],\n      $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      id: uniqueId,\n      url,\n      value: ac.params.value || [],\n      inputType,\n      inputName: `${inputType}-${uniqueId}`,\n      $modalEl: undefined,\n      $dropdownEl: undefined\n    });\n    let previousQuery = '';\n\n    function onInputChange() {\n      let query = ac.$inputEl.val().trim();\n      if (!ac.params.source) return;\n      ac.params.source.call(ac, query, items => {\n        let itemsHTML = '';\n        const limit = ac.params.limit ? Math.min(ac.params.limit, items.length) : items.length;\n        ac.items = items;\n        let regExp;\n\n        if (ac.params.highlightMatches) {\n          query = query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n          regExp = new RegExp(`(${query})`, 'i');\n        }\n\n        let firstValue;\n        let firstItem;\n\n        for (let i = 0; i < limit; i += 1) {\n          const itemValue = typeof items[i] === 'object' ? items[i][ac.params.valueProperty] : items[i];\n          const itemText = typeof items[i] === 'object' ? items[i][ac.params.textProperty] : items[i];\n\n          if (i === 0) {\n            firstValue = itemValue;\n            firstItem = ac.items[i];\n          }\n\n          itemsHTML += ac.renderItem({\n            value: itemValue,\n            text: ac.params.highlightMatches ? itemText.replace(regExp, '<b>$1</b>') : itemText\n          }, i);\n        }\n\n        if (itemsHTML === '' && query === '' && ac.params.dropdownPlaceholderText) {\n          itemsHTML += ac.renderItem({\n            placeholder: true,\n            text: ac.params.dropdownPlaceholderText\n          });\n        }\n\n        ac.$dropdownEl.find('ul').html(itemsHTML);\n\n        if (ac.params.typeahead) {\n          if (!firstValue || !firstItem) {\n            return;\n          }\n\n          if (firstValue.toLowerCase().indexOf(query.toLowerCase()) !== 0) {\n            return;\n          }\n\n          if (previousQuery.toLowerCase() === query.toLowerCase()) {\n            ac.value = [];\n            return;\n          }\n\n          if (previousQuery.toLowerCase().indexOf(query.toLowerCase()) === 0) {\n            previousQuery = query;\n            ac.value = [];\n            return;\n          }\n\n          $inputEl.val(firstValue);\n          $inputEl[0].setSelectionRange(query.length, firstValue.length);\n          const previousValue = typeof ac.value[0] === 'object' ? ac.value[0][ac.params.valueProperty] : ac.value[0];\n\n          if (!previousValue || firstValue.toLowerCase() !== previousValue.toLowerCase()) {\n            ac.value = [firstItem];\n            ac.emit('local::change autocompleteChange', [firstItem]);\n          }\n        }\n\n        previousQuery = query;\n      });\n    }\n\n    function onPageInputChange() {\n      const inputEl = this;\n      const value = inputEl.value;\n      const isValues = $(inputEl).parents('.autocomplete-values').length > 0;\n      let item;\n      let itemValue;\n      let aValue;\n\n      if (isValues) {\n        if (ac.inputType === 'checkbox' && !inputEl.checked) {\n          for (let i = 0; i < ac.value.length; i += 1) {\n            aValue = typeof ac.value[i] === 'string' ? ac.value[i] : ac.value[i][ac.params.valueProperty];\n\n            if (aValue === value || aValue * 1 === value * 1) {\n              ac.value.splice(i, 1);\n            }\n          }\n\n          ac.updateValues();\n          ac.emit('local::change autocompleteChange', ac.value);\n        }\n\n        return;\n      } // Find Related Item\n\n\n      for (let i = 0; i < ac.items.length; i += 1) {\n        itemValue = typeof ac.items[i] === 'object' ? ac.items[i][ac.params.valueProperty] : ac.items[i];\n        if (itemValue === value || itemValue * 1 === value * 1) item = ac.items[i];\n      }\n\n      if (ac.inputType === 'radio') {\n        ac.value = [item];\n      } else if (inputEl.checked) {\n        ac.value.push(item);\n      } else {\n        for (let i = 0; i < ac.value.length; i += 1) {\n          aValue = typeof ac.value[i] === 'object' ? ac.value[i][ac.params.valueProperty] : ac.value[i];\n\n          if (aValue === value || aValue * 1 === value * 1) {\n            ac.value.splice(i, 1);\n          }\n        }\n      } // Update Values Block\n\n\n      ac.updateValues(); // On Select Callback\n\n      if (ac.inputType === 'radio' && inputEl.checked || ac.inputType === 'checkbox') {\n        ac.emit('local::change autocompleteChange', ac.value);\n      }\n    }\n\n    function onHtmlClick(e) {\n      const $targetEl = $(e.target);\n      if ($targetEl.is(ac.$inputEl[0]) || ac.$dropdownEl && $targetEl.closest(ac.$dropdownEl[0]).length) return;\n      ac.close();\n    }\n\n    function onOpenerClick() {\n      ac.open();\n    }\n\n    function onInputFocus() {\n      ac.open();\n    }\n\n    function onInputBlur() {\n      if (ac.$dropdownEl.find('label.active-state').length > 0) return;\n      setTimeout(() => {\n        ac.close();\n      }, 0);\n    }\n\n    function onResize() {\n      ac.positionDropdown();\n    }\n\n    function onKeyDown(e) {\n      if (!ac.opened) return;\n\n      if (e.keyCode === 27) {\n        // ESC\n        e.preventDefault();\n        ac.$inputEl.blur();\n        return;\n      }\n\n      if (e.keyCode === 13) {\n        // Enter\n        const $selectedItemLabel = ac.$dropdownEl.find('.autocomplete-dropdown-selected label');\n\n        if ($selectedItemLabel.length) {\n          e.preventDefault();\n          $selectedItemLabel.trigger('click');\n          ac.$inputEl.blur();\n          return;\n        }\n\n        if (ac.params.typeahead) {\n          e.preventDefault();\n          ac.$inputEl.blur();\n        }\n\n        return;\n      }\n\n      if (e.keyCode !== 40 && e.keyCode !== 38) return;\n      e.preventDefault();\n      const $selectedItem = ac.$dropdownEl.find('.autocomplete-dropdown-selected');\n      let $newItem;\n\n      if ($selectedItem.length) {\n        $newItem = $selectedItem[e.keyCode === 40 ? 'next' : 'prev']('li');\n\n        if (!$newItem.length) {\n          $newItem = ac.$dropdownEl.find('li').eq(e.keyCode === 40 ? 0 : ac.$dropdownEl.find('li').length - 1);\n        }\n      } else {\n        $newItem = ac.$dropdownEl.find('li').eq(e.keyCode === 40 ? 0 : ac.$dropdownEl.find('li').length - 1);\n      }\n\n      if ($newItem.hasClass('autocomplete-dropdown-placeholder')) return;\n      $selectedItem.removeClass('autocomplete-dropdown-selected');\n      $newItem.addClass('autocomplete-dropdown-selected');\n    }\n\n    function onDropdownClick() {\n      const $clickedEl = $(this);\n      let clickedItem;\n\n      for (let i = 0; i < ac.items.length; i += 1) {\n        const itemValue = typeof ac.items[i] === 'object' ? ac.items[i][ac.params.valueProperty] : ac.items[i];\n        const value = $clickedEl.attr('data-value');\n\n        if (itemValue === value || itemValue * 1 === value * 1) {\n          clickedItem = ac.items[i];\n        }\n      }\n\n      if (ac.params.updateInputValueOnSelect) {\n        ac.$inputEl.val(typeof clickedItem === 'object' ? clickedItem[ac.params.valueProperty] : clickedItem);\n        ac.$inputEl.trigger('input change');\n      }\n\n      ac.value = [clickedItem];\n      ac.emit('local::change autocompleteChange', [clickedItem]);\n      ac.close();\n    }\n\n    ac.attachEvents = function attachEvents() {\n      if (ac.params.openIn !== 'dropdown' && ac.$openerEl) {\n        ac.$openerEl.on('click', onOpenerClick);\n      }\n\n      if (ac.params.openIn === 'dropdown' && ac.$inputEl) {\n        ac.$inputEl.on('focus', onInputFocus);\n        ac.$inputEl.on(ac.params.inputEvents, onInputChange);\n\n        if (device.android) {\n          $('html').on('click', onHtmlClick);\n        } else {\n          ac.$inputEl.on('blur', onInputBlur);\n        }\n\n        ac.$inputEl.on('keydown', onKeyDown);\n      }\n    };\n\n    ac.detachEvents = function attachEvents() {\n      if (ac.params.openIn !== 'dropdown' && ac.$openerEl) {\n        ac.$openerEl.off('click', onOpenerClick);\n      }\n\n      if (ac.params.openIn === 'dropdown' && ac.$inputEl) {\n        ac.$inputEl.off('focus', onInputFocus);\n        ac.$inputEl.off(ac.params.inputEvents, onInputChange);\n\n        if (device.android) {\n          $('html').off('click', onHtmlClick);\n        } else {\n          ac.$inputEl.off('blur', onInputBlur);\n        }\n\n        ac.$inputEl.off('keydown', onKeyDown);\n      }\n    };\n\n    ac.attachDropdownEvents = function attachDropdownEvents() {\n      ac.$dropdownEl.on('click', 'label', onDropdownClick);\n      app.on('resize', onResize);\n    };\n\n    ac.detachDropdownEvents = function detachDropdownEvents() {\n      ac.$dropdownEl.off('click', 'label', onDropdownClick);\n      app.off('resize', onResize);\n    };\n\n    ac.attachPageEvents = function attachPageEvents() {\n      ac.$el.on('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', onPageInputChange);\n\n      if (ac.params.closeOnSelect && !ac.params.multiple) {\n        ac.$el.once('click', '.list label', () => {\n          nextTick(() => {\n            ac.close();\n          });\n        });\n      }\n    };\n\n    ac.detachPageEvents = function detachPageEvents() {\n      ac.$el.off('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', onPageInputChange);\n    }; // Install Modules\n\n\n    ac.useModules(); // Init\n\n    ac.init();\n    return ac;\n  }\n\n  get view() {\n    const ac = this;\n    const {\n      $openerEl,\n      $inputEl,\n      app\n    } = ac;\n    let view;\n\n    if (ac.params.view) {\n      view = ac.params.view;\n    } else if ($openerEl || $inputEl) {\n      const $el = $openerEl || $inputEl;\n      view = $el.closest('.view').length && $el.closest('.view')[0].f7View;\n    }\n\n    if (!view) view = app.views.main;\n    return view;\n  }\n\n  positionDropdown() {\n    const ac = this;\n    const {\n      $inputEl,\n      app,\n      $dropdownEl\n    } = ac;\n    const $pageContentEl = $inputEl.parents('.page-content');\n    if ($pageContentEl.length === 0) return;\n    const inputOffset = $inputEl.offset();\n    const inputOffsetWidth = $inputEl[0].offsetWidth;\n    const inputOffsetHeight = $inputEl[0].offsetHeight;\n    const $listEl = $inputEl.parents('.list');\n    let $listParent;\n    $listEl.parents().each(parentEl => {\n      if ($listParent) return;\n      const $parentEl = $(parentEl);\n      if ($parentEl.parent($pageContentEl).length) $listParent = $parentEl;\n    });\n    const listOffset = $listEl.offset();\n    const paddingBottom = parseInt($pageContentEl.css('padding-bottom'), 10);\n    const listOffsetLeft = $listEl.length > 0 ? listOffset.left - $pageContentEl.offset().left : 0;\n    const inputOffsetLeft = inputOffset.left - ($listEl.length > 0 ? listOffset.left : 0) - (app.rtl ? 0 : 0);\n    const inputOffsetTop = inputOffset.top - ($pageContentEl.offset().top - $pageContentEl[0].scrollTop);\n    const maxHeight = $pageContentEl[0].scrollHeight - paddingBottom - (inputOffsetTop + $pageContentEl[0].scrollTop) - $inputEl[0].offsetHeight;\n    const paddingProp = app.rtl ? 'padding-right' : 'padding-left';\n    let paddingValue;\n\n    if ($listEl.length && !ac.params.expandInput) {\n      paddingValue = (app.rtl ? $listEl[0].offsetWidth - inputOffsetLeft - inputOffsetWidth : inputOffsetLeft) - (app.theme === 'md' ? 16 : 15);\n    }\n\n    $dropdownEl.css({\n      left: `${$listEl.length > 0 ? listOffsetLeft : inputOffsetLeft}px`,\n      top: `${inputOffsetTop + $pageContentEl[0].scrollTop + inputOffsetHeight}px`,\n      width: `${$listEl.length > 0 ? $listEl[0].offsetWidth : inputOffsetWidth}px`\n    });\n    $dropdownEl.children('.autocomplete-dropdown-inner').css({\n      maxHeight: `${maxHeight}px`,\n      [paddingProp]: $listEl.length > 0 && !ac.params.expandInput ? `${paddingValue}px` : ''\n    });\n  }\n\n  focus() {\n    const ac = this;\n    ac.$el.find('input[type=search]').focus();\n  }\n\n  source(query) {\n    const ac = this;\n    if (!ac.params.source) return;\n    const {\n      $el\n    } = ac;\n    ac.params.source.call(ac, query, items => {\n      let itemsHTML = '';\n      const limit = ac.params.limit ? Math.min(ac.params.limit, items.length) : items.length;\n      ac.items = items;\n\n      for (let i = 0; i < limit; i += 1) {\n        let selected = false;\n        const itemValue = typeof items[i] === 'object' ? items[i][ac.params.valueProperty] : items[i];\n\n        for (let j = 0; j < ac.value.length; j += 1) {\n          const aValue = typeof ac.value[j] === 'object' ? ac.value[j][ac.params.valueProperty] : ac.value[j];\n          if (aValue === itemValue || aValue * 1 === itemValue * 1) selected = true;\n        }\n\n        itemsHTML += ac.renderItem({\n          value: itemValue,\n          text: typeof items[i] === 'object' ? items[i][ac.params.textProperty] : items[i],\n          inputType: ac.inputType,\n          id: ac.id,\n          inputName: ac.inputName,\n          selected\n        }, i);\n      }\n\n      $el.find('.autocomplete-found ul').html(itemsHTML);\n\n      if (items.length === 0) {\n        if (query.length !== 0) {\n          $el.find('.autocomplete-not-found').show();\n          $el.find('.autocomplete-found, .autocomplete-values').hide();\n        } else {\n          $el.find('.autocomplete-values').show();\n          $el.find('.autocomplete-found, .autocomplete-not-found').hide();\n        }\n      } else {\n        $el.find('.autocomplete-found').show();\n        $el.find('.autocomplete-not-found, .autocomplete-values').hide();\n      }\n    });\n  }\n\n  updateValues() {\n    const ac = this;\n    let valuesHTML = '';\n\n    for (let i = 0; i < ac.value.length; i += 1) {\n      valuesHTML += ac.renderItem({\n        value: typeof ac.value[i] === 'object' ? ac.value[i][ac.params.valueProperty] : ac.value[i],\n        text: typeof ac.value[i] === 'object' ? ac.value[i][ac.params.textProperty] : ac.value[i],\n        inputType: ac.inputType,\n        id: ac.id,\n        inputName: `${ac.inputName}-checked}`,\n        selected: true\n      }, i);\n    }\n\n    ac.$el.find('.autocomplete-values ul').html(valuesHTML);\n  }\n\n  preloaderHide() {\n    const ac = this;\n\n    if (ac.params.openIn === 'dropdown' && ac.$dropdownEl) {\n      ac.$dropdownEl.find('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n    } else {\n      $('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n    }\n  }\n\n  preloaderShow() {\n    const ac = this;\n\n    if (ac.params.openIn === 'dropdown' && ac.$dropdownEl) {\n      ac.$dropdownEl.find('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n    } else {\n      $('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n    }\n  }\n\n  renderPreloader() {\n    const ac = this;\n    const preloaders = {\n      iosPreloaderContent,\n      mdPreloaderContent,\n      auroraPreloaderContent\n    };\n    return $jsx(\"div\", {\n      class: `autocomplete-preloader preloader ${ac.params.preloaderColor ? `color-${ac.params.preloaderColor}` : ''}`\n    }, preloaders[`${ac.app.theme}PreloaderContent`] || '');\n  }\n\n  renderSearchbar() {\n    const ac = this;\n    if (ac.params.renderSearchbar) return ac.params.renderSearchbar.call(ac);\n    return $jsx(\"form\", {\n      class: \"searchbar\"\n    }, $jsx(\"div\", {\n      class: \"searchbar-inner\"\n    }, $jsx(\"div\", {\n      class: \"searchbar-input-wrap\"\n    }, $jsx(\"input\", {\n      type: \"search\",\n      spellcheck: ac.params.searchbarSpellcheck || 'false',\n      placeholder: ac.params.searchbarPlaceholder\n    }), $jsx(\"i\", {\n      class: \"searchbar-icon\"\n    }), $jsx(\"span\", {\n      class: \"input-clear-button\"\n    })), ac.params.searchbarDisableButton && $jsx(\"span\", {\n      class: \"searchbar-disable-button\"\n    }, ac.params.searchbarDisableText)));\n  }\n\n  renderItem(item, index) {\n    const ac = this;\n    if (ac.params.renderItem) return ac.params.renderItem.call(ac, item, index);\n    const itemValue = item.value && typeof item.value === 'string' ? item.value.replace(/\"/g, '&quot;') : item.value;\n\n    if (ac.params.openIn !== 'dropdown') {\n      return $jsx(\"li\", null, $jsx(\"label\", {\n        class: `item-${item.inputType} item-content`\n      }, $jsx(\"input\", {\n        type: item.inputType,\n        name: item.inputName,\n        value: itemValue,\n        _checked: item.selected\n      }), $jsx(\"i\", {\n        class: `icon icon-${item.inputType}`\n      }), $jsx(\"div\", {\n        class: \"item-inner\"\n      }, $jsx(\"div\", {\n        class: \"item-title\"\n      }, item.text))));\n    } // Dropdown\n\n\n    if (!item.placeholder) {\n      return $jsx(\"li\", null, $jsx(\"label\", {\n        class: \"item-radio item-content\",\n        \"data-value\": itemValue\n      }, $jsx(\"div\", {\n        class: \"item-inner\"\n      }, $jsx(\"div\", {\n        class: \"item-title\"\n      }, item.text))));\n    } // Dropwdown placeholder\n\n\n    return $jsx(\"li\", {\n      class: \"autocomplete-dropdown-placeholder\"\n    }, $jsx(\"label\", {\n      class: \"item-content\"\n    }, $jsx(\"div\", {\n      class: \"item-inner\"\n    }, $jsx(\"div\", {\n      class: \"item-title\"\n    }, item.text))));\n  }\n\n  renderNavbar() {\n    const ac = this;\n    if (ac.params.renderNavbar) return ac.params.renderNavbar.call(ac);\n    let pageTitle = ac.params.pageTitle;\n\n    if (typeof pageTitle === 'undefined' && ac.$openerEl && ac.$openerEl.length) {\n      pageTitle = ac.$openerEl.find('.item-title').text().trim();\n    }\n\n    const inPopup = ac.params.openIn === 'popup'; // eslint-disable-next-line\n\n    const navbarLeft = inPopup ? ac.params.preloader && $jsx(\"div\", {\n      class: \"left\"\n    }, ac.renderPreloader()) : $jsx(\"div\", {\n      class: \"left sliding\"\n    }, $jsx(\"a\", {\n      class: \"link back\"\n    }, $jsx(\"i\", {\n      class: \"icon icon-back\"\n    }), $jsx(\"span\", {\n      class: \"if-not-md\"\n    }, ac.params.pageBackLinkText)));\n    const navbarRight = inPopup ? $jsx(\"div\", {\n      class: \"right\"\n    }, $jsx(\"a\", {\n      class: \"link popup-close\",\n      \"data-popup\": \".autocomplete-popup\"\n    }, ac.params.popupCloseLinkText)) : ac.params.preloader && $jsx(\"div\", {\n      class: \"right\"\n    }, ac.renderPreloader());\n    return $jsx(\"div\", {\n      class: `navbar ${ac.params.navbarColorTheme ? `color-${ac.params.navbarColorTheme}` : ''}`\n    }, $jsx(\"div\", {\n      class: \"navbar-bg\"\n    }), $jsx(\"div\", {\n      class: `navbar-inner ${ac.params.navbarColorTheme ? `color-${ac.params.navbarColorTheme}` : ''}`\n    }, navbarLeft, pageTitle && $jsx(\"div\", {\n      class: \"title sliding\"\n    }, pageTitle), navbarRight, $jsx(\"div\", {\n      class: \"subnavbar sliding\"\n    }, ac.renderSearchbar())));\n  }\n\n  renderDropdown() {\n    const ac = this;\n    if (ac.params.renderDropdown) return ac.params.renderDropdown.call(ac, ac.items);\n    return $jsx(\"div\", {\n      class: \"autocomplete-dropdown\"\n    }, $jsx(\"div\", {\n      class: \"autocomplete-dropdown-inner\"\n    }, $jsx(\"div\", {\n      class: `list ${!ac.params.expandInput ? 'no-safe-areas' : ''}`\n    }, $jsx(\"ul\", null))), ac.params.preloader && ac.renderPreloader());\n  }\n\n  renderPage(inPopup) {\n    const ac = this;\n    if (ac.params.renderPage) return ac.params.renderPage.call(ac, ac.items);\n    return $jsx(\"div\", {\n      class: \"page page-with-subnavbar autocomplete-page\",\n      \"data-name\": \"autocomplete-page\"\n    }, ac.renderNavbar(inPopup), $jsx(\"div\", {\n      class: \"searchbar-backdrop\"\n    }), $jsx(\"div\", {\n      class: \"page-content\"\n    }, $jsx(\"div\", {\n      class: `list autocomplete-list autocomplete-found autocomplete-list-${ac.id} ${ac.params.formColorTheme ? `color-${ac.params.formColorTheme}` : ''}`\n    }, $jsx(\"ul\", null)), $jsx(\"div\", {\n      class: \"list autocomplete-not-found\"\n    }, $jsx(\"ul\", null, $jsx(\"li\", {\n      class: \"item-content\"\n    }, $jsx(\"div\", {\n      class: \"item-inner\"\n    }, $jsx(\"div\", {\n      class: \"item-title\"\n    }, ac.params.notFoundText))))), $jsx(\"div\", {\n      class: \"list autocomplete-values\"\n    }, $jsx(\"ul\", null))));\n  }\n\n  renderPopup() {\n    const ac = this;\n    if (ac.params.renderPopup) return ac.params.renderPopup.call(ac, ac.items);\n    return $jsx(\"div\", {\n      class: \"popup autocomplete-popup\"\n    }, $jsx(\"div\", {\n      class: \"view\"\n    }, ac.renderPage(true), \";\"));\n  }\n\n  onOpen(type, el) {\n    const ac = this;\n    const app = ac.app;\n    const $el = $(el);\n    ac.$el = $el;\n    ac.el = $el[0];\n    ac.openedIn = type;\n    ac.opened = true;\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.attachDropdownEvents();\n      ac.$dropdownEl.addClass('autocomplete-dropdown-in');\n      ac.$inputEl.trigger('input');\n    } else {\n      // Init SB\n      let $searchbarEl = $el.find('.searchbar');\n\n      if (ac.params.openIn === 'page' && app.theme === 'ios' && $searchbarEl.length === 0) {\n        $searchbarEl = $(app.navbar.getElByPage($el)).find('.searchbar');\n      }\n\n      ac.searchbar = app.searchbar.create({\n        el: $searchbarEl,\n        backdropEl: $el.find('.searchbar-backdrop'),\n        customSearch: true,\n        on: {\n          search(sb, query) {\n            if (query.length === 0 && ac.searchbar.enabled) {\n              ac.searchbar.backdropShow();\n            } else {\n              ac.searchbar.backdropHide();\n            }\n\n            ac.source(query);\n          }\n\n        }\n      }); // Attach page events\n\n      ac.attachPageEvents(); // Update Values On Page Init\n\n      ac.updateValues(); // Source on load\n\n      if (ac.params.requestSourceOnOpen) ac.source('');\n    }\n\n    ac.emit('local::open autocompleteOpen', ac);\n  }\n\n  autoFocus() {\n    const ac = this;\n\n    if (ac.searchbar && ac.searchbar.$inputEl) {\n      ac.searchbar.$inputEl.focus();\n    }\n\n    return ac;\n  }\n\n  onOpened() {\n    const ac = this;\n\n    if (ac.params.openIn !== 'dropdown' && ac.params.autoFocus) {\n      ac.autoFocus();\n    }\n\n    ac.emit('local::opened autocompleteOpened', ac);\n  }\n\n  onClose() {\n    const ac = this;\n    if (ac.destroyed) return; // Destroy SB\n\n    if (ac.searchbar && ac.searchbar.destroy) {\n      ac.searchbar.destroy();\n      ac.searchbar = null;\n      delete ac.searchbar;\n    }\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.detachDropdownEvents();\n      ac.$dropdownEl.removeClass('autocomplete-dropdown-in').remove();\n      ac.$inputEl.parents('.item-content-dropdown-expanded').removeClass('item-content-dropdown-expanded');\n    } else {\n      ac.detachPageEvents();\n    }\n\n    ac.emit('local::close autocompleteClose', ac);\n  }\n\n  onClosed() {\n    const ac = this;\n    if (ac.destroyed) return;\n    ac.opened = false;\n    ac.$el = null;\n    ac.el = null;\n    delete ac.$el;\n    delete ac.el;\n    ac.emit('local::closed autocompleteClosed', ac);\n  }\n\n  openPage() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const pageHtml = ac.renderPage();\n    ac.view.router.navigate({\n      url: ac.url,\n      route: {\n        content: pageHtml,\n        path: ac.url,\n        on: {\n          pageBeforeIn(e, page) {\n            ac.onOpen('page', page.el);\n          },\n\n          pageAfterIn(e, page) {\n            ac.onOpened('page', page.el);\n          },\n\n          pageBeforeOut(e, page) {\n            ac.onClose('page', page.el);\n          },\n\n          pageAfterOut(e, page) {\n            ac.onClosed('page', page.el);\n          }\n\n        },\n        options: {\n          animate: ac.params.animate\n        }\n      }\n    });\n    return ac;\n  }\n\n  openPopup() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const popupHtml = ac.renderPopup();\n    const popupParams = {\n      content: popupHtml,\n      animate: ac.params.animate,\n      push: ac.params.popupPush,\n      swipeToClose: ac.params.popupSwipeToClose,\n      on: {\n        popupOpen(popup) {\n          ac.onOpen('popup', popup.el);\n        },\n\n        popupOpened(popup) {\n          ac.onOpened('popup', popup.el);\n        },\n\n        popupClose(popup) {\n          ac.onClose('popup', popup.el);\n        },\n\n        popupClosed(popup) {\n          ac.onClosed('popup', popup.el);\n        }\n\n      }\n    };\n\n    if (ac.params.routableModals && ac.view) {\n      ac.view.router.navigate({\n        url: ac.url,\n        route: {\n          path: ac.url,\n          popup: popupParams\n        }\n      });\n    } else {\n      ac.modal = ac.app.popup.create(popupParams).open(ac.params.animate);\n    }\n\n    return ac;\n  }\n\n  openDropdown() {\n    const ac = this;\n\n    if (!ac.$dropdownEl) {\n      ac.$dropdownEl = $(ac.renderDropdown());\n    }\n\n    const $listEl = ac.$inputEl.parents('.list');\n\n    if ($listEl.length && ac.$inputEl.parents('.item-content').length > 0 && ac.params.expandInput) {\n      ac.$inputEl.parents('.item-content').addClass('item-content-dropdown-expanded');\n    }\n\n    const $pageContentEl = ac.$inputEl.parents('.page-content');\n\n    if (ac.params.dropdownContainerEl) {\n      $(ac.params.dropdownContainerEl).append(ac.$dropdownEl);\n    } else if ($pageContentEl.length === 0) {\n      ac.$dropdownEl.insertAfter(ac.$inputEl);\n    } else {\n      ac.positionDropdown();\n      $pageContentEl.append(ac.$dropdownEl);\n    }\n\n    ac.onOpen('dropdown', ac.$dropdownEl);\n    ac.onOpened('dropdown', ac.$dropdownEl);\n  }\n\n  open() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const openIn = ac.params.openIn;\n    ac[`open${openIn.split('').map((el, index) => {\n      if (index === 0) return el.toUpperCase();\n      return el;\n    }).join('')}`]();\n    return ac;\n  }\n\n  close() {\n    const ac = this;\n    if (!ac.opened) return ac;\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.onClose();\n      ac.onClosed();\n    } else if (ac.params.routableModals && ac.view || ac.openedIn === 'page') {\n      ac.view.router.back({\n        animate: ac.params.animate\n      });\n    } else {\n      ac.modal.once('modalClosed', () => {\n        nextTick(() => {\n          if (ac.destroyed) return;\n          ac.modal.destroy();\n          delete ac.modal;\n        });\n      });\n      ac.modal.close();\n    }\n\n    return ac;\n  }\n\n  init() {\n    const ac = this;\n    ac.attachEvents();\n  }\n\n  destroy() {\n    const ac = this;\n    ac.emit('local::beforeDestroy autocompleteBeforeDestroy', ac);\n    ac.detachEvents();\n\n    if (ac.$inputEl && ac.$inputEl[0]) {\n      delete ac.$inputEl[0].f7Autocomplete;\n    }\n\n    if (ac.$openerEl && ac.$openerEl[0]) {\n      delete ac.$openerEl[0].f7Autocomplete;\n    }\n\n    deleteProps(ac);\n    ac.destroyed = true;\n  }\n\n}\n\nexport default Autocomplete;"],"mappings":"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"},"metadata":{},"sourceType":"module"}