{"ast":null,"code":"import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { bindMethods } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\nconst Lazy = {\n  destroy(pageEl) {\n    const $pageEl = $(pageEl).closest('.page');\n    if (!$pageEl.length) return;\n\n    if ($pageEl[0].f7LazyDestroy) {\n      $pageEl[0].f7LazyDestroy();\n    }\n  },\n\n  create(pageEl) {\n    const app = this;\n    const window = getWindow();\n    const support = getSupport();\n    const $pageEl = $(pageEl).closest('.page').eq(0); // Lazy images\n\n    const $lazyLoadImages = $pageEl.find('.lazy');\n    if ($lazyLoadImages.length === 0 && !$pageEl.hasClass('lazy')) return; // Placeholder\n\n    const placeholderSrc = app.params.lazy.placeholder;\n\n    if (placeholderSrc !== false) {\n      $lazyLoadImages.each(lazyEl => {\n        if ($(lazyEl).attr('data-src') && !$(lazyEl).attr('src')) $(lazyEl).attr('src', placeholderSrc);\n      });\n    } // load image\n\n\n    const imagesSequence = [];\n    let imageIsLoading = false;\n\n    function onImageComplete(lazyEl) {\n      if (imagesSequence.indexOf(lazyEl) >= 0) {\n        imagesSequence.splice(imagesSequence.indexOf(lazyEl), 1);\n      }\n\n      imageIsLoading = false;\n\n      if (app.params.lazy.sequential && imagesSequence.length > 0) {\n        imageIsLoading = true;\n        app.lazy.loadImage(imagesSequence[0], onImageComplete);\n      }\n    }\n\n    function observerCallback(entries, observer) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          if (app.params.lazy.sequential && imageIsLoading) {\n            if (imagesSequence.indexOf(entry.target) < 0) imagesSequence.push(entry.target);\n            return;\n          } // Load image\n\n\n          imageIsLoading = true;\n          app.lazy.loadImage(entry.target, onImageComplete); // Detach\n\n          observer.unobserve(entry.target);\n        }\n      });\n    }\n\n    if (app.params.lazy.observer && support.intersectionObserver) {\n      let observer = $pageEl[0].f7LazyObserver;\n\n      if (!observer) {\n        observer = new window.IntersectionObserver(observerCallback, {\n          root: $pageEl[0]\n        });\n      }\n\n      $lazyLoadImages.each(el => {\n        if (el.f7LazyObserverAdded) return;\n        el.f7LazyObserverAdded = true;\n        observer.observe(el);\n      });\n\n      if (!$pageEl[0].f7LazyDestroy) {\n        $pageEl[0].f7LazyDestroy = () => {\n          observer.disconnect();\n          delete $pageEl[0].f7LazyDestroy;\n          delete $pageEl[0].f7LazyObserver;\n        };\n      }\n\n      return;\n    }\n\n    function lazyHandler() {\n      app.lazy.load($pageEl, lazyEl => {\n        if (app.params.lazy.sequential && imageIsLoading) {\n          if (imagesSequence.indexOf(lazyEl) < 0) imagesSequence.push(lazyEl);\n          return;\n        }\n\n        imageIsLoading = true;\n        app.lazy.loadImage(lazyEl, onImageComplete);\n      });\n    }\n\n    function attachEvents() {\n      $pageEl[0].f7LazyAttached = true;\n      $pageEl.on('lazy', lazyHandler);\n      $pageEl.on('scroll', lazyHandler, true);\n      $pageEl.find('.tab').on('tab:mounted tab:show', lazyHandler);\n      app.on('resize', lazyHandler);\n    }\n\n    function detachEvents() {\n      $pageEl[0].f7LazyAttached = false;\n      delete $pageEl[0].f7LazyAttached;\n      $pageEl.off('lazy', lazyHandler);\n      $pageEl.off('scroll', lazyHandler, true);\n      $pageEl.find('.tab').off('tab:mounted tab:show', lazyHandler);\n      app.off('resize', lazyHandler);\n    } // Store detach function\n\n\n    if (!$pageEl[0].f7LazyDestroy) {\n      $pageEl[0].f7LazyDestroy = detachEvents;\n    } // Attach events\n\n\n    if (!$pageEl[0].f7LazyAttached) {\n      attachEvents();\n    } // Run loader on page load/init\n\n\n    lazyHandler();\n  },\n\n  isInViewport(lazyEl) {\n    const app = this;\n    const rect = lazyEl.getBoundingClientRect();\n    const threshold = app.params.lazy.threshold || 0;\n    return rect.top >= 0 - threshold && rect.left >= 0 - threshold && rect.top <= app.height + threshold && rect.left <= app.width + threshold;\n  },\n\n  loadImage(imageEl, callback) {\n    const app = this;\n    const window = getWindow();\n    const $imageEl = $(imageEl);\n    const bg = $imageEl.attr('data-background');\n    const src = bg || $imageEl.attr('data-src');\n\n    function onLoad() {\n      $imageEl.removeClass('lazy').addClass('lazy-loaded');\n\n      if (bg) {\n        $imageEl.css('background-image', `url(${src})`);\n      } else if (src) {\n        $imageEl.attr('src', src);\n      }\n\n      if (callback) callback(imageEl);\n      $imageEl.trigger('lazy:loaded');\n      app.emit('lazyLoaded', $imageEl[0]);\n    }\n\n    if (!src) {\n      $imageEl.trigger('lazy:load');\n      app.emit('lazyLoad', $imageEl[0]);\n      onLoad();\n      return;\n    }\n\n    function onError() {\n      $imageEl.removeClass('lazy').addClass('lazy-loaded');\n\n      if (bg) {\n        $imageEl.css('background-image', `url(${app.params.lazy.placeholder || ''})`);\n      } else {\n        $imageEl.attr('src', app.params.lazy.placeholder || '');\n      }\n\n      if (callback) callback(imageEl);\n      $imageEl.trigger('lazy:error');\n      app.emit('lazyError', $imageEl[0]);\n    }\n\n    const image = new window.Image();\n    image.onload = onLoad;\n    image.onerror = onError;\n    image.src = src;\n    $imageEl.removeAttr('data-src').removeAttr('data-background'); // Add loaded callback and events\n\n    $imageEl.trigger('lazy:load');\n    app.emit('lazyLoad', $imageEl[0]);\n  },\n\n  load(pageEl, callback) {\n    const app = this;\n    let $pageEl = $(pageEl);\n    if (!$pageEl.hasClass('page')) $pageEl = $pageEl.parents('.page').eq(0);\n\n    if ($pageEl.length === 0) {\n      return;\n    }\n\n    $pageEl.find('.lazy').each(lazyEl => {\n      const $lazyEl = $(lazyEl);\n\n      if ($lazyEl.parents('.tab:not(.tab-active)').length > 0) {\n        return;\n      }\n\n      if (app.lazy.isInViewport(lazyEl)) {\n        if (callback) callback(lazyEl);else app.lazy.loadImage(lazyEl);\n      }\n    });\n  }\n\n};\nexport default {\n  name: 'lazy',\n  params: {\n    lazy: {\n      placeholder: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==',\n      threshold: 0,\n      sequential: true,\n      observer: true\n    }\n  },\n\n  create() {\n    const app = this;\n    bindMethods(app, {\n      lazy: Lazy\n    });\n  },\n\n  on: {\n    pageInit(page) {\n      const app = this;\n\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.create(page.$el);\n      }\n    },\n\n    pageAfterIn(page) {\n      const app = this;\n      const support = getSupport();\n      if (app.params.lazy.observer && support.intersectionObserver) return;\n\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.create(page.$el);\n      }\n    },\n\n    pageBeforeRemove(page) {\n      const app = this;\n\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.destroy(page.$el);\n      }\n    },\n\n    tabMounted(tabEl) {\n      const app = this;\n      const $tabEl = $(tabEl);\n\n      if ($tabEl.find('.lazy').length > 0 || $tabEl.hasClass('lazy')) {\n        app.lazy.create($tabEl);\n      }\n    },\n\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      const support = getSupport();\n      if (app.params.lazy.observer && support.intersectionObserver) return;\n      const $tabEl = $(tabEl);\n\n      if ($tabEl.find('.lazy').length > 0 || $tabEl.hasClass('lazy')) {\n        app.lazy.destroy($tabEl);\n      }\n    }\n\n  }\n};","map":{"version":3,"names":["getWindow","$","bindMethods","getSupport","Lazy","destroy","pageEl","$pageEl","closest","length","f7LazyDestroy","create","app","window","support","eq","$lazyLoadImages","find","hasClass","placeholderSrc","params","lazy","placeholder","each","lazyEl","attr","imagesSequence","imageIsLoading","onImageComplete","indexOf","splice","sequential","loadImage","observerCallback","entries","observer","forEach","entry","isIntersecting","target","push","unobserve","intersectionObserver","f7LazyObserver","IntersectionObserver","root","el","f7LazyObserverAdded","observe","disconnect","lazyHandler","load","attachEvents","f7LazyAttached","on","detachEvents","off","isInViewport","rect","getBoundingClientRect","threshold","top","left","height","width","imageEl","callback","$imageEl","bg","src","onLoad","removeClass","addClass","css","trigger","emit","onError","image","Image","onload","onerror","removeAttr","parents","$lazyEl","name","pageInit","page","$el","pageAfterIn","pageBeforeRemove","tabMounted","tabEl","$tabEl","tabBeforeRemove"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/lazy/lazy.js"],"sourcesContent":["import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7.js';\nimport { bindMethods } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\nconst Lazy = {\n  destroy(pageEl) {\n    const $pageEl = $(pageEl).closest('.page');\n    if (!$pageEl.length) return;\n\n    if ($pageEl[0].f7LazyDestroy) {\n      $pageEl[0].f7LazyDestroy();\n    }\n  },\n\n  create(pageEl) {\n    const app = this;\n    const window = getWindow();\n    const support = getSupport();\n    const $pageEl = $(pageEl).closest('.page').eq(0); // Lazy images\n\n    const $lazyLoadImages = $pageEl.find('.lazy');\n    if ($lazyLoadImages.length === 0 && !$pageEl.hasClass('lazy')) return; // Placeholder\n\n    const placeholderSrc = app.params.lazy.placeholder;\n\n    if (placeholderSrc !== false) {\n      $lazyLoadImages.each(lazyEl => {\n        if ($(lazyEl).attr('data-src') && !$(lazyEl).attr('src')) $(lazyEl).attr('src', placeholderSrc);\n      });\n    } // load image\n\n\n    const imagesSequence = [];\n    let imageIsLoading = false;\n\n    function onImageComplete(lazyEl) {\n      if (imagesSequence.indexOf(lazyEl) >= 0) {\n        imagesSequence.splice(imagesSequence.indexOf(lazyEl), 1);\n      }\n\n      imageIsLoading = false;\n\n      if (app.params.lazy.sequential && imagesSequence.length > 0) {\n        imageIsLoading = true;\n        app.lazy.loadImage(imagesSequence[0], onImageComplete);\n      }\n    }\n\n    function observerCallback(entries, observer) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          if (app.params.lazy.sequential && imageIsLoading) {\n            if (imagesSequence.indexOf(entry.target) < 0) imagesSequence.push(entry.target);\n            return;\n          } // Load image\n\n\n          imageIsLoading = true;\n          app.lazy.loadImage(entry.target, onImageComplete); // Detach\n\n          observer.unobserve(entry.target);\n        }\n      });\n    }\n\n    if (app.params.lazy.observer && support.intersectionObserver) {\n      let observer = $pageEl[0].f7LazyObserver;\n\n      if (!observer) {\n        observer = new window.IntersectionObserver(observerCallback, {\n          root: $pageEl[0]\n        });\n      }\n\n      $lazyLoadImages.each(el => {\n        if (el.f7LazyObserverAdded) return;\n        el.f7LazyObserverAdded = true;\n        observer.observe(el);\n      });\n\n      if (!$pageEl[0].f7LazyDestroy) {\n        $pageEl[0].f7LazyDestroy = () => {\n          observer.disconnect();\n          delete $pageEl[0].f7LazyDestroy;\n          delete $pageEl[0].f7LazyObserver;\n        };\n      }\n\n      return;\n    }\n\n    function lazyHandler() {\n      app.lazy.load($pageEl, lazyEl => {\n        if (app.params.lazy.sequential && imageIsLoading) {\n          if (imagesSequence.indexOf(lazyEl) < 0) imagesSequence.push(lazyEl);\n          return;\n        }\n\n        imageIsLoading = true;\n        app.lazy.loadImage(lazyEl, onImageComplete);\n      });\n    }\n\n    function attachEvents() {\n      $pageEl[0].f7LazyAttached = true;\n      $pageEl.on('lazy', lazyHandler);\n      $pageEl.on('scroll', lazyHandler, true);\n      $pageEl.find('.tab').on('tab:mounted tab:show', lazyHandler);\n      app.on('resize', lazyHandler);\n    }\n\n    function detachEvents() {\n      $pageEl[0].f7LazyAttached = false;\n      delete $pageEl[0].f7LazyAttached;\n      $pageEl.off('lazy', lazyHandler);\n      $pageEl.off('scroll', lazyHandler, true);\n      $pageEl.find('.tab').off('tab:mounted tab:show', lazyHandler);\n      app.off('resize', lazyHandler);\n    } // Store detach function\n\n\n    if (!$pageEl[0].f7LazyDestroy) {\n      $pageEl[0].f7LazyDestroy = detachEvents;\n    } // Attach events\n\n\n    if (!$pageEl[0].f7LazyAttached) {\n      attachEvents();\n    } // Run loader on page load/init\n\n\n    lazyHandler();\n  },\n\n  isInViewport(lazyEl) {\n    const app = this;\n    const rect = lazyEl.getBoundingClientRect();\n    const threshold = app.params.lazy.threshold || 0;\n    return rect.top >= 0 - threshold && rect.left >= 0 - threshold && rect.top <= app.height + threshold && rect.left <= app.width + threshold;\n  },\n\n  loadImage(imageEl, callback) {\n    const app = this;\n    const window = getWindow();\n    const $imageEl = $(imageEl);\n    const bg = $imageEl.attr('data-background');\n    const src = bg || $imageEl.attr('data-src');\n\n    function onLoad() {\n      $imageEl.removeClass('lazy').addClass('lazy-loaded');\n\n      if (bg) {\n        $imageEl.css('background-image', `url(${src})`);\n      } else if (src) {\n        $imageEl.attr('src', src);\n      }\n\n      if (callback) callback(imageEl);\n      $imageEl.trigger('lazy:loaded');\n      app.emit('lazyLoaded', $imageEl[0]);\n    }\n\n    if (!src) {\n      $imageEl.trigger('lazy:load');\n      app.emit('lazyLoad', $imageEl[0]);\n      onLoad();\n      return;\n    }\n\n    function onError() {\n      $imageEl.removeClass('lazy').addClass('lazy-loaded');\n\n      if (bg) {\n        $imageEl.css('background-image', `url(${app.params.lazy.placeholder || ''})`);\n      } else {\n        $imageEl.attr('src', app.params.lazy.placeholder || '');\n      }\n\n      if (callback) callback(imageEl);\n      $imageEl.trigger('lazy:error');\n      app.emit('lazyError', $imageEl[0]);\n    }\n\n    const image = new window.Image();\n    image.onload = onLoad;\n    image.onerror = onError;\n    image.src = src;\n    $imageEl.removeAttr('data-src').removeAttr('data-background'); // Add loaded callback and events\n\n    $imageEl.trigger('lazy:load');\n    app.emit('lazyLoad', $imageEl[0]);\n  },\n\n  load(pageEl, callback) {\n    const app = this;\n    let $pageEl = $(pageEl);\n    if (!$pageEl.hasClass('page')) $pageEl = $pageEl.parents('.page').eq(0);\n\n    if ($pageEl.length === 0) {\n      return;\n    }\n\n    $pageEl.find('.lazy').each(lazyEl => {\n      const $lazyEl = $(lazyEl);\n\n      if ($lazyEl.parents('.tab:not(.tab-active)').length > 0) {\n        return;\n      }\n\n      if (app.lazy.isInViewport(lazyEl)) {\n        if (callback) callback(lazyEl);else app.lazy.loadImage(lazyEl);\n      }\n    });\n  }\n\n};\nexport default {\n  name: 'lazy',\n  params: {\n    lazy: {\n      placeholder: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==',\n      threshold: 0,\n      sequential: true,\n      observer: true\n    }\n  },\n\n  create() {\n    const app = this;\n    bindMethods(app, {\n      lazy: Lazy\n    });\n  },\n\n  on: {\n    pageInit(page) {\n      const app = this;\n\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.create(page.$el);\n      }\n    },\n\n    pageAfterIn(page) {\n      const app = this;\n      const support = getSupport();\n      if (app.params.lazy.observer && support.intersectionObserver) return;\n\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.create(page.$el);\n      }\n    },\n\n    pageBeforeRemove(page) {\n      const app = this;\n\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.destroy(page.$el);\n      }\n    },\n\n    tabMounted(tabEl) {\n      const app = this;\n      const $tabEl = $(tabEl);\n\n      if ($tabEl.find('.lazy').length > 0 || $tabEl.hasClass('lazy')) {\n        app.lazy.create($tabEl);\n      }\n    },\n\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      const support = getSupport();\n      if (app.params.lazy.observer && support.intersectionObserver) return;\n      const $tabEl = $(tabEl);\n\n      if ($tabEl.find('.lazy').length > 0 || $tabEl.hasClass('lazy')) {\n        app.lazy.destroy($tabEl);\n      }\n    }\n\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}