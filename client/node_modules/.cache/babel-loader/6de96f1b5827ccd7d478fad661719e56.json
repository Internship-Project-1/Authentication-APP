{"ast":null,"code":"import $ from '../../shared/dom7.js';\nimport { bindMethods } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\nconst Navbar = {\n  size(el) {\n    const app = this;\n    let $el = $(el);\n\n    if ($el.hasClass('navbars')) {\n      $el = $el.children('.navbar').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n      return;\n    }\n\n    const $innerEl = $el.children('.navbar-inner');\n    if (!$innerEl.length) return;\n    const needCenterTitle = $innerEl.hasClass('navbar-inner-centered-title') || app.params.navbar[`${app.theme}CenterTitle`];\n    const needLeftTitle = app.theme === 'ios' && !app.params.navbar[`${app.theme}CenterTitle`];\n    if (!needCenterTitle && !needLeftTitle) return;\n\n    if ($el.hasClass('stacked') || $el.parents('.stacked').length > 0 || $el.parents('.tab:not(.tab-active)').length > 0 || $el.parents('.popup:not(.modal-in)').length > 0) {\n      return;\n    }\n\n    if (app.theme !== 'ios' && app.params.navbar[`${app.theme}CenterTitle`]) {\n      $innerEl.addClass('navbar-inner-centered-title');\n    }\n\n    if (app.theme === 'ios' && !app.params.navbar.iosCenterTitle) {\n      $innerEl.addClass('navbar-inner-left-title');\n    }\n\n    const $viewEl = $el.parents('.view').eq(0);\n    const left = app.rtl ? $innerEl.children('.right') : $innerEl.children('.left');\n    const right = app.rtl ? $innerEl.children('.left') : $innerEl.children('.right');\n    const title = $innerEl.children('.title');\n    const subnavbar = $innerEl.children('.subnavbar');\n    const noLeft = left.length === 0;\n    const noRight = right.length === 0;\n    const leftWidth = noLeft ? 0 : left.outerWidth(true);\n    const rightWidth = noRight ? 0 : right.outerWidth(true);\n    const titleWidth = title.outerWidth(true);\n    const navbarStyles = $innerEl.styles();\n    const navbarWidth = $innerEl[0].offsetWidth;\n    const navbarInnerWidth = navbarWidth - parseInt(navbarStyles.paddingLeft, 10) - parseInt(navbarStyles.paddingRight, 10);\n    const isPrevious = $el.hasClass('navbar-previous');\n    const sliding = $innerEl.hasClass('sliding');\n    let router;\n    let dynamicNavbar;\n\n    if ($viewEl.length > 0 && $viewEl[0].f7View) {\n      router = $viewEl[0].f7View.router;\n      dynamicNavbar = router && router.dynamicNavbar;\n    }\n\n    let currLeft;\n    let diff;\n\n    if (noRight) {\n      currLeft = navbarInnerWidth - titleWidth;\n    }\n\n    if (noLeft) {\n      currLeft = 0;\n    }\n\n    if (!noLeft && !noRight) {\n      currLeft = (navbarInnerWidth - rightWidth - titleWidth + leftWidth) / 2;\n    }\n\n    let requiredLeft = (navbarInnerWidth - titleWidth) / 2;\n\n    if (navbarInnerWidth - leftWidth - rightWidth > titleWidth) {\n      if (requiredLeft < leftWidth) {\n        requiredLeft = leftWidth;\n      }\n\n      if (requiredLeft + titleWidth > navbarInnerWidth - rightWidth) {\n        requiredLeft = navbarInnerWidth - rightWidth - titleWidth;\n      }\n\n      diff = requiredLeft - currLeft;\n    } else {\n      diff = 0;\n    } // RTL inverter\n\n\n    const inverter = app.rtl ? -1 : 1;\n\n    if (dynamicNavbar && app.theme === 'ios') {\n      if (title.hasClass('sliding') || title.length > 0 && sliding) {\n        let titleLeftOffset = -(currLeft + diff) * inverter;\n        const titleRightOffset = (navbarInnerWidth - currLeft - diff - titleWidth) * inverter;\n\n        if (isPrevious) {\n          if (router && router.params.iosAnimateNavbarBackIcon) {\n            const activeNavbarBackLink = $el.parent().find('.navbar-current').children('.left.sliding').find('.back .icon ~ span');\n\n            if (activeNavbarBackLink.length > 0) {\n              titleLeftOffset += activeNavbarBackLink[0].offsetLeft;\n            }\n          }\n        }\n\n        title[0].f7NavbarLeftOffset = titleLeftOffset;\n        title[0].f7NavbarRightOffset = titleRightOffset;\n      }\n\n      if (!noLeft && (left.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          left[0].f7NavbarLeftOffset = -(navbarInnerWidth - left[0].offsetWidth) / 2 * inverter;\n          left[0].f7NavbarRightOffset = leftWidth * inverter;\n        } else {\n          left[0].f7NavbarLeftOffset = -leftWidth;\n          left[0].f7NavbarRightOffset = (navbarInnerWidth - left[0].offsetWidth) / 2;\n\n          if (router && router.params.iosAnimateNavbarBackIcon && left.find('.back .icon').length > 0) {\n            if (left.find('.back .icon ~ span').length) {\n              const leftOffset = left[0].f7NavbarLeftOffset;\n              const rightOffset = left[0].f7NavbarRightOffset;\n              left[0].f7NavbarLeftOffset = 0;\n              left[0].f7NavbarRightOffset = 0;\n              left.find('.back .icon ~ span')[0].f7NavbarLeftOffset = leftOffset;\n              left.find('.back .icon ~ span')[0].f7NavbarRightOffset = rightOffset - left.find('.back .icon')[0].offsetWidth;\n            }\n          }\n        }\n      }\n\n      if (!noRight && (right.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          right[0].f7NavbarLeftOffset = -rightWidth * inverter;\n          right[0].f7NavbarRightOffset = (navbarInnerWidth - right[0].offsetWidth) / 2 * inverter;\n        } else {\n          right[0].f7NavbarLeftOffset = -(navbarInnerWidth - right[0].offsetWidth) / 2;\n          right[0].f7NavbarRightOffset = rightWidth;\n        }\n      }\n\n      if (subnavbar.length && (subnavbar.hasClass('sliding') || sliding)) {\n        subnavbar[0].f7NavbarLeftOffset = app.rtl ? subnavbar[0].offsetWidth : -subnavbar[0].offsetWidth;\n        subnavbar[0].f7NavbarRightOffset = -subnavbar[0].f7NavbarLeftOffset;\n      }\n    } // Center title\n\n\n    if (needCenterTitle) {\n      let titleLeft = diff;\n      if (app.rtl && noLeft && noRight && title.length > 0) titleLeft = -titleLeft;\n      title.css({\n        left: `${titleLeft}px`\n      });\n    }\n  },\n\n  hide(el, animate, hideStatusbar, hideOnlyCurrent) {\n    if (animate === void 0) {\n      animate = true;\n    }\n\n    if (hideStatusbar === void 0) {\n      hideStatusbar = false;\n    }\n\n    if (hideOnlyCurrent === void 0) {\n      hideOnlyCurrent = false;\n    }\n\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if ($el.hasClass('navbar-hidden')) return;\n    let className = `navbar-hidden${animate ? ' navbar-transitioning' : ''}`;\n    const currentIsLarge = isDynamic ? $el.find('.navbar-current .title-large').length : $el.find('.title-large').length;\n\n    if (currentIsLarge) {\n      className += ' navbar-large-hidden';\n    }\n\n    if (hideStatusbar) {\n      className += ' navbar-hidden-statusbar';\n    }\n\n    $el.transitionEnd(() => {\n      $el.removeClass('navbar-transitioning');\n    });\n    $el.addClass(className);\n\n    if (isDynamic) {\n      $el.children('.navbar').each(subEl => {\n        $(subEl).trigger('navbar:hide');\n        app.emit('navbarHide', subEl);\n      });\n    } else {\n      $el.trigger('navbar:hide');\n      app.emit('navbarHide', $el[0]);\n    }\n  },\n\n  show(el, animate, hideOnlyCurrent) {\n    if (el === void 0) {\n      el = '.navbar-hidden';\n    }\n\n    if (animate === void 0) {\n      animate = true;\n    }\n\n    if (hideOnlyCurrent === void 0) {\n      hideOnlyCurrent = false;\n    }\n\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if (!$el.hasClass('navbar-hidden')) return;\n\n    if (animate) {\n      $el.addClass('navbar-transitioning');\n      $el.transitionEnd(() => {\n        $el.removeClass('navbar-transitioning');\n      });\n    }\n\n    $el.removeClass('navbar-hidden navbar-large-hidden navbar-hidden-statusbar');\n\n    if (isDynamic) {\n      $el.children('.navbar').each(subEl => {\n        $(subEl).trigger('navbar:show');\n        app.emit('navbarShow', subEl);\n      });\n    } else {\n      $el.trigger('navbar:show');\n      app.emit('navbarShow', $el[0]);\n    }\n  },\n\n  getElByPage(page) {\n    let $pageEl;\n    let $navbarEl;\n    let pageData;\n\n    if (page.$navbarEl || page.$el) {\n      pageData = page;\n      $pageEl = page.$el;\n    } else {\n      $pageEl = $(page);\n      if ($pageEl.length > 0) pageData = $pageEl[0].f7Page;\n    }\n\n    if (pageData && pageData.$navbarEl && pageData.$navbarEl.length > 0) {\n      $navbarEl = pageData.$navbarEl;\n    } else if ($pageEl) {\n      $navbarEl = $pageEl.children('.navbar');\n    }\n\n    if (!$navbarEl || $navbarEl && $navbarEl.length === 0) return undefined;\n    return $navbarEl[0];\n  },\n\n  getPageByEl(navbarEl) {\n    const $navbarEl = $(navbarEl);\n\n    if ($navbarEl.parents('.page').length) {\n      return $navbarEl.parents('.page')[0];\n    }\n\n    let pageEl;\n    $navbarEl.parents('.view').find('.page').each(el => {\n      if (el && el.f7Page && el.f7Page.navbarEl && $navbarEl[0] === el.f7Page.navbarEl) {\n        pageEl = el;\n      }\n    });\n    return pageEl;\n  },\n\n  collapseLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar');\n\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.addClass('navbar-large-collapsed');\n    $pageEl.eq(0).addClass('page-with-navbar-large-collapsed').trigger('page:navbarlargecollapsed');\n    app.emit('pageNavbarLargeCollapsed', $pageEl[0]);\n    $navbarEl.trigger('navbar:collapse');\n    app.emit('navbarCollapse', $navbarEl[0]);\n  },\n\n  expandLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.removeClass('navbar-large-collapsed');\n    $pageEl.eq(0).removeClass('page-with-navbar-large-collapsed').trigger('page:navbarlargeexpanded');\n    app.emit('pageNavbarLargeExpanded', $pageEl[0]);\n    $navbarEl.trigger('navbar:expand');\n    app.emit('navbarExpand', $navbarEl[0]);\n  },\n\n  toggleLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n\n    if ($navbarEl.hasClass('navbar-large-collapsed')) {\n      app.navbar.expandLargeTitle($navbarEl);\n    } else {\n      app.navbar.collapseLargeTitle($navbarEl);\n    }\n  },\n\n  initNavbarOnScroll(pageEl, navbarEl, needHide, needCollapse, needTransparent) {\n    const app = this;\n    const support = getSupport();\n    const $pageEl = $(pageEl);\n    const $navbarEl = $(navbarEl);\n    const $titleLargeEl = $navbarEl.find('.title-large');\n    const isLarge = $titleLargeEl.length || $navbarEl.hasClass('.navbar-large');\n    let navbarHideHeight = 44;\n    const snapPageScrollToLargeTitle = app.params.navbar.snapPageScrollToLargeTitle;\n    const snapPageScrollToTransparentNavbar = app.params.navbar.snapPageScrollToTransparentNavbar;\n    let previousScrollTop;\n    let currentScrollTop;\n    let scrollHeight;\n    let offsetHeight;\n    let reachEnd;\n    let action;\n    let navbarHidden;\n    let navbarCollapsed;\n    let navbarTitleLargeHeight;\n    let navbarOffsetHeight;\n\n    if (needCollapse || needHide && isLarge) {\n      navbarTitleLargeHeight = $navbarEl.css('--f7-navbar-large-title-height');\n\n      if (navbarTitleLargeHeight && navbarTitleLargeHeight.indexOf('px') >= 0) {\n        navbarTitleLargeHeight = parseInt(navbarTitleLargeHeight, 10);\n\n        if (Number.isNaN(navbarTitleLargeHeight) && $titleLargeEl.length) {\n          navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n        } else if (Number.isNaN(navbarTitleLargeHeight)) {\n          if (app.theme === 'ios') navbarTitleLargeHeight = 52;else if (app.theme === 'md') navbarTitleLargeHeight = 48;else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n        }\n      } else if ($titleLargeEl.length) {\n        navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n      } else {\n        // eslint-disable-next-line\n        if (app.theme === 'ios') navbarTitleLargeHeight = 52;else if (app.theme === 'md') navbarTitleLargeHeight = 48;else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n      }\n    }\n\n    if (needHide && isLarge) {\n      navbarHideHeight += navbarTitleLargeHeight;\n    }\n\n    let scrollChanged;\n    let scrollContent;\n    let scrollTimeoutId;\n    let touchEndTimeoutId;\n    const touchSnapTimeout = 70;\n    const desktopSnapTimeout = 300;\n\n    function calcScrollableDistance() {\n      $pageEl.find('.page-content').each(pageContentEl => {\n        pageContentEl.f7ScrollableDistance = pageContentEl.scrollHeight - pageContentEl.offsetHeight;\n      });\n    }\n\n    function snapLargeNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n\n      if (currentScrollTop >= navbarTitleLargeHeight / 2 && currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(navbarTitleLargeHeight, 100);\n      } else if (currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function snapTransparentNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n\n      if (currentScrollTop >= navbarOffsetHeight / 2 && currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(navbarOffsetHeight, 100);\n      } else if (currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function handleNavbarTransparent() {\n      const isHidden = $navbarEl.hasClass('navbar-hidden') || $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded || isHidden) return;\n\n      if (!navbarOffsetHeight) {\n        navbarOffsetHeight = navbarEl.offsetHeight;\n      }\n\n      let opacity = currentScrollTop / navbarOffsetHeight;\n      const notTransparent = $navbarEl.hasClass('navbar-transparent-visible');\n      opacity = Math.max(Math.min(opacity, 1), 0);\n\n      if (notTransparent && opacity === 1 || !notTransparent && opacity === 0) {\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      if (notTransparent && opacity === 0) {\n        $navbarEl.trigger('navbar:transparenthide');\n        app.emit('navbarTransparentHide', $navbarEl[0]);\n        $navbarEl.removeClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      if (!notTransparent && opacity === 1) {\n        $navbarEl.trigger('navbar:transparentshow');\n        app.emit('navbarTransparentShow', $navbarEl[0]);\n        $navbarEl.addClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      $navbarEl.find('.navbar-bg, .title').css('opacity', opacity);\n\n      if (snapPageScrollToTransparentNavbar) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    let previousCollapseProgress = null;\n    let collapseProgress = null;\n\n    function handleLargeNavbarCollapse(pageContentEl) {\n      const isHidden = $navbarEl.hasClass('navbar-hidden') || $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      if (isHidden) return;\n      const isLargeTransparent = $navbarEl.hasClass('navbar-large-transparent') || $navbarEl.hasClass('navbar-large') && $navbarEl.hasClass('navbar-transparent');\n      previousCollapseProgress = collapseProgress;\n      const scrollableDistance = Math.min(navbarTitleLargeHeight, pageContentEl.f7ScrollableDistance || navbarTitleLargeHeight);\n      collapseProgress = Math.min(Math.max(currentScrollTop / scrollableDistance, 0), 1);\n      const previousCollapseWasInMiddle = previousCollapseProgress > 0 && previousCollapseProgress < 1;\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      navbarCollapsed = $navbarEl.hasClass('navbar-large-collapsed');\n\n      if (collapseProgress === 0 && navbarCollapsed) {\n        app.navbar.expandLargeTitle($navbarEl[0]);\n      } else if (collapseProgress === 1 && !navbarCollapsed) {\n        app.navbar.collapseLargeTitle($navbarEl[0]);\n      }\n\n      if (collapseProgress === 0 && navbarCollapsed || collapseProgress === 0 && previousCollapseWasInMiddle || collapseProgress === 1 && !navbarCollapsed || collapseProgress === 1 && previousCollapseWasInMiddle) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', '');\n        }\n\n        $navbarEl.find('.title').css('opacity', '');\n        $navbarEl.find('.title-large-text, .subnavbar').css('transform', '');\n\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', '');\n        } else {\n          $navbarEl.find('.navbar-bg').css('transform', '');\n        }\n      } else if (collapseProgress > 0 && collapseProgress < 1) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', 'visible');\n        }\n\n        $navbarEl.find('.title').css('opacity', collapseProgress);\n        $navbarEl.find('.title-large-text, .subnavbar').css('transform', `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`);\n\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', collapseProgress);\n        } else {\n          $navbarEl.find('.navbar-bg').css('transform', `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`);\n        }\n      }\n\n      if (snapPageScrollToLargeTitle) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    function handleTitleHideShow() {\n      if ($pageEl.hasClass('page-with-card-opened')) return;\n      scrollHeight = scrollContent.scrollHeight;\n      offsetHeight = scrollContent.offsetHeight;\n      reachEnd = currentScrollTop + offsetHeight >= scrollHeight;\n      navbarHidden = $navbarEl.hasClass('navbar-hidden') || $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n\n      if (reachEnd) {\n        if (app.params.navbar.showOnPageScrollEnd) {\n          action = 'show';\n        }\n      } else if (previousScrollTop > currentScrollTop) {\n        if (app.params.navbar.showOnPageScrollTop || currentScrollTop <= navbarHideHeight) {\n          action = 'show';\n        } else {\n          action = 'hide';\n        }\n      } else if (currentScrollTop > navbarHideHeight) {\n        action = 'hide';\n      } else {\n        action = 'show';\n      }\n\n      if (action === 'show' && navbarHidden) {\n        app.navbar.show($navbarEl, true, true);\n        navbarHidden = false;\n      } else if (action === 'hide' && !navbarHidden) {\n        app.navbar.hide($navbarEl, true, false, true);\n        navbarHidden = true;\n      }\n\n      previousScrollTop = currentScrollTop;\n    }\n\n    function handleScroll(e) {\n      scrollContent = this;\n\n      if (e && e.target && e.target !== scrollContent) {\n        return;\n      }\n\n      currentScrollTop = scrollContent.scrollTop;\n      scrollChanged = currentScrollTop;\n\n      if (needCollapse) {\n        handleLargeNavbarCollapse(scrollContent);\n      } else if (needTransparent) {\n        handleNavbarTransparent();\n      }\n\n      if ($pageEl.hasClass('page-previous')) return;\n\n      if (needHide) {\n        handleTitleHideShow();\n      }\n    }\n\n    function handeTouchStart() {\n      scrollChanged = false;\n    }\n\n    function handleTouchEnd() {\n      clearTimeout(touchEndTimeoutId);\n      touchEndTimeoutId = null;\n      touchEndTimeoutId = setTimeout(() => {\n        if (scrollChanged !== false) {\n          if (needTransparent && !needCollapse) {\n            snapTransparentNavbar();\n          } else {\n            snapLargeNavbar();\n          }\n\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n        }\n      }, touchSnapTimeout);\n    }\n\n    $pageEl.on('scroll', '.page-content', handleScroll, true);\n\n    if (support.touch && (needCollapse && snapPageScrollToLargeTitle || needTransparent && snapPageScrollToTransparentNavbar)) {\n      app.on('touchstart:passive', handeTouchStart);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n\n    calcScrollableDistance();\n\n    if (needCollapse || needTransparent) {\n      $pageEl.find('.page-content').each(pageContentEl => {\n        if (pageContentEl.scrollTop > 0) handleScroll.call(pageContentEl);\n      });\n    }\n\n    app.on('resize', calcScrollableDistance);\n\n    $pageEl[0].f7DetachNavbarScrollHandlers = function f7DetachNavbarScrollHandlers() {\n      app.off('resize', calcScrollableDistance);\n      delete $pageEl[0].f7DetachNavbarScrollHandlers;\n      $pageEl.off('scroll', '.page-content', handleScroll, true);\n\n      if (support.touch && (needCollapse && snapPageScrollToLargeTitle || needTransparent && snapPageScrollToTransparentNavbar)) {\n        app.off('touchstart:passive', handeTouchStart);\n        app.off('touchend:passive', handleTouchEnd);\n      }\n    };\n  }\n\n};\nexport default {\n  name: 'navbar',\n\n  create() {\n    const app = this;\n    bindMethods(app, {\n      navbar: Navbar\n    });\n  },\n\n  params: {\n    navbar: {\n      scrollTopOnTitleClick: true,\n      iosCenterTitle: true,\n      mdCenterTitle: false,\n      auroraCenterTitle: true,\n      hideOnPageScroll: false,\n      showOnPageScrollEnd: true,\n      showOnPageScrollTop: true,\n      collapseLargeTitleOnScroll: true,\n      snapPageScrollToLargeTitle: true,\n      snapPageScrollToTransparentNavbar: true\n    }\n  },\n  on: {\n    'panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint': function onPanelResize() {\n      const app = this;\n      $('.navbar').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n    },\n\n    pageBeforeRemove(page) {\n      if (page.$el[0].f7DetachNavbarScrollHandlers) {\n        page.$el[0].f7DetachNavbarScrollHandlers();\n      }\n    },\n\n    pageBeforeIn(page) {\n      const app = this;\n      if (app.theme !== 'ios') return;\n      let $navbarsEl;\n      const view = page.$el.parents('.view')[0].f7View;\n      const navbarEl = app.navbar.getElByPage(page);\n\n      if (!navbarEl) {\n        $navbarsEl = page.$el.parents('.view').children('.navbars');\n      } else {\n        $navbarsEl = $(navbarEl).parents('.navbars');\n      }\n\n      if (page.$el.hasClass('no-navbar') || view.router.dynamicNavbar && !navbarEl) {\n        const animate = !!(page.pageFrom && page.router.history.length > 0);\n        app.navbar.hide($navbarsEl, animate);\n      } else {\n        app.navbar.show($navbarsEl);\n      }\n    },\n\n    pageReinit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return;\n      app.navbar.size($navbarEl);\n    },\n\n    pageInit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return; // Size\n\n      app.navbar.size($navbarEl); // Need Collapse On Scroll\n\n      let needCollapseOnScrollHandler;\n\n      if ($navbarEl.find('.title-large').length > 0) {\n        $navbarEl.addClass('navbar-large');\n      }\n\n      if ($navbarEl.hasClass('navbar-large')) {\n        if (app.params.navbar.collapseLargeTitleOnScroll) needCollapseOnScrollHandler = true;\n        page.$el.addClass('page-with-navbar-large');\n      } // Need transparent on scroll\n\n\n      let needTransparentOnScroll;\n\n      if (!needCollapseOnScrollHandler && $navbarEl.hasClass('navbar-transparent')) {\n        needTransparentOnScroll = true;\n      } // Need Hide On Scroll\n\n\n      let needHideOnScrollHandler;\n\n      if (app.params.navbar.hideOnPageScroll || page.$el.find('.hide-navbar-on-scroll').length || page.$el.hasClass('hide-navbar-on-scroll') || page.$el.find('.hide-bars-on-scroll').length || page.$el.hasClass('hide-bars-on-scroll')) {\n        if (page.$el.find('.keep-navbar-on-scroll').length || page.$el.hasClass('keep-navbar-on-scroll') || page.$el.find('.keep-bars-on-scroll').length || page.$el.hasClass('keep-bars-on-scroll')) {\n          needHideOnScrollHandler = false;\n        } else {\n          needHideOnScrollHandler = true;\n        }\n      }\n\n      if (needCollapseOnScrollHandler || needHideOnScrollHandler || needTransparentOnScroll) {\n        app.navbar.initNavbarOnScroll(page.el, $navbarEl[0], needHideOnScrollHandler, needCollapseOnScrollHandler, needTransparentOnScroll);\n      }\n    },\n\n    'panelOpen panelSwipeOpen modalOpen': function onPanelModalOpen(instance) {\n      const app = this;\n      instance.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n    },\n\n    tabShow(tabEl) {\n      const app = this;\n      $(tabEl).find('.navbar:not(.navbar-previous):not(.stacked)').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n    }\n\n  },\n  clicks: {\n    '.navbar .title': function onTitleClick($clickedEl, clickedData, e) {\n      const app = this;\n      if (!app.params.navbar.scrollTopOnTitleClick) return;\n\n      if ($(e.target).closest('a, button').length > 0) {\n        return;\n      }\n\n      let $pageContentEl; // Find active page\n\n      const $navbarEl = $clickedEl.parents('.navbar');\n      const $navbarsEl = $navbarEl.parents('.navbars'); // Static Layout\n\n      $pageContentEl = $navbarEl.parents('.page-content');\n\n      if ($pageContentEl.length === 0) {\n        // Fixed Layout\n        if ($navbarEl.parents('.page').length > 0) {\n          $pageContentEl = $navbarEl.parents('.page').find('.page-content');\n        } // Through Layout iOS\n\n\n        if ($pageContentEl.length === 0 && $navbarsEl.length) {\n          if ($navbarsEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarsEl.nextAll('.page-current:not(.stacked)').find('.page-content');\n          }\n        } // Through Layout\n\n\n        if ($pageContentEl.length === 0) {\n          if ($navbarEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarEl.nextAll('.page-current:not(.stacked)').find('.page-content');\n          }\n        }\n      }\n\n      if ($pageContentEl && $pageContentEl.length > 0) {\n        // Check for tab\n        if ($pageContentEl.hasClass('tab')) {\n          $pageContentEl = $pageContentEl.parent('.tabs').children('.page-content.tab-active');\n        }\n\n        if ($pageContentEl.length > 0) $pageContentEl.scrollTop(0, 300);\n      }\n    }\n  },\n  vnode: {\n    navbar: {\n      postpatch(vnode) {\n        const app = this;\n        app.navbar.size(vnode.elm);\n      }\n\n    }\n  }\n};","map":{"version":3,"names":["$","bindMethods","getSupport","Navbar","size","el","app","$el","hasClass","children","each","navbarEl","navbar","$innerEl","length","needCenterTitle","params","theme","needLeftTitle","parents","addClass","iosCenterTitle","$viewEl","eq","left","rtl","right","title","subnavbar","noLeft","noRight","leftWidth","outerWidth","rightWidth","titleWidth","navbarStyles","styles","navbarWidth","offsetWidth","navbarInnerWidth","parseInt","paddingLeft","paddingRight","isPrevious","sliding","router","dynamicNavbar","f7View","currLeft","diff","requiredLeft","inverter","titleLeftOffset","titleRightOffset","iosAnimateNavbarBackIcon","activeNavbarBackLink","parent","find","offsetLeft","f7NavbarLeftOffset","f7NavbarRightOffset","leftOffset","rightOffset","titleLeft","css","hide","animate","hideStatusbar","hideOnlyCurrent","isDynamic","className","currentIsLarge","transitionEnd","removeClass","subEl","trigger","emit","show","getElByPage","page","$pageEl","$navbarEl","pageData","f7Page","undefined","getPageByEl","pageEl","collapseLargeTitle","expandLargeTitle","toggleLargeTitle","initNavbarOnScroll","needHide","needCollapse","needTransparent","support","$titleLargeEl","isLarge","navbarHideHeight","snapPageScrollToLargeTitle","snapPageScrollToTransparentNavbar","previousScrollTop","currentScrollTop","scrollHeight","offsetHeight","reachEnd","action","navbarHidden","navbarCollapsed","navbarTitleLargeHeight","navbarOffsetHeight","indexOf","Number","isNaN","scrollChanged","scrollContent","scrollTimeoutId","touchEndTimeoutId","touchSnapTimeout","desktopSnapTimeout","calcScrollableDistance","pageContentEl","f7ScrollableDistance","snapLargeNavbar","inSearchbarExpanded","scrollTop","snapTransparentNavbar","handleNavbarTransparent","isHidden","opacity","notTransparent","Math","max","min","touch","clearTimeout","setTimeout","previousCollapseProgress","collapseProgress","handleLargeNavbarCollapse","isLargeTransparent","scrollableDistance","previousCollapseWasInMiddle","handleTitleHideShow","showOnPageScrollEnd","showOnPageScrollTop","handleScroll","e","target","handeTouchStart","handleTouchEnd","on","call","f7DetachNavbarScrollHandlers","off","name","create","scrollTopOnTitleClick","mdCenterTitle","auroraCenterTitle","hideOnPageScroll","collapseLargeTitleOnScroll","onPanelResize","pageBeforeRemove","pageBeforeIn","$navbarsEl","view","pageFrom","history","pageReinit","pageInit","needCollapseOnScrollHandler","needTransparentOnScroll","needHideOnScrollHandler","onPanelModalOpen","instance","tabShow","tabEl","clicks","onTitleClick","$clickedEl","clickedData","closest","$pageContentEl","nextAll","vnode","postpatch","elm"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/components/navbar/navbar.js"],"sourcesContent":["import $ from '../../shared/dom7.js';\nimport { bindMethods } from '../../shared/utils.js';\nimport { getSupport } from '../../shared/get-support.js';\nconst Navbar = {\n  size(el) {\n    const app = this;\n    let $el = $(el);\n\n    if ($el.hasClass('navbars')) {\n      $el = $el.children('.navbar').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n      return;\n    }\n\n    const $innerEl = $el.children('.navbar-inner');\n    if (!$innerEl.length) return;\n    const needCenterTitle = $innerEl.hasClass('navbar-inner-centered-title') || app.params.navbar[`${app.theme}CenterTitle`];\n    const needLeftTitle = app.theme === 'ios' && !app.params.navbar[`${app.theme}CenterTitle`];\n    if (!needCenterTitle && !needLeftTitle) return;\n\n    if ($el.hasClass('stacked') || $el.parents('.stacked').length > 0 || $el.parents('.tab:not(.tab-active)').length > 0 || $el.parents('.popup:not(.modal-in)').length > 0) {\n      return;\n    }\n\n    if (app.theme !== 'ios' && app.params.navbar[`${app.theme}CenterTitle`]) {\n      $innerEl.addClass('navbar-inner-centered-title');\n    }\n\n    if (app.theme === 'ios' && !app.params.navbar.iosCenterTitle) {\n      $innerEl.addClass('navbar-inner-left-title');\n    }\n\n    const $viewEl = $el.parents('.view').eq(0);\n    const left = app.rtl ? $innerEl.children('.right') : $innerEl.children('.left');\n    const right = app.rtl ? $innerEl.children('.left') : $innerEl.children('.right');\n    const title = $innerEl.children('.title');\n    const subnavbar = $innerEl.children('.subnavbar');\n    const noLeft = left.length === 0;\n    const noRight = right.length === 0;\n    const leftWidth = noLeft ? 0 : left.outerWidth(true);\n    const rightWidth = noRight ? 0 : right.outerWidth(true);\n    const titleWidth = title.outerWidth(true);\n    const navbarStyles = $innerEl.styles();\n    const navbarWidth = $innerEl[0].offsetWidth;\n    const navbarInnerWidth = navbarWidth - parseInt(navbarStyles.paddingLeft, 10) - parseInt(navbarStyles.paddingRight, 10);\n    const isPrevious = $el.hasClass('navbar-previous');\n    const sliding = $innerEl.hasClass('sliding');\n    let router;\n    let dynamicNavbar;\n\n    if ($viewEl.length > 0 && $viewEl[0].f7View) {\n      router = $viewEl[0].f7View.router;\n      dynamicNavbar = router && router.dynamicNavbar;\n    }\n\n    let currLeft;\n    let diff;\n\n    if (noRight) {\n      currLeft = navbarInnerWidth - titleWidth;\n    }\n\n    if (noLeft) {\n      currLeft = 0;\n    }\n\n    if (!noLeft && !noRight) {\n      currLeft = (navbarInnerWidth - rightWidth - titleWidth + leftWidth) / 2;\n    }\n\n    let requiredLeft = (navbarInnerWidth - titleWidth) / 2;\n\n    if (navbarInnerWidth - leftWidth - rightWidth > titleWidth) {\n      if (requiredLeft < leftWidth) {\n        requiredLeft = leftWidth;\n      }\n\n      if (requiredLeft + titleWidth > navbarInnerWidth - rightWidth) {\n        requiredLeft = navbarInnerWidth - rightWidth - titleWidth;\n      }\n\n      diff = requiredLeft - currLeft;\n    } else {\n      diff = 0;\n    } // RTL inverter\n\n\n    const inverter = app.rtl ? -1 : 1;\n\n    if (dynamicNavbar && app.theme === 'ios') {\n      if (title.hasClass('sliding') || title.length > 0 && sliding) {\n        let titleLeftOffset = -(currLeft + diff) * inverter;\n        const titleRightOffset = (navbarInnerWidth - currLeft - diff - titleWidth) * inverter;\n\n        if (isPrevious) {\n          if (router && router.params.iosAnimateNavbarBackIcon) {\n            const activeNavbarBackLink = $el.parent().find('.navbar-current').children('.left.sliding').find('.back .icon ~ span');\n\n            if (activeNavbarBackLink.length > 0) {\n              titleLeftOffset += activeNavbarBackLink[0].offsetLeft;\n            }\n          }\n        }\n\n        title[0].f7NavbarLeftOffset = titleLeftOffset;\n        title[0].f7NavbarRightOffset = titleRightOffset;\n      }\n\n      if (!noLeft && (left.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          left[0].f7NavbarLeftOffset = -(navbarInnerWidth - left[0].offsetWidth) / 2 * inverter;\n          left[0].f7NavbarRightOffset = leftWidth * inverter;\n        } else {\n          left[0].f7NavbarLeftOffset = -leftWidth;\n          left[0].f7NavbarRightOffset = (navbarInnerWidth - left[0].offsetWidth) / 2;\n\n          if (router && router.params.iosAnimateNavbarBackIcon && left.find('.back .icon').length > 0) {\n            if (left.find('.back .icon ~ span').length) {\n              const leftOffset = left[0].f7NavbarLeftOffset;\n              const rightOffset = left[0].f7NavbarRightOffset;\n              left[0].f7NavbarLeftOffset = 0;\n              left[0].f7NavbarRightOffset = 0;\n              left.find('.back .icon ~ span')[0].f7NavbarLeftOffset = leftOffset;\n              left.find('.back .icon ~ span')[0].f7NavbarRightOffset = rightOffset - left.find('.back .icon')[0].offsetWidth;\n            }\n          }\n        }\n      }\n\n      if (!noRight && (right.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          right[0].f7NavbarLeftOffset = -rightWidth * inverter;\n          right[0].f7NavbarRightOffset = (navbarInnerWidth - right[0].offsetWidth) / 2 * inverter;\n        } else {\n          right[0].f7NavbarLeftOffset = -(navbarInnerWidth - right[0].offsetWidth) / 2;\n          right[0].f7NavbarRightOffset = rightWidth;\n        }\n      }\n\n      if (subnavbar.length && (subnavbar.hasClass('sliding') || sliding)) {\n        subnavbar[0].f7NavbarLeftOffset = app.rtl ? subnavbar[0].offsetWidth : -subnavbar[0].offsetWidth;\n        subnavbar[0].f7NavbarRightOffset = -subnavbar[0].f7NavbarLeftOffset;\n      }\n    } // Center title\n\n\n    if (needCenterTitle) {\n      let titleLeft = diff;\n      if (app.rtl && noLeft && noRight && title.length > 0) titleLeft = -titleLeft;\n      title.css({\n        left: `${titleLeft}px`\n      });\n    }\n  },\n\n  hide(el, animate, hideStatusbar, hideOnlyCurrent) {\n    if (animate === void 0) {\n      animate = true;\n    }\n\n    if (hideStatusbar === void 0) {\n      hideStatusbar = false;\n    }\n\n    if (hideOnlyCurrent === void 0) {\n      hideOnlyCurrent = false;\n    }\n\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if ($el.hasClass('navbar-hidden')) return;\n    let className = `navbar-hidden${animate ? ' navbar-transitioning' : ''}`;\n    const currentIsLarge = isDynamic ? $el.find('.navbar-current .title-large').length : $el.find('.title-large').length;\n\n    if (currentIsLarge) {\n      className += ' navbar-large-hidden';\n    }\n\n    if (hideStatusbar) {\n      className += ' navbar-hidden-statusbar';\n    }\n\n    $el.transitionEnd(() => {\n      $el.removeClass('navbar-transitioning');\n    });\n    $el.addClass(className);\n\n    if (isDynamic) {\n      $el.children('.navbar').each(subEl => {\n        $(subEl).trigger('navbar:hide');\n        app.emit('navbarHide', subEl);\n      });\n    } else {\n      $el.trigger('navbar:hide');\n      app.emit('navbarHide', $el[0]);\n    }\n  },\n\n  show(el, animate, hideOnlyCurrent) {\n    if (el === void 0) {\n      el = '.navbar-hidden';\n    }\n\n    if (animate === void 0) {\n      animate = true;\n    }\n\n    if (hideOnlyCurrent === void 0) {\n      hideOnlyCurrent = false;\n    }\n\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if (!$el.hasClass('navbar-hidden')) return;\n\n    if (animate) {\n      $el.addClass('navbar-transitioning');\n      $el.transitionEnd(() => {\n        $el.removeClass('navbar-transitioning');\n      });\n    }\n\n    $el.removeClass('navbar-hidden navbar-large-hidden navbar-hidden-statusbar');\n\n    if (isDynamic) {\n      $el.children('.navbar').each(subEl => {\n        $(subEl).trigger('navbar:show');\n        app.emit('navbarShow', subEl);\n      });\n    } else {\n      $el.trigger('navbar:show');\n      app.emit('navbarShow', $el[0]);\n    }\n  },\n\n  getElByPage(page) {\n    let $pageEl;\n    let $navbarEl;\n    let pageData;\n\n    if (page.$navbarEl || page.$el) {\n      pageData = page;\n      $pageEl = page.$el;\n    } else {\n      $pageEl = $(page);\n      if ($pageEl.length > 0) pageData = $pageEl[0].f7Page;\n    }\n\n    if (pageData && pageData.$navbarEl && pageData.$navbarEl.length > 0) {\n      $navbarEl = pageData.$navbarEl;\n    } else if ($pageEl) {\n      $navbarEl = $pageEl.children('.navbar');\n    }\n\n    if (!$navbarEl || $navbarEl && $navbarEl.length === 0) return undefined;\n    return $navbarEl[0];\n  },\n\n  getPageByEl(navbarEl) {\n    const $navbarEl = $(navbarEl);\n\n    if ($navbarEl.parents('.page').length) {\n      return $navbarEl.parents('.page')[0];\n    }\n\n    let pageEl;\n    $navbarEl.parents('.view').find('.page').each(el => {\n      if (el && el.f7Page && el.f7Page.navbarEl && $navbarEl[0] === el.f7Page.navbarEl) {\n        pageEl = el;\n      }\n    });\n    return pageEl;\n  },\n\n  collapseLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar');\n\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.addClass('navbar-large-collapsed');\n    $pageEl.eq(0).addClass('page-with-navbar-large-collapsed').trigger('page:navbarlargecollapsed');\n    app.emit('pageNavbarLargeCollapsed', $pageEl[0]);\n    $navbarEl.trigger('navbar:collapse');\n    app.emit('navbarCollapse', $navbarEl[0]);\n  },\n\n  expandLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.removeClass('navbar-large-collapsed');\n    $pageEl.eq(0).removeClass('page-with-navbar-large-collapsed').trigger('page:navbarlargeexpanded');\n    app.emit('pageNavbarLargeExpanded', $pageEl[0]);\n    $navbarEl.trigger('navbar:expand');\n    app.emit('navbarExpand', $navbarEl[0]);\n  },\n\n  toggleLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n\n    if ($navbarEl.hasClass('navbar-large-collapsed')) {\n      app.navbar.expandLargeTitle($navbarEl);\n    } else {\n      app.navbar.collapseLargeTitle($navbarEl);\n    }\n  },\n\n  initNavbarOnScroll(pageEl, navbarEl, needHide, needCollapse, needTransparent) {\n    const app = this;\n    const support = getSupport();\n    const $pageEl = $(pageEl);\n    const $navbarEl = $(navbarEl);\n    const $titleLargeEl = $navbarEl.find('.title-large');\n    const isLarge = $titleLargeEl.length || $navbarEl.hasClass('.navbar-large');\n    let navbarHideHeight = 44;\n    const snapPageScrollToLargeTitle = app.params.navbar.snapPageScrollToLargeTitle;\n    const snapPageScrollToTransparentNavbar = app.params.navbar.snapPageScrollToTransparentNavbar;\n    let previousScrollTop;\n    let currentScrollTop;\n    let scrollHeight;\n    let offsetHeight;\n    let reachEnd;\n    let action;\n    let navbarHidden;\n    let navbarCollapsed;\n    let navbarTitleLargeHeight;\n    let navbarOffsetHeight;\n\n    if (needCollapse || needHide && isLarge) {\n      navbarTitleLargeHeight = $navbarEl.css('--f7-navbar-large-title-height');\n\n      if (navbarTitleLargeHeight && navbarTitleLargeHeight.indexOf('px') >= 0) {\n        navbarTitleLargeHeight = parseInt(navbarTitleLargeHeight, 10);\n\n        if (Number.isNaN(navbarTitleLargeHeight) && $titleLargeEl.length) {\n          navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n        } else if (Number.isNaN(navbarTitleLargeHeight)) {\n          if (app.theme === 'ios') navbarTitleLargeHeight = 52;else if (app.theme === 'md') navbarTitleLargeHeight = 48;else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n        }\n      } else if ($titleLargeEl.length) {\n        navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n      } else {\n        // eslint-disable-next-line\n        if (app.theme === 'ios') navbarTitleLargeHeight = 52;else if (app.theme === 'md') navbarTitleLargeHeight = 48;else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n      }\n    }\n\n    if (needHide && isLarge) {\n      navbarHideHeight += navbarTitleLargeHeight;\n    }\n\n    let scrollChanged;\n    let scrollContent;\n    let scrollTimeoutId;\n    let touchEndTimeoutId;\n    const touchSnapTimeout = 70;\n    const desktopSnapTimeout = 300;\n\n    function calcScrollableDistance() {\n      $pageEl.find('.page-content').each(pageContentEl => {\n        pageContentEl.f7ScrollableDistance = pageContentEl.scrollHeight - pageContentEl.offsetHeight;\n      });\n    }\n\n    function snapLargeNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n\n      if (currentScrollTop >= navbarTitleLargeHeight / 2 && currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(navbarTitleLargeHeight, 100);\n      } else if (currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function snapTransparentNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n\n      if (currentScrollTop >= navbarOffsetHeight / 2 && currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(navbarOffsetHeight, 100);\n      } else if (currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function handleNavbarTransparent() {\n      const isHidden = $navbarEl.hasClass('navbar-hidden') || $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded || isHidden) return;\n\n      if (!navbarOffsetHeight) {\n        navbarOffsetHeight = navbarEl.offsetHeight;\n      }\n\n      let opacity = currentScrollTop / navbarOffsetHeight;\n      const notTransparent = $navbarEl.hasClass('navbar-transparent-visible');\n      opacity = Math.max(Math.min(opacity, 1), 0);\n\n      if (notTransparent && opacity === 1 || !notTransparent && opacity === 0) {\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      if (notTransparent && opacity === 0) {\n        $navbarEl.trigger('navbar:transparenthide');\n        app.emit('navbarTransparentHide', $navbarEl[0]);\n        $navbarEl.removeClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      if (!notTransparent && opacity === 1) {\n        $navbarEl.trigger('navbar:transparentshow');\n        app.emit('navbarTransparentShow', $navbarEl[0]);\n        $navbarEl.addClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      $navbarEl.find('.navbar-bg, .title').css('opacity', opacity);\n\n      if (snapPageScrollToTransparentNavbar) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    let previousCollapseProgress = null;\n    let collapseProgress = null;\n\n    function handleLargeNavbarCollapse(pageContentEl) {\n      const isHidden = $navbarEl.hasClass('navbar-hidden') || $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      if (isHidden) return;\n      const isLargeTransparent = $navbarEl.hasClass('navbar-large-transparent') || $navbarEl.hasClass('navbar-large') && $navbarEl.hasClass('navbar-transparent');\n      previousCollapseProgress = collapseProgress;\n      const scrollableDistance = Math.min(navbarTitleLargeHeight, pageContentEl.f7ScrollableDistance || navbarTitleLargeHeight);\n      collapseProgress = Math.min(Math.max(currentScrollTop / scrollableDistance, 0), 1);\n      const previousCollapseWasInMiddle = previousCollapseProgress > 0 && previousCollapseProgress < 1;\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      navbarCollapsed = $navbarEl.hasClass('navbar-large-collapsed');\n\n      if (collapseProgress === 0 && navbarCollapsed) {\n        app.navbar.expandLargeTitle($navbarEl[0]);\n      } else if (collapseProgress === 1 && !navbarCollapsed) {\n        app.navbar.collapseLargeTitle($navbarEl[0]);\n      }\n\n      if (collapseProgress === 0 && navbarCollapsed || collapseProgress === 0 && previousCollapseWasInMiddle || collapseProgress === 1 && !navbarCollapsed || collapseProgress === 1 && previousCollapseWasInMiddle) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', '');\n        }\n\n        $navbarEl.find('.title').css('opacity', '');\n        $navbarEl.find('.title-large-text, .subnavbar').css('transform', '');\n\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', '');\n        } else {\n          $navbarEl.find('.navbar-bg').css('transform', '');\n        }\n      } else if (collapseProgress > 0 && collapseProgress < 1) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', 'visible');\n        }\n\n        $navbarEl.find('.title').css('opacity', collapseProgress);\n        $navbarEl.find('.title-large-text, .subnavbar').css('transform', `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`);\n\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', collapseProgress);\n        } else {\n          $navbarEl.find('.navbar-bg').css('transform', `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`);\n        }\n      }\n\n      if (snapPageScrollToLargeTitle) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    function handleTitleHideShow() {\n      if ($pageEl.hasClass('page-with-card-opened')) return;\n      scrollHeight = scrollContent.scrollHeight;\n      offsetHeight = scrollContent.offsetHeight;\n      reachEnd = currentScrollTop + offsetHeight >= scrollHeight;\n      navbarHidden = $navbarEl.hasClass('navbar-hidden') || $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n\n      if (reachEnd) {\n        if (app.params.navbar.showOnPageScrollEnd) {\n          action = 'show';\n        }\n      } else if (previousScrollTop > currentScrollTop) {\n        if (app.params.navbar.showOnPageScrollTop || currentScrollTop <= navbarHideHeight) {\n          action = 'show';\n        } else {\n          action = 'hide';\n        }\n      } else if (currentScrollTop > navbarHideHeight) {\n        action = 'hide';\n      } else {\n        action = 'show';\n      }\n\n      if (action === 'show' && navbarHidden) {\n        app.navbar.show($navbarEl, true, true);\n        navbarHidden = false;\n      } else if (action === 'hide' && !navbarHidden) {\n        app.navbar.hide($navbarEl, true, false, true);\n        navbarHidden = true;\n      }\n\n      previousScrollTop = currentScrollTop;\n    }\n\n    function handleScroll(e) {\n      scrollContent = this;\n\n      if (e && e.target && e.target !== scrollContent) {\n        return;\n      }\n\n      currentScrollTop = scrollContent.scrollTop;\n      scrollChanged = currentScrollTop;\n\n      if (needCollapse) {\n        handleLargeNavbarCollapse(scrollContent);\n      } else if (needTransparent) {\n        handleNavbarTransparent();\n      }\n\n      if ($pageEl.hasClass('page-previous')) return;\n\n      if (needHide) {\n        handleTitleHideShow();\n      }\n    }\n\n    function handeTouchStart() {\n      scrollChanged = false;\n    }\n\n    function handleTouchEnd() {\n      clearTimeout(touchEndTimeoutId);\n      touchEndTimeoutId = null;\n      touchEndTimeoutId = setTimeout(() => {\n        if (scrollChanged !== false) {\n          if (needTransparent && !needCollapse) {\n            snapTransparentNavbar();\n          } else {\n            snapLargeNavbar();\n          }\n\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n        }\n      }, touchSnapTimeout);\n    }\n\n    $pageEl.on('scroll', '.page-content', handleScroll, true);\n\n    if (support.touch && (needCollapse && snapPageScrollToLargeTitle || needTransparent && snapPageScrollToTransparentNavbar)) {\n      app.on('touchstart:passive', handeTouchStart);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n\n    calcScrollableDistance();\n\n    if (needCollapse || needTransparent) {\n      $pageEl.find('.page-content').each(pageContentEl => {\n        if (pageContentEl.scrollTop > 0) handleScroll.call(pageContentEl);\n      });\n    }\n\n    app.on('resize', calcScrollableDistance);\n\n    $pageEl[0].f7DetachNavbarScrollHandlers = function f7DetachNavbarScrollHandlers() {\n      app.off('resize', calcScrollableDistance);\n      delete $pageEl[0].f7DetachNavbarScrollHandlers;\n      $pageEl.off('scroll', '.page-content', handleScroll, true);\n\n      if (support.touch && (needCollapse && snapPageScrollToLargeTitle || needTransparent && snapPageScrollToTransparentNavbar)) {\n        app.off('touchstart:passive', handeTouchStart);\n        app.off('touchend:passive', handleTouchEnd);\n      }\n    };\n  }\n\n};\nexport default {\n  name: 'navbar',\n\n  create() {\n    const app = this;\n    bindMethods(app, {\n      navbar: Navbar\n    });\n  },\n\n  params: {\n    navbar: {\n      scrollTopOnTitleClick: true,\n      iosCenterTitle: true,\n      mdCenterTitle: false,\n      auroraCenterTitle: true,\n      hideOnPageScroll: false,\n      showOnPageScrollEnd: true,\n      showOnPageScrollTop: true,\n      collapseLargeTitleOnScroll: true,\n      snapPageScrollToLargeTitle: true,\n      snapPageScrollToTransparentNavbar: true\n    }\n  },\n  on: {\n    'panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint': function onPanelResize() {\n      const app = this;\n      $('.navbar').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n    },\n\n    pageBeforeRemove(page) {\n      if (page.$el[0].f7DetachNavbarScrollHandlers) {\n        page.$el[0].f7DetachNavbarScrollHandlers();\n      }\n    },\n\n    pageBeforeIn(page) {\n      const app = this;\n      if (app.theme !== 'ios') return;\n      let $navbarsEl;\n      const view = page.$el.parents('.view')[0].f7View;\n      const navbarEl = app.navbar.getElByPage(page);\n\n      if (!navbarEl) {\n        $navbarsEl = page.$el.parents('.view').children('.navbars');\n      } else {\n        $navbarsEl = $(navbarEl).parents('.navbars');\n      }\n\n      if (page.$el.hasClass('no-navbar') || view.router.dynamicNavbar && !navbarEl) {\n        const animate = !!(page.pageFrom && page.router.history.length > 0);\n        app.navbar.hide($navbarsEl, animate);\n      } else {\n        app.navbar.show($navbarsEl);\n      }\n    },\n\n    pageReinit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return;\n      app.navbar.size($navbarEl);\n    },\n\n    pageInit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return; // Size\n\n      app.navbar.size($navbarEl); // Need Collapse On Scroll\n\n      let needCollapseOnScrollHandler;\n\n      if ($navbarEl.find('.title-large').length > 0) {\n        $navbarEl.addClass('navbar-large');\n      }\n\n      if ($navbarEl.hasClass('navbar-large')) {\n        if (app.params.navbar.collapseLargeTitleOnScroll) needCollapseOnScrollHandler = true;\n        page.$el.addClass('page-with-navbar-large');\n      } // Need transparent on scroll\n\n\n      let needTransparentOnScroll;\n\n      if (!needCollapseOnScrollHandler && $navbarEl.hasClass('navbar-transparent')) {\n        needTransparentOnScroll = true;\n      } // Need Hide On Scroll\n\n\n      let needHideOnScrollHandler;\n\n      if (app.params.navbar.hideOnPageScroll || page.$el.find('.hide-navbar-on-scroll').length || page.$el.hasClass('hide-navbar-on-scroll') || page.$el.find('.hide-bars-on-scroll').length || page.$el.hasClass('hide-bars-on-scroll')) {\n        if (page.$el.find('.keep-navbar-on-scroll').length || page.$el.hasClass('keep-navbar-on-scroll') || page.$el.find('.keep-bars-on-scroll').length || page.$el.hasClass('keep-bars-on-scroll')) {\n          needHideOnScrollHandler = false;\n        } else {\n          needHideOnScrollHandler = true;\n        }\n      }\n\n      if (needCollapseOnScrollHandler || needHideOnScrollHandler || needTransparentOnScroll) {\n        app.navbar.initNavbarOnScroll(page.el, $navbarEl[0], needHideOnScrollHandler, needCollapseOnScrollHandler, needTransparentOnScroll);\n      }\n    },\n\n    'panelOpen panelSwipeOpen modalOpen': function onPanelModalOpen(instance) {\n      const app = this;\n      instance.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n    },\n\n    tabShow(tabEl) {\n      const app = this;\n      $(tabEl).find('.navbar:not(.navbar-previous):not(.stacked)').each(navbarEl => {\n        app.navbar.size(navbarEl);\n      });\n    }\n\n  },\n  clicks: {\n    '.navbar .title': function onTitleClick($clickedEl, clickedData, e) {\n      const app = this;\n      if (!app.params.navbar.scrollTopOnTitleClick) return;\n\n      if ($(e.target).closest('a, button').length > 0) {\n        return;\n      }\n\n      let $pageContentEl; // Find active page\n\n      const $navbarEl = $clickedEl.parents('.navbar');\n      const $navbarsEl = $navbarEl.parents('.navbars'); // Static Layout\n\n      $pageContentEl = $navbarEl.parents('.page-content');\n\n      if ($pageContentEl.length === 0) {\n        // Fixed Layout\n        if ($navbarEl.parents('.page').length > 0) {\n          $pageContentEl = $navbarEl.parents('.page').find('.page-content');\n        } // Through Layout iOS\n\n\n        if ($pageContentEl.length === 0 && $navbarsEl.length) {\n          if ($navbarsEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarsEl.nextAll('.page-current:not(.stacked)').find('.page-content');\n          }\n        } // Through Layout\n\n\n        if ($pageContentEl.length === 0) {\n          if ($navbarEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarEl.nextAll('.page-current:not(.stacked)').find('.page-content');\n          }\n        }\n      }\n\n      if ($pageContentEl && $pageContentEl.length > 0) {\n        // Check for tab\n        if ($pageContentEl.hasClass('tab')) {\n          $pageContentEl = $pageContentEl.parent('.tabs').children('.page-content.tab-active');\n        }\n\n        if ($pageContentEl.length > 0) $pageContentEl.scrollTop(0, 300);\n      }\n    }\n  },\n  vnode: {\n    navbar: {\n      postpatch(vnode) {\n        const app = this;\n        app.navbar.size(vnode.elm);\n      }\n\n    }\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}