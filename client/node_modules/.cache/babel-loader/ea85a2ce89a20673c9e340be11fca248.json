{"ast":null,"code":"import $ from '../../shared/dom7.js';\nimport appRouterCheck from './app-router-check.js';\n\nfunction clearPreviousPages(router) {\n  appRouterCheck(router, 'clearPreviousPages');\n  const app = router.app;\n  const dynamicNavbar = router.dynamicNavbar;\n  const $pagesToRemove = router.$el.children('.page').filter(pageInView => {\n    if (router.currentRoute && (router.currentRoute.modal || router.currentRoute.panel)) return true;\n    return pageInView !== router.currentPageEl;\n  });\n  $pagesToRemove.each(pageEl => {\n    const $oldPageEl = $(pageEl);\n    const $oldNavbarEl = $(app.navbar.getElByPage($oldPageEl));\n\n    if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n      $oldPageEl.addClass('stacked');\n\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPageEl, $oldNavbarEl, 'previous', undefined, {});\n      router.removePage($oldPageEl);\n\n      if (dynamicNavbar && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  });\n}\n\nfunction clearPreviousHistory() {\n  const router = this;\n  appRouterCheck(router, 'clearPreviousHistory');\n  const url = router.history[router.history.length - 1];\n  clearPreviousPages(router);\n  router.history = [url];\n  router.view.history = [url];\n  router.saveHistory();\n}\n\nexport { clearPreviousHistory }; // eslint-disable-line","map":{"version":3,"names":["$","appRouterCheck","clearPreviousPages","router","app","dynamicNavbar","$pagesToRemove","$el","children","filter","pageInView","currentRoute","modal","panel","currentPageEl","each","pageEl","$oldPageEl","$oldNavbarEl","navbar","getElByPage","params","stackPages","initialPages","indexOf","addClass","pageCallback","undefined","removePage","length","removeNavbar","clearPreviousHistory","url","history","view","saveHistory"],"sources":["C:/Users/Babak/userlogin/node_modules/framework7/modules/router/clear-previous-history.js"],"sourcesContent":["import $ from '../../shared/dom7.js';\nimport appRouterCheck from './app-router-check.js';\n\nfunction clearPreviousPages(router) {\n  appRouterCheck(router, 'clearPreviousPages');\n  const app = router.app;\n  const dynamicNavbar = router.dynamicNavbar;\n  const $pagesToRemove = router.$el.children('.page').filter(pageInView => {\n    if (router.currentRoute && (router.currentRoute.modal || router.currentRoute.panel)) return true;\n    return pageInView !== router.currentPageEl;\n  });\n  $pagesToRemove.each(pageEl => {\n    const $oldPageEl = $(pageEl);\n    const $oldNavbarEl = $(app.navbar.getElByPage($oldPageEl));\n\n    if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n      $oldPageEl.addClass('stacked');\n\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPageEl, $oldNavbarEl, 'previous', undefined, {});\n      router.removePage($oldPageEl);\n\n      if (dynamicNavbar && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  });\n}\n\nfunction clearPreviousHistory() {\n  const router = this;\n  appRouterCheck(router, 'clearPreviousHistory');\n  const url = router.history[router.history.length - 1];\n  clearPreviousPages(router);\n  router.history = [url];\n  router.view.history = [url];\n  router.saveHistory();\n}\n\nexport { clearPreviousHistory }; // eslint-disable-line"],"mappings":"AAAA,OAAOA,CAAP,MAAc,sBAAd;AACA,OAAOC,cAAP,MAA2B,uBAA3B;;AAEA,SAASC,kBAAT,CAA4BC,MAA5B,EAAoC;EAClCF,cAAc,CAACE,MAAD,EAAS,oBAAT,CAAd;EACA,MAAMC,GAAG,GAAGD,MAAM,CAACC,GAAnB;EACA,MAAMC,aAAa,GAAGF,MAAM,CAACE,aAA7B;EACA,MAAMC,cAAc,GAAGH,MAAM,CAACI,GAAP,CAAWC,QAAX,CAAoB,OAApB,EAA6BC,MAA7B,CAAoCC,UAAU,IAAI;IACvE,IAAIP,MAAM,CAACQ,YAAP,KAAwBR,MAAM,CAACQ,YAAP,CAAoBC,KAApB,IAA6BT,MAAM,CAACQ,YAAP,CAAoBE,KAAzE,CAAJ,EAAqF,OAAO,IAAP;IACrF,OAAOH,UAAU,KAAKP,MAAM,CAACW,aAA7B;EACD,CAHsB,CAAvB;EAIAR,cAAc,CAACS,IAAf,CAAoBC,MAAM,IAAI;IAC5B,MAAMC,UAAU,GAAGjB,CAAC,CAACgB,MAAD,CAApB;IACA,MAAME,YAAY,GAAGlB,CAAC,CAACI,GAAG,CAACe,MAAJ,CAAWC,WAAX,CAAuBH,UAAvB,CAAD,CAAtB;;IAEA,IAAId,MAAM,CAACkB,MAAP,CAAcC,UAAd,IAA4BnB,MAAM,CAACoB,YAAP,CAAoBC,OAApB,CAA4BP,UAAU,CAAC,CAAD,CAAtC,KAA8C,CAA9E,EAAiF;MAC/EA,UAAU,CAACQ,QAAX,CAAoB,SAApB;;MAEA,IAAIpB,aAAJ,EAAmB;QACjBa,YAAY,CAACO,QAAb,CAAsB,SAAtB;MACD;IACF,CAND,MAMO;MACL;MACAtB,MAAM,CAACuB,YAAP,CAAoB,cAApB,EAAoCT,UAApC,EAAgDC,YAAhD,EAA8D,UAA9D,EAA0ES,SAA1E,EAAqF,EAArF;MACAxB,MAAM,CAACyB,UAAP,CAAkBX,UAAlB;;MAEA,IAAIZ,aAAa,IAAIa,YAAY,CAACW,MAAlC,EAA0C;QACxC1B,MAAM,CAAC2B,YAAP,CAAoBZ,YAApB;MACD;IACF;EACF,CAnBD;AAoBD;;AAED,SAASa,oBAAT,GAAgC;EAC9B,MAAM5B,MAAM,GAAG,IAAf;EACAF,cAAc,CAACE,MAAD,EAAS,sBAAT,CAAd;EACA,MAAM6B,GAAG,GAAG7B,MAAM,CAAC8B,OAAP,CAAe9B,MAAM,CAAC8B,OAAP,CAAeJ,MAAf,GAAwB,CAAvC,CAAZ;EACA3B,kBAAkB,CAACC,MAAD,CAAlB;EACAA,MAAM,CAAC8B,OAAP,GAAiB,CAACD,GAAD,CAAjB;EACA7B,MAAM,CAAC+B,IAAP,CAAYD,OAAZ,GAAsB,CAACD,GAAD,CAAtB;EACA7B,MAAM,CAACgC,WAAP;AACD;;AAED,SAASJ,oBAAT,G,CAAiC"},"metadata":{},"sourceType":"module"}